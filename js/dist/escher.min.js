!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.escher=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b){this.map=a,this.undo_stack=b,this.empty_behavior=function(){},this.rotation_mode_enabled=!1,this.rotation_drag=x(),this.selectable_mousedown=null,this.text_label_mousedown=null,this.text_label_click=null,this.selectable_drag=this.empty_behavior,this.node_mouseover=null,this.node_mouseout=null,this.label_mousedown=null,this.label_mouseover=null,this.label_mouseout=null,this.reaction_mousedown=null,this.reaction_mouseover=null,this.reaction_mouseout=null,this.bezier_drag=this.empty_behavior,this.bezier_mouseover=null,this.bezier_mouseout=null,this.reaction_label_drag=this.empty_behavior,this.node_label_drag=this.empty_behavior,this.dragging=!1,this.turn_everything_on()}function e(){this.toggle_selectable_click(!0),this.toggle_selectable_drag(!0),this.toggle_label_drag(!0),this.toggle_label_mouseover(!0),this.toggle_reaction_hover(!0)}function f(a){if(a){var b=this.map.settings.get_option("reaction_no_data_size"),c=this.map.scale;this.reaction_mouseover=function(a){var d=b;null!==a.data&&(d=c.reaction_size(a.data)),d3.select(this).selectAll(".segment").transition().style("stroke-width",2.1*d).duration(100)},this.reaction_mouseout=function(a){var d=b;null!==a.data&&(d=c.reaction_size(a.data)),d3.select(this).selectAll(".segment").transition().style("stroke-width",d).duration(100)}}else this.reaction_mouseout=null,this.reaction_mouseover=null}function g(){this.toggle_selectable_click(!1),this.toggle_selectable_drag(!1),this.toggle_label_drag(!1),this.toggle_label_mouseover(!1),this.toggle_reaction_hover(!1)}function h(a){function b(){var a=this.map.sel.selectAll("#rotation-center").data([0]),b=a.enter().append("g").attr("id","rotation-center");b.append("path").attr("d","M-32 0 L32 0").attr("class","rotation-center-line"),b.append("path").attr("d","M0 -32 L0 32").attr("class","rotation-center-line");var c=b.merge(a);c.attr("transform","translate("+this.center.x+","+this.center.y+")").attr("visibility","visible").on("mouseover",function(){var a=parseFloat(c.selectAll("path").style("stroke-width"));c.selectAll("path").style("stroke-width",2*a+"px")}).on("mouseout",function(){c.selectAll("path").style("stroke-width",null)}).call(x().on("drag",function(){var a=v.d3_transform_catch(c.attr("transform")),b=[A.event.dx+a.translate[0],A.event.dy+a.translate[1]];c.attr("transform","translate("+b+")"),this.center={x:b[0],y:b[1]}}.bind(this)))}function c(a){this.map.sel.select("#rotation-center").attr("visibility","hidden")}function d(a){var b=[],c=[];for(var d in a){var e=a[d];void 0!==e.x&&b.push(e.x),void 0!==e.y&&c.push(e.y)}return{x:v.mean(b),y:v.mean(c)}}void 0===a?this.rotation_mode_enabled=!this.rotation_mode_enabled:this.rotation_mode_enabled=a;var e=this.map.sel.selectAll(".node-circle"),f=this.map.sel.selectAll("#canvas");if(this.rotation_mode_enabled){this.map.callback_manager.run("start_rotation");var g=this.map.get_selected_nodes();if(0===Object.keys(g).length)return void console.warn("No selected nodes");this.center=d(g),b.call(this);var h=this.map,i=Object.keys(g),j=this.map.reactions,k=this.map.nodes,l=this.map.beziers,m=function(a){A.event.sourceEvent.stopPropagation()},n=function(a,b,c,d){var e=w.rotate_nodes(g,j,l,b,d);h.draw_these_nodes(e.node_ids),h.draw_these_reactions(e.reaction_ids)},o=function(a){},p=function(a,b,c){var d={};i.forEach(function(a){d[a]=k[a]});var e=w.rotate_nodes(d,j,l,-b,c);h.draw_these_nodes(e.node_ids),h.draw_these_reactions(e.reaction_ids)},q=function(a,b,c){var d={};i.forEach(function(a){d[a]=k[a]});var e=w.rotate_nodes(d,j,l,b,c);h.draw_these_nodes(e.node_ids),h.draw_these_reactions(e.reaction_ids)},r=function(){return this.center}.bind(this);this.rotation_drag=this._get_generic_angular_drag(m,n,o,p,q,r,this.map.sel),f.call(this.rotation_drag),this.selectable_drag=this.rotation_drag}else c.call(this),e.on("mousedown.center",null),f.on("mousedown.center",null),f.on("mousedown.drag",null),f.on("touchstart.drag",null),this.rotation_drag=null,this.selectable_drag=null}function i(a){if(void 0===a&&(a=null===this.selectable_mousedown),a){var b=this.map;this.selectable_mousedown=function(a){A.event.stopPropagation()},this.selectable_click=function(a){A.event.stopPropagation(),A.event.defaultPrevented||b.select_selectable(this,a,A.event.shiftKey)},this.node_mouseover=function(a){y(this).style("stroke-width",null);var b=parseFloat(y(this).style("stroke-width"));y(this.parentNode).classed("selected")||y(this).style("stroke-width",3*b+"px")},this.node_mouseout=function(a){y(this).style("stroke-width",null)}}else this.selectable_mousedown=null,this.selectable_click=null,this.node_mouseover=null,this.node_mouseout=null,this.map.sel.select("#nodes").selectAll(".node-circle").style("stroke-width",null)}function j(a){if(void 0===a&&(a=null==this.text_edit_mousedown),a){var b=this.map;this.selection;this.text_label_mousedown=function(){if(!A.event.defaultPrevented){var a=v.d3_transform_catch(y(this).attr("transform")).translate,c={x:a[0],y:a[1]};b.callback_manager.run("edit_text_label",null,y(this),c),A.event.stopPropagation()}},this.text_label_click=null,this.map.sel.select("#text-labels").selectAll(".label").classed("edit-text-cursor",!0),this.map.sel.on("mousedown.new_text_label",function(a){A.event.preventDefault();var b={x:z(a)[0],y:z(a)[1]};this.map.callback_manager.run("new_text_label",null,b)}.bind(this,this.map.sel.node()))}else this.text_label_mousedown=this.selectable_mousedown,this.text_label_click=this.selectable_click,this.map.sel.select("#text-labels").selectAll(".label").classed("edit-text-cursor",!1),this.map.sel.on("mousedown.new_text_label",null),this.map.callback_manager.run("hide_text_label_editor")}function k(a){void 0===a&&(a=this.selectable_drag===this.empty_behavior),a?(this.selectable_drag=this._get_selectable_drag(this.map,this.undo_stack),this.bezier_drag=this._get_bezier_drag(this.map,this.undo_stack)):(this.selectable_drag=this.empty_behavior,this.bezier_drag=this.empty_behavior)}function l(a){void 0===a&&(a=this.label_drag===this.empty_behavior),a?(this.reaction_label_drag=this._get_reaction_label_drag(this.map),this.node_label_drag=this._get_node_label_drag(this.map)):(this.reaction_label_drag=this.empty_behavior,this.node_label_drag=this.empty_behavior)}function m(a){void 0===a&&(a=null===this.label_mouseover),a?(this.label_mouseover=function(a,b){this.dragging||this.map.callback_manager.run("show_tooltip",null,a,b)}.bind(this),this.label_mouseout=function(){this.map.callback_manager.run("delay_hide_tooltip")}.bind(this)):this.label_mouseover=null}function n(a){void 0===a&&(a=this.bezier_drag===this.empty_behavior),a?(this.bezier_drag=this._get_bezier_drag(this.map),this.bezier_mouseover=function(a){y(this).style("stroke-width",String(3)+"px")},this.bezier_mouseout=function(a){y(this).style("stroke-width",String(1)+"px")}):(this.bezier_drag=this.empty_behavior,this.bezier_mouseover=null,this.bezier_mouseout=null)}function o(a){a.on("mousedown.drag",null),a.on("touchstart.drag",null)}function p(a,b){function c(b,c){var d=a.nodes[c],e=a.nodes[b],f=[];return d.connected_segments.forEach(function(d){var g;try{if(g=a.reactions[d.reaction_id].segments[d.segment_id],void 0===g)throw new Error("undefined segment")}catch(h){return void console.warn("Could not find connected segment "+d.segment_id)}if(g.from_node_id==c)g.from_node_id=b;else{if(g.to_node_id!=c)return void console.error("Segment does not connect to dragged node");g.to_node_id=b}e.connected_segments.push(d),f.push(v.clone(d))}),a.delete_node_data([c]),a.sel.selectAll(".node-to-combine").classed("node-to-combine",!1),a.draw_everything(),f}var d=x(),e=null,f=null,g=null,h=null,i=null,j=function(b,c){var d=a.text_labels[b];d.x=d.x+c.x,d.y=d.y+c.y},k=function(a){this.dragging=a}.bind(this);return d.on("start",function(b){if(k(!0),A.event.sourceEvent.stopPropagation(),f={x:0,y:0},-1===y(this).attr("class").indexOf("label")){var c=this.parentNode.__data__,d=c.bigg_id,g=this.parentNode;e=setTimeout(function(){g.parentNode.insertBefore(g,g.parentNode.firstChild)},200),a.sel.selectAll(".metabolite-circle").on("mouseover.combine",function(a){a.bigg_id===d&&a.node_id!==c.node_id&&y(this).style("stroke-width",String(12)+"px").classed("node-to-combine",!0)}).on("mouseout.combine",function(b){b.bigg_id===d&&a.sel.selectAll(".node-to-combine").style("stroke-width",String(2)+"px").classed("node-to-combine",!1)})}}),d.on("drag",function(b){y(this.parentNode).classed("selected")||a.select_selectable(this,b);var c={};-1===y(this).attr("class").indexOf("label")?(c.type="node",c.id=this.parentNode.__data__.node_id):(c.type="label",c.id=this.__data__.text_label_id);var d=a.get_selected_node_ids(),e=a.get_selected_text_label_ids();g=[],i=[],"node"==c.type&&-1===d.indexOf(c.id)?g.push(c.id):"label"===c.type&&-1===e.indexOf(c.id)?i.push(c.id):(g=d,i=e),h=[];var k={x:A.event.dx,y:A.event.dy};f=v.c_plus_c(f,k),g.forEach(function(b){var c=a.nodes[b],d=w.move_node_and_dependents(c,b,a.reactions,a.beziers,k);h=v.unique_concat([h,d.reaction_ids])}),i.forEach(function(a){j(a,k)}),a.draw_these_nodes(g),a.draw_these_reactions(h),a.draw_these_text_labels(i)}),d.on("end",function(){if(k(!1),null===g)return f=null,g=null,i=null,h=null,void(e=null);var d=[];if(a.sel.selectAll(".node-to-combine").each(function(a){d.push(a.node_id)}),1===d.length){var l=d[0],m=this.parentNode.__data__.node_id,n=v.clone(a.nodes[m]),o=c(l,m);b.push(function(){a.nodes[m]=n;var b=a.nodes[l],c=[];o.forEach(function(d){var e=a.reactions[d.reaction_id].segments[d.segment_id];e.from_node_id==l?e.from_node_id=m:e.to_node_id==l?e.to_node_id=m:console.error("Segment does not connect to fixed node"),b.connected_segments=b.connected_segments.filter(function(a){return!(a.reaction_id==d.reaction_id&&a.segment_id==d.segment_id)}),-1==c.indexOf(d.reaction_id)&&c.push(d.reaction_id)}),a.draw_these_nodes([m]),a.draw_these_reactions(c)},function(){c(l,m)})}else{var p=v.clone(f),q=v.clone(g),r=v.clone(i),s=v.clone(h);b.push(function(){q.forEach(function(b){var c=a.nodes[b];w.move_node_and_dependents(c,b,a.reactions,a.beziers,v.c_times_scalar(p,-1))}),r.forEach(function(a){j(a,v.c_times_scalar(p,-1))}),a.draw_these_nodes(q),a.draw_these_reactions(s),a.draw_these_text_labels(r)},function(){q.forEach(function(b){var c=a.nodes[b];w.move_node_and_dependents(c,b,a.reactions,a.beziers,p)}),r.forEach(function(a){j(a,p)}),a.draw_these_nodes(q),a.draw_these_reactions(s),a.draw_these_text_labels(r)})}a.sel.selectAll(".metabolite-circle").on("mouseover.combine",null).on("mouseout.combine",null),clearTimeout(e),f=null,g=null,i=null,h=null,e=null}),d}function q(a){var b=function(b,c,d,e,f){var g=a.reactions[b].segments[c];g[d]=v.c_plus_c(g[d],f),a.beziers[e].x=g[d].x,a.beziers[e].y=g[d].y},c=function(a){a.dragging=!0},d=function(c,d,e){b(c.reaction_id,c.segment_id,c.bezier,c.bezier_id,d),a.draw_these_reactions([c.reaction_id],!1),a.draw_these_beziers([c.bezier_id])},e=function(a){a.dragging=!1},f=function(c,d){b(c.reaction_id,c.segment_id,c.bezier,c.bezier_id,v.c_times_scalar(d,-1)),a.draw_these_reactions([c.reaction_id],!1),a.draw_these_beziers([c.bezier_id])},g=function(c,d){b(c.reaction_id,c.segment_id,c.bezier,c.bezier_id,d),a.draw_these_reactions([c.reaction_id],!1),a.draw_these_beziers([c.bezier_id])};return this._get_generic_drag(c,d,e,f,g,this.map.sel)}function r(a){var b=function(b,c){var d=a.reactions[b];d.label_x=d.label_x+c.x,d.label_y=d.label_y+c.y},c=function(b){a.callback_manager.run("hide_tooltip")},d=function(c,d,e){b(c.reaction_id,d),a.draw_these_reactions([c.reaction_id])},e=function(a){},f=function(c,d){b(c.reaction_id,v.c_times_scalar(d,-1)),a.draw_these_reactions([c.reaction_id])},g=function(c,d){b(c.reaction_id,d),a.draw_these_reactions([c.reaction_id])};return this._get_generic_drag(c,d,e,f,g,this.map.sel)}function s(a){var b=function(b,c){var d=a.nodes[b];d.label_x=d.label_x+c.x,d.label_y=d.label_y+c.y},c=function(b){a.callback_manager.run("hide_tooltip")},d=function(c,d,e){b(c.node_id,d),a.draw_these_nodes([c.node_id])},e=function(a){},f=function(c,d){b(c.node_id,v.c_times_scalar(d,-1)),a.draw_these_nodes([c.node_id])},g=function(c,d){b(c.node_id,d),a.draw_these_nodes([c.node_id])};return this._get_generic_drag(c,d,e,f,g,this.map.sel)}function t(a,b,c,d,e,f){var g,h=x(),i=this.undo_stack,j=f.node();return h.on("start",function(b){this.dragging=!0,A.event.sourceEvent.stopPropagation(),g={x:0,y:0},a(b)}.bind(this)),h.on("drag",function(a){var c={x:A.event.dx,y:A.event.dy},d={x:z(j)[0],y:z(j)[1]};g=v.c_plus_c(g,c),b(a,c,g,d)}.bind(this)),h.on("end",function(a){this.dragging=!1;var b=v.clone(a),f=v.clone(g),h={x:z(j)[0],y:z(j)[1]};i.push(function(){d(b,f,h)},function(){e(b,f,h)}),c(a)}.bind(this)),h}function u(a,b,c,d,e,f,g){var h,i=x(),j=this.undo_stack,k=g.node();return i.on("start",function(b){this.dragging=!0,A.event.sourceEvent.stopPropagation(),h=0,a(b)}.bind(this)),i.on("drag",function(a){var c={x:A.event.dx,y:A.event.dy},d={x:z(k)[0],y:z(k)[1]},e=f(),g=v.angle_for_event(c,d,e);h+=g,b(a,g,h,e)}.bind(this)),i.on("end",function(a){this.dragging=!1;var b=v.clone(a),g=h,i=v.clone(f());j.push(function(){d(b,g,i)},function(){e(b,g,i)}),c(a)}.bind(this)),i}var v=a("./utils"),w=a("./build"),x=a("d3-drag").drag,y=a("d3-selection").select,z=a("d3-selection").mouse,A=a("d3-selection"),B=v.make_class();B.prototype={init:d,toggle_rotation_mode:h,turn_everything_on:e,turn_everything_off:g,toggle_selectable_click:i,toggle_text_label_edit:j,toggle_selectable_drag:k,toggle_label_drag:l,toggle_label_mouseover:m,toggle_bezier_drag:n,toggle_reaction_hover:f,turn_off_drag:o,_get_selectable_drag:p,_get_bezier_drag:q,_get_reaction_label_drag:r,_get_node_label_drag:s,_get_generic_drag:t,_get_generic_angular_drag:u},b.exports=B},{"./build":27,"./utils":34,"d3-drag":154,"d3-selection":161}],2:[function(a,b,c){"use strict";function d(a,b,c,d){this.brush_sel=a.append("g").attr("id","brush-container");var e=this.brush_sel.node(),f=a.select(d).node().nextSibling;e!==f&&e.parentNode.insertBefore(e,f),this.enabled=b,this.map=c}function e(a){void 0===a&&(a=!this.enabled),a?this.setup_selection_brush():this.brush_sel.selectAll("*").remove()}function f(a){a.selectAll("rect").attr("cursor",null)}function g(){var a=this.map,b=this.brush_sel,c=a.sel.selectAll("#nodes,#text-labels"),d=a.canvas.size_and_location(),e=d.width,g=d.height,h=d.x,l=d.y;b.selectAll("*").remove();var m=!1,n=i().extent([[h,l],[h+e,l+g]]).on("start",function(){f(b),a.settings.get_option("hide_secondary_metabolites")&&(a.settings.set_conditional("hide_secondary_metabolites",!1),a.draw_everything(),a.set_status("Showing secondary metabolites. You can hide them again in Settings.",2e3))}).on("brush",function(){var a=k.event.sourceEvent.shiftKey,b=j(this);if(null!==b){var d=a?c.selectAll(".node:not(.selected),.text-label:not(.selected)"):c.selectAll(".node,.text-label");d.classed("selected",function(a){var c=a.x,d=a.y;return b[0][0]<=c&&c<b[1][0]&&b[0][1]<=d&&d<b[1][1]})}}).on("end",function(){f(b);var c=j(this);null===c?m?m=!1:a.select_none():(m=!0,b.call(n.move,null))});b.call(n),f(b)}var h=a("./utils"),i=a("d3-brush").brush,j=a("d3-brush").brushSelection,k=(a("d3-scale").scaleIdentity,a("d3-selection")),l=(a("d3-selection").select,h.make_class());l.prototype={init:d,toggle:e,setup_selection_brush:g},b.exports=l},{"./utils":34,"d3-brush":150,"d3-scale":160,"d3-selection":161}],3:[function(a,b,c){"use strict";function d(a,b,c,d){var e=a.append("div").attr("id","rxn-input");this.placed_div=s(e,b,{x:240,y:0}),this.placed_div.hide();var f=t(e.node(),{backgroundColor:"#eee"});x(f.input),this.completely=f,e.append("button").attr("class","button input-close-button").text("×").on("mousedown",function(){this.hide_dropdown()}.bind(this)),this.map=b;var g=90;this.direction_arrow=new u(b.sel),this.direction_arrow.set_rotation(g),this.setup_map_callbacks(b),this.zoom_container=c,this.setup_zoom_callbacks(c),this.settings=d,this.toggle(!1),this.target_coords=null}function e(a){a.callback_manager.set("select_metabolite_with_id.input",function(a,b){this.is_active&&(this.reload(a,b,!1),this.show_dropdown(b)),this.hide_target()}.bind(this)),a.callback_manager.set("select_selectable.input",function(a,b,c){this.hide_target(),1==a&&this.is_active&&c?(this.reload(b,c,!1),this.show_dropdown(c)):this.toggle(!1)}.bind(this)),a.callback_manager.set("deselect_nodes",function(){this.direction_arrow.hide(),this.hide_dropdown()}.bind(this)),a.callback_manager.set("before_svg_export",function(){this.direction_arrow.hide(),this.hide_target()}.bind(this))}function f(a){a.callback_manager.set("zoom.input",function(){this.is_active&&this.place_at_selected()}.bind(this))}function g(){return this.placed_div.is_visible()}function h(a){void 0===a?this.is_active=!this.is_active:this.is_active=a,this.is_active?(this.toggle_start_reaction_listener(!0),w.isNull(this.target_coords)?this.reload_at_selected():this.placed_div.place(this.target_coords),this.show_dropdown(),this.map.set_status("Click on the canvas or an existing metabolite"),this.direction_arrow.show()):(this.toggle_start_reaction_listener(!1),this.hide_dropdown(),this.map.set_status(null),this.direction_arrow.hide())}function i(a){this.clear_escape=this.map.key_manager.add_escape_listener(function(){this.hide_dropdown()}.bind(this),!0),this.completely.input.blur(),this.completely.repaint(),this.completely.setText(""),this.completely.input.focus()}function j(){this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.placed_div.hide(),this.completely.input.blur(),this.completely.hideDropDown()}function k(){this.map.deselect_text_labels();var a=this.map.select_single_node();if(null!=a){var b={x:a.x,y:a.y};this.place(b)}}function l(a){this.placed_div.place(a),this.direction_arrow.set_location(a),this.direction_arrow.show()}function m(){this.map.deselect_text_labels();var a=this.map.select_single_node();if(null==a)return!1;var b={x:a.x,y:a.y};return this.reload(a,b,!1),!0}function n(a,b,c){function d(a,b){for(var c in b)if(b[c].bigg_id===a)return!0;return!1}if(!c&&!a)return void console.error("No selected node, and not starting from scratch");if(this.place(b),null===this.map.cobra_model)return void this.completely.setText("Cannot add: No model.");var e="name"===this.settings.get_option("identifiers_on_map"),f=this.settings.get_option("allow_building_duplicate_reactions"),g=[],h=this.map.cobra_model.reactions,i=this.map.cobra_model.metabolites,j=this.map.reactions,k=this.map.has_data_on_reactions,l=(this.map.reaction_data,this.map.reaction_data_styles,a?e?a.name:a.bigg_id:""),m=function(a,b){return a.replace(new RegExp("(^| )("+b.join("|")+")($| )","g"),"$1<b>$2</b>$3")},n={};for(var o in h){var p=h[o],q=p.name,s=e?q:o;if(f||!d(o,j))for(var t in p.metabolites)if(c||t==a.bigg_id){if(o in n)continue;i[t].name;if(k)g.push({reaction_data:p.data,html:"<b>"+s+"</b>: "+p.data_string,matches:[s],id:o}),n[o]=!0;else{var u,x={},y=[];if(e)for(u in p.metabolites){var z=i[u].name;x[z]=p.metabolites[u],y.push(z)}else{x=r.clone(p.metabolites);for(u in p.metabolites)y.push(u)}var A=w.flatten(p.genes.map(function(a){return[a.name,a.bigg_id]})),B=v.build_reaction_string(x,p.reversibility,p.lower_bound,p.upper_bound);g.push({html:"<b>"+s+"</b>	"+m(B,[l]),matches:[s].concat(y).concat(A),id:o}),n[o]=!0}}}var C;C=k?function(a,b){return Math.abs(b.reaction_data)-Math.abs(a.reaction_data)}:function(a,b){return a.html.toLowerCase()<b.html.toLowerCase()?-1:1},g=g.sort(C);var D=this.completely;D.options=g,D.setText("");var E=this.direction_arrow,F=function(d){if(null!==d)if(c)this.map.new_reaction_from_scratch(d,b,E.get_rotation());else{if(!(a.node_id in this.map.nodes))return console.error("Selected node no longer exists"),void this.hide_dropdown();this.map.new_reaction_for_metabolite(d,a.node_id,E.get_rotation())}}.bind(this);D.onEnter=function(a){this.setText(""),this.onChange(""),F(a)}}function o(a){if(void 0===a)this.start_reaction_listener=!this.start_reaction_listener;else{if(this.start_reaction_listener===a)return;this.start_reaction_listener=a}this.start_reaction_listener?(this.map.sel.on("click.start_reaction",function(a){if(!this.direction_arrow.dragging){var b={x:y(a)[0],y:y(a)[1]};this.map.deselect_nodes(),this.map.deselect_text_labels(),this.reload(null,b,!0),this.show_target(this.map,b),this.show_dropdown(b)}}.bind(this,this.map.sel.node())),this.map.sel.classed("start-reaction-cursor",!0)):(this.map.sel.on("click.start_reaction",null),this.map.sel.classed("start-reaction-cursor",!1),this.hide_target())}function p(){this.target_coords&&this.map.sel.selectAll(".start-reaction-target").remove(),this.target_coords=null}function q(a,b){var c=a.sel.selectAll(".start-reaction-target").data([12,5]);c.enter().append("circle").classed("start-reaction-target",!0).attr("r",function(a){return a}).style("stroke-width",4).merge(c).style("visibility","visible").attr("transform","translate("+b.x+","+b.y+")"),this.target_coords=b}var r=a("./utils"),s=a("./PlacedDiv"),t=a("./complete.ly"),u=a("./DirectionArrow"),v=a("./CobraModel"),w=a("underscore"),x=a("d3-selection").select,y=a("d3-selection").mouse,z=r.make_class();z.prototype={init:d,setup_map_callbacks:e,setup_zoom_callbacks:f,is_visible:g,toggle:h,show_dropdown:i,hide_dropdown:j,place_at_selected:k,place:l,reload_at_selected:m,reload:n,toggle_start_reaction_listener:o,hide_target:p,show_target:q},b.exports=z},{"./CobraModel":7,"./DirectionArrow":9,"./PlacedDiv":14,"./complete.ly":28,"./utils":34,"d3-selection":161,underscore:331}],4:[function(a,b,c){"use strict";function d(a,b,c,d,e){if(d?d instanceof Y||(d=X("node"in d?d.node():d)):d=X("body").append("div"),e||(e={}),c||(c=T),this.map_data=a,this.model_data=b,this.embedded_css=c,this.selection=d,this.selection.datum(this),this.selection.__builder__=this,this.has_custom_reaction_styles=Boolean(e.reaction_styles),this.options=F.set_options(e,{menu:"all",scroll_behavior:"pan",use_3d_transform:!F.check_browser("safari"),enable_editing:!0,enable_keys:!0,enable_search:!0,fill_screen:!1,zoom_to_element:null,full_screen_button:!1,ignore_bootstrap:!1,starting_reaction:null,never_ask_before_quit:!1,unique_map_id:null,primary_metabolite_radius:20,secondary_metabolite_radius:10,marker_radius:5,gene_font_size:18,hide_secondary_metabolites:!1,show_gene_reaction_rules:!1,hide_all_labels:!1,enable_fva_opacity:!0,canvas_size_and_loc:null,reaction_data:null,reaction_fva_data:null,reaction_styles:["color","size","text"],reaction_compare_style:"log2_fold",reaction_scale:[{type:"min",color:"#c8c8c8",size:12},{type:"median",color:"#9696ff",size:20},{type:"max",color:"#ff0000",size:25}],reaction_no_data_color:"#dcdcdc",reaction_no_data_size:8,reaction_knockout:[],gene_data:null,and_method_in_gene_reaction_rule:"mean",metabolite_data:null,metabolite_styles:["color","size","text"],metabolite_compare_style:"log2_fold",metabolite_scale:[{type:"min",color:"#fffaf0",size:20},{type:"median",color:"#f1c470",size:30},{type:"max",color:"#800000",size:40}],metabolite_no_data_color:"#ffffff",metabolite_no_data_size:10,identifiers_on_map:"bigg_id",highlight_missing:!1,allow_building_duplicate_reactions:!1,cofactors:["atp","adp","nad","nadh","nadp","nadph","gtp","gdp","h","coa","ump","h2o","ppi"],tooltip_component:V,enable_tooltips:!0,first_load_callback:null},{primary_metabolite_radius:!0,secondary_metabolite_radius:!0,marker_radius:!0,gene_font_size:!0,reaction_no_data_size:!0,metabolite_no_data_size:!0}),F.check_for_parent_tag(this.selection,"svg"))throw new Error("Builder cannot be placed within an svg node becuase UI elements are html-based.");var f=function(a,b){this.options[a]=b}.bind(this),g=function(a){return this.options[a]}.bind(this),h=["hide_secondary_metabolites","show_gene_reaction_rules","hide_all_labels","scroll_behavior","reaction_styles","reaction_compare_style","reaction_scale","reaction_no_data_color","reaction_no_data_size","and_method_in_gene_reaction_rule","metabolite_styles","metabolite_compare_style","metabolite_scale","metabolite_no_data_color","metabolite_no_data_size","identifiers_on_map","highlight_missing","allow_building_duplicate_reactions","enable_tooltips"];this.settings=new O(f,g,h);var i=["reaction_scale","metabolite_scale"];i.forEach(function(a){this.settings.streams[a].onValue(function(b){var c=["min","max"];c.forEach(function(c){var d=b.reduce(function(a,b){return a||b.type===c},!1);d||(b.push({type:c,color:"#ffffff",size:10}),this.settings.set_conditional(a,b))}.bind(this))}.bind(this))}.bind(this)),this.callback_manager=L(),null!==this.options.first_load_callback&&this.callback_manager.set("first_load",this.options.first_load_callback),this.load_model(this.model_data,!1),this.load_map(this.map_data,!1);var j=this._reaction_check_add_abs();this._update_data(!0,!0),this.settings.status_bus.onValue(function(a){if("accepted"===a){if(this._update_data(!0,!0,["reaction","metabolite"],!1),null!==this.zoom_container){var b=this.settings.get_option("scroll_behavior");this.zoom_container.set_scroll_behavior(b)}null!==this.map&&(this.map.draw_all_nodes(!1),this.map.draw_all_reactions(!0,!1),this.map.select_none())}}.bind(this)),this.callback_manager.run("first_load",this),null!==j&&setTimeout(j,500)}function e(a,b){W.isUndefined(b)&&(b=!0),W.isNull(a)?this.cobra_model=null:this.cobra_model=J.from_cobra_json(a),this.map&&(this.map.cobra_model=this.cobra_model,b&&this._update_data(!0,!1),this.settings.get_option("highlight_missing")&&this.map.draw_all_reactions(!1,!1)),this.callback_manager.run("load_model",null,a,b)}function f(a,b){W.isUndefined(b)&&(b=!0);F.remove_child_nodes(this.selection),this.zoom_container=new H(this.selection,this.options.scroll_behavior,this.options.use_3d_transform,this.options.fill_screen);var c=this.zoom_container.zoomed_sel,d=this.zoom_container.svg;this.map&&this.map.key_manager.toggle(!1),null!==a?this.map=I.from_data(a,d,this.embedded_css,c,this.zoom_container,this.settings,this.cobra_model,this.options.enable_search):this.map=new I(d,this.embedded_css,c,this.zoom_container,this.settings,this.cobra_model,this.options.canvas_size_and_loc,this.options.enable_search),this.zoom_container.callback_manager.set("svg_start",function(){this.map.set_status("Drawing ...")}.bind(this)),this.zoom_container.callback_manager.set("svg_finish",function(){this.map.set_status("")}.bind(this)),b&&this._update_data(!1,!0),this.build_input=new G(this.selection,this.map,this.zoom_container,this.settings),this.text_edit_input=new Q(this.selection,this.map,this.zoom_container),this.tooltip_container=new U(this.selection,this.map,this.options.tooltip_component,this.zoom_container),this.brush=new K(c,!1,this.map,".canvas-group"),this.map.canvas.callback_manager.set("resize",function(){this.brush.toggle(!0)}.bind(this)),this._setup_modes(this.map,this.brush,this.zoom_container);var e=this.selection.append("div").attr("class","search-menu-container").append("div").attr("class","search-menu-container-inline"),f=e.append("div"),g=e.append("div"),h=this.selection.append("div");this.search_bar=new N(g,this.map.search_index,this.map),this.search_bar.callback_manager.set("show",function(){this.settings_bar.toggle(!1)}.bind(this));var i=this.selection.append("div"),j=function(a,b){var c=this.options[a+"_styles"];if(b&&-1===c.indexOf("abs"))c.push("abs");else if(!b){var d=c.indexOf("abs");-1!==d&&(this.options[a+"_styles"]=c.slice(0,d).concat(c.slice(d+1)))}this._update_data(!1,!0,a)}.bind(this);this.settings_bar=new P(i,this.settings,this.map,j),this.settings_bar.callback_manager.set("show",function(){this.search_bar.toggle(!1)}.bind(this));var k=this._get_keys(this.map,this.zoom_container,this.search_bar,this.settings_bar,this.options.enable_editing,this.options.full_screen_button);if(this.map.key_manager.assigned_keys=k,this.map.key_manager.input_list=[this.build_input,this.search_bar,this.settings_bar,this.text_edit_input],this.map.key_manager.update(),this.map.key_manager.toggle(this.options.enable_keys),"all"===this.options.menu&&(this.options.ignore_bootstrap?console.error("Cannot create the dropdown menus if ignore_bootstrap = true"):this._set_up_menu(f,this.map,this.map.key_manager,k,this.options.enable_editing,this.options.enable_keys,this.options.full_screen_button)),this._set_up_button_panel(h,k,this.options.enable_editing,this.options.enable_keys,this.options.full_screen_button,this.options.menu,this.options.ignore_bootstrap),this.options.zoom_to_element){var l=this.options.zoom_to_element.type,m=this.options.zoom_to_element.id;if(W.isUndefined(l)||-1===["reaction","node"].indexOf(l))throw new Error('zoom_to_element type must be "reaction" or "node"');if(W.isUndefined(m))throw new Error("zoom_to_element must include id");"reaction"===l?this.map.zoom_to_reaction(m):"node"===l&&this.map.zoom_to_node(m)}else if(null!==a)this.map.zoom_extent_canvas();else if(null!==this.options.starting_reaction&&null!==this.cobra_model){var n=this.zoom_container.get_size(),o={x:n.width/2,y:n.height/4};this.map.new_reaction_from_scratch(this.options.starting_reaction,o,90),this.map.zoom_extent_nodes()}else this.map.zoom_extent_canvas();this._setup_status(this.selection,this.map);this._setup_quick_jump(this.selection),this.options.enable_editing?this.zoom_mode():this.view_mode(),this.options.enable_editing&&this._setup_confirm_before_exit(),this.map.draw_everything()}function g(a){this.search_bar.toggle(!1),this.build_input.toggle("build"==a),this.build_input.direction_arrow.toggle("build"==a),"all"==this.options.menu&&this.options.enable_editing&&this._toggle_direction_buttons("build"==a),this.brush.toggle("brush"==a),this.zoom_container.toggle_pan_drag("zoom"==a||"view"==a),this.map.canvas.toggle_resize("zoom"==a||"brush"==a),"rotate"==a?(this.map.behavior.toggle_selectable_drag(!1),this.map.behavior.toggle_rotation_mode(!0)):(this.map.behavior.toggle_rotation_mode("rotate"==a),this.map.behavior.toggle_selectable_drag("brush"==a)),this.map.behavior.toggle_selectable_click("build"==a||"brush"==a),this.map.behavior.toggle_label_drag("brush"==a),this.map.behavior.toggle_label_mouseover(!0),this.map.behavior.toggle_text_label_edit("text"==a),this.map.behavior.toggle_bezier_drag("brush"==a),this.map.behavior.toggle_reaction_hover("zoom"==a||"view"==a),("view"==a||"text"==a)&&this.map.select_none(),"rotate"==a&&this.map.deselect_text_labels(),this.map.draw_everything()}function h(){this.callback_manager.run("view_mode"),this._set_mode("view")}function i(){this.callback_manager.run("build_mode"),this._set_mode("build")}function j(){this.callback_manager.run("brush_mode"),this._set_mode("brush")}function k(){this.callback_manager.run("zoom_mode"),this._set_mode("zoom")}function l(){this.callback_manager.run("rotate_mode"),this._set_mode("rotate")}function m(){this.callback_manager.run("text_mode"),this._set_mode("text")}function n(){var a=this.options.reaction_styles;return null===this.options.reaction_data||this.has_custom_reaction_styles||W.contains(a,"abs")?null:(this.settings.set_conditional("reaction_styles",a.concat("abs")),function(){this.map.set_status("Visualizing absolute value of reaction data. Change this option in Settings.",5e3)}.bind(this))}function o(a){this.options.reaction_data=a;var b=this._reaction_check_add_abs();this._update_data(!0,!0,"reaction"),
b?b():this.map.set_status("")}function p(a){this.options.enable_fva_opacity&&(this.options.reaction_fva_data=a,this.map.update_these_reactions_opacity(a),this.map.set_status(""))}function q(a){this.map.clear_these_knockouts(this.options.reaction_knockout),this.map.draw_these_knockouts(a),this.options.reaction_knockout=a,this.map.set_status("")}function r(a){this.options.reaction_knockout.push(a),this.map.draw_these_knockouts(this.options.reaction_knockout),this.map.set_status("")}function s(a){this.options.reaction_knockout.remove(a),this.map.clear_these_knockouts(this.options.reaction_knockout),this.map.set_status("")}function t(){this.map.draw_these_knockouts(this.options.reaction_knockout),this.map.set_status("")}function u(a,b){b&&this.settings.set_conditional("show_gene_reaction_rules",!1),this.options.gene_data=a,this._update_data(!0,!0,"reaction"),this.map.set_status("")}function v(a){this.options.metabolite_data=a,this._update_data(!0,!0,"metabolite"),this.map.set_status("")}function w(a,b,c,d){function e(a,b,c){var d={};return null!==b&&F.extend(d,b.reactions),null!==c&&F.extend(d,c.reactions,!0),S.import_and_check(a,"gene_data",d)}void 0===c&&(c=["reaction","metabolite"]),void 0===d&&(d=!0);var f,g,h,i=-1!==c.indexOf("metabolite"),j=-1!==c.indexOf("reaction");i&&b&&null!==this.map&&(f=S.import_and_check(this.options.metabolite_data,"metabolite_data"),this.map.apply_metabolite_data_to_map(f),d&&this.map.draw_all_nodes(!1)),j&&(null!==this.options.reaction_data&&b&&null!==this.map?(g=S.import_and_check(this.options.reaction_data,"reaction_data"),this.map.apply_reaction_data_to_map(g),d&&this.map.draw_all_reactions(!1,!1)):null!==this.options.gene_data&&b&&null!==this.map?(h=e(this.options.gene_data,this.cobra_model,this.map),this.map.apply_gene_data_to_map(h),d&&this.map.draw_all_reactions(!1,!1)):b&&null!==this.map&&(this.map.apply_reaction_data_to_map(null),d&&this.map.draw_all_reactions(!1,!1))),this.update_model_timer&&clearTimeout(this.update_model_timer);var k=5;this.update_model_timer=setTimeout(function(){i&&a&&null!==this.cobra_model&&(f||(f=S.import_and_check(this.options.metabolite_data,"metabolite_data")),this.cobra_model.apply_metabolite_data(f,this.options.metabolite_styles,this.options.metabolite_compare_style)),j&&(null!==this.options.reaction_data&&a&&null!==this.cobra_model?(g||(g=S.import_and_check(this.options.reaction_data,"reaction_data")),this.cobra_model.apply_reaction_data(g,this.options.reaction_styles,this.options.reaction_compare_style)):null!==this.options.gene_data&&a&&null!==this.cobra_model?(h||(h=e(this.options.gene_data,this.cobra_model,this.map)),this.cobra_model.apply_gene_data(h,this.options.reaction_styles,this.options.identifiers_on_map,this.options.reaction_compare_style,this.options.and_method_in_gene_reaction_rule)):a&&null!==this.cobra_model&&this.cobra_model.apply_reaction_data(null,this.options.reaction_styles,this.options.reaction_compare_style)),this.callback_manager.run("update_data",null,a,b,c,d)}.bind(this),k)}function x(a,b,c,d,e,f,g,h){function i(a,b){function c(a){if(!("map_id"in a[0]&&"reactions"in a[1]&&"nodes"in a[1]&&"canvas"in a[1]))throw new Error("Bad map data.")}if(a)return console.warn(a),void this.map.set_status("Error loading map: "+a,2e3);try{c(b),this.load_map(b),this.map.set_status("Loaded map "+b[0].map_name,3e3)}catch(d){console.warn(d),this.map.set_status("Error loading map: "+d,2e3)}}function j(a,b){if(a)return console.warn(a),void this.map.set_status("Error loading model: "+a,2e3);try{this.load_model(b,!0),this.build_input.toggle(!1),"id"in b?this.map.set_status("Loaded model "+b.id,3e3):this.map.set_status("Loaded model (no model id)",3e3)}catch(c){console.warn(c),this.map.set_status("Error loading model: "+c,2e3)}}function k(a,b){return a?(console.warn(a),void this.map.set_status("Could not parse file as JSON or CSV",2e3)):(null!==b&&this.set_gene_data(null),void this.set_reaction_data(b))}function l(a,b){return a?(console.warn(a),void this.map.set_status("Could not parse file as JSON or CSV",2e3)):void this.set_metabolite_data(b)}function m(a,b){return a?(console.warn(a),void this.map.set_status("Could not parse file as JSON or CSV",2e3)):(null!==b&&this.set_reaction_data(null),this.settings.set_conditional("show_gene_reaction_rules",!0),void this.set_gene_data(b))}var n=a.attr("id","menu").append("ul").attr("class","nav nav-pills");M.dropdown_menu(n,"Map").button({key:d.save,text:"Save map JSON",key_text:f?" (Ctrl+S)":null}).button({text:"Load map JSON",key_text:f?" (Ctrl+O)":null,input:{assign:c.assigned_keys.load,key:"fn",fn:i.bind(this),pre_fn:function(){b.set_status("Loading map ...")},failure_fn:function(){b.set_status("")}}}).button({key:d.save_svg,text:"Export as SVG",key_text:f?" (Ctrl+Shift+S)":null}).button({key:d.save_png,text:"Export as PNG",key_text:f?" (Ctrl+Shift+P)":null}).button({key:d.clear_map,text:"Clear map"});var o=M.dropdown_menu(n,"Model").button({text:"Load COBRA model JSON",key_text:f?" (Ctrl+M)":null,input:{assign:c.assigned_keys.load_model,key:"fn",fn:j.bind(this),pre_fn:function(){b.set_status("Loading model ...")},failure_fn:function(){b.set_status("")}}}).button({id:"convert_map",key:d.convert_map,text:"Update names and gene reaction rules using model"}).button({id:"clear_model",key:d.clear_model,text:"Clear model"}),p=function(){o.dropdown.selectAll("li").classed("escher-disabled",function(a){return"clear_model"!=a.id&&"convert_map"!=a.id||null!==this.cobra_model?null:!0}.bind(this))}.bind(this);p(),this.callback_manager.set("load_model",p);var q=M.dropdown_menu(n,"Data").button({input:{assign:c.assigned_keys.load_reaction_data,key:"fn",fn:k.bind(this),accept_csv:!0,pre_fn:function(){b.set_status("Loading reaction data ...")},failure_fn:function(){b.set_status("")}},text:"Load reaction data"}).button({key:d.clear_reaction_data,text:"Clear reaction data"}).divider().button({input:{fn:m.bind(this),accept_csv:!0,pre_fn:function(){b.set_status("Loading gene data ...")},failure_fn:function(){b.set_status("")}},text:"Load gene data"}).button({key:d.clear_gene_data,text:"Clear gene data"}).divider().button({input:{fn:l.bind(this),accept_csv:!0,pre_fn:function(){b.set_status("Loading metabolite data ...")},failure_fn:function(){b.set_status("")}},text:"Load metabolite data"}).button({key:d.clear_metabolite_data,text:"Clear metabolite data"}),r=function(){q.dropdown.selectAll("li").classed("escher-disabled",function(a){return a?"Clear reaction data"==a.text&&null===this.options.reaction_data?!0:"Clear gene data"==a.text&&null===this.options.gene_data?!0:"Clear metabolite data"==a.text&&null===this.options.metabolite_data?!0:null:null}.bind(this))}.bind(this);r(),this.callback_manager.set("update_data",r);var s=M.dropdown_menu(n,"Edit",!0);e?s.button({key:d.zoom_mode,id:"zoom-mode-menu-button",text:"Pan mode",key_text:f?" (Z)":null}).button({key:d.brush_mode,id:"brush-mode-menu-button",text:"Select mode",key_text:f?" (V)":null}).button({key:d.build_mode,id:"build-mode-menu-button",text:"Add reaction mode",key_text:f?" (N)":null}).button({key:d.rotate_mode,id:"rotate-mode-menu-button",text:"Rotate mode",key_text:f?" (R)":null}).button({key:d.text_mode,id:"text-mode-menu-button",text:"Text mode",key_text:f?" (T)":null}).divider().button({key:d["delete"],text:"Delete",key_text:f?" (Del)":null}).button({key:d.undo,text:"Undo",key_text:f?" (Ctrl+Z)":null}).button({key:d.redo,text:"Redo",key_text:f?" (Ctrl+Shift+Z)":null}).button({key:d.toggle_primary,text:"Toggle primary/secondary",key_text:f?" (P)":null}).button({key:d.cycle_primary,text:"Rotate reactant locations",key_text:f?" (C)":null}).button({key:d.select_all,text:"Select all",key_text:f?" (Ctrl+A)":null}).button({key:d.select_none,text:"Select none",key_text:f?" (Ctrl+Shift+A)":null}).button({key:d.invert_selection,text:"Invert selection"}):s.button({key:d.view_mode,id:"view-mode-menu-button",text:"View mode"});var t=M.dropdown_menu(n,"View",!0).button({key:d.zoom_in,text:"Zoom in",key_text:f?" (+)":null}).button({key:d.zoom_out,text:"Zoom out",key_text:f?" (-)":null}).button({key:d.extent_nodes,text:"Zoom to nodes",key_text:f?" (0)":null}).button({key:d.extent_canvas,text:"Zoom to canvas",key_text:f?" (1)":null}).button({key:d.search,text:"Find",key_text:f?" (F)":null});g&&t.button({key:d.full_screen,text:"Full screen",key_text:f?" (2)":null}),e&&(t.button({key:d.toggle_beziers,id:"bezier-button",text:"Show control points",key_text:f?" (B)":null}),b.callback_manager.set("toggle_beziers.button",function(a){n.select("#bezier-button").select(".dropdown-button-text").text((a?"Hide":"Show")+" control points"+(f?" (B)":""))})),t.divider().button({key:d.show_settings,text:"Settings",key_text:f?" (,)":null}),n.append("a").attr("class","help-button").attr("target","#").attr("href","https://escher.readthedocs.org").text("?");var u=function(a){$(this.selection.node()).find("#"+a).button("toggle");var b=["zoom-mode-menu-button","brush-mode-menu-button","build-mode-menu-button","rotate-mode-menu-button","view-mode-menu-button","text-mode-menu-button"];b.forEach(function(b){var c=b.replace("-menu","");this.selection.select("#"+b).select("span").classed("glyphicon",c==a).classed("glyphicon-ok",c==a)}.bind(this))};this.callback_manager.set("zoom_mode",u.bind(this,"zoom-mode-button")),this.callback_manager.set("brush_mode",u.bind(this,"brush-mode-button")),this.callback_manager.set("build_mode",u.bind(this,"build-mode-button")),this.callback_manager.set("rotate_mode",u.bind(this,"rotate-mode-button")),this.callback_manager.set("view_mode",u.bind(this,"view-mode-button")),this.callback_manager.set("text_mode",u.bind(this,"text-mode-button"))}function y(a,b,c,d,e,f,g){var h=a.append("ul").attr("class","nav nav-pills nav-stacked").attr("id","button-panel");if(M.individual_button(h.append("li"),{key:b.zoom_in,text:"+",id:"zoom-in-button",icon:"glyphicon glyphicon-plus-sign",tooltip:"Zoom in",key_text:d?" (+)":null,ignore_bootstrap:g}),M.individual_button(h.append("li"),{key:b.zoom_out,text:"–",id:"zoom-out-button",icon:"glyphicon glyphicon-minus-sign",tooltip:"Zoom out",key_text:d?" (-)":null,ignore_bootstrap:g}),M.individual_button(h.append("li"),{key:b.extent_canvas,text:"↔",id:"extend-button",icon:"glyphicon glyphicon-resize-full",tooltip:"Zoom to canvas",key_text:d?" (1)":null,ignore_bootstrap:g}),e&&M.individual_button(h.append("li"),{key:b.full_screen,text:"▣",icon:"glyphicon glyphicon-fullscreen",tooltip:"Full screen",key_text:d?" (2)":null,ignore_bootstrap:g}),c&&"all"===f){M.radio_button_group(h.append("li")).button({key:b.zoom_mode,id:"zoom-mode-button",text:"Z",icon:"glyphicon glyphicon-move",tooltip:"Pan mode",key_text:d?" (Z)":null,ignore_bootstrap:g}).button({key:b.brush_mode,text:"V",id:"brush-mode-button",icon:"glyphicon glyphicon-hand-up",tooltip:"Select mode",key_text:d?" (V)":null,ignore_bootstrap:g}).button({key:b.build_mode,text:"N",id:"build-mode-button",icon:"glyphicon glyphicon-plus",tooltip:"Add reaction mode",key_text:d?" (N)":null,ignore_bootstrap:g}).button({key:b.rotate_mode,text:"R",id:"rotate-mode-button",icon:"glyphicon glyphicon-repeat",tooltip:"Rotate mode",key_text:d?" (R)":null,ignore_bootstrap:g}).button({key:b.text_mode,text:"T",id:"text-mode-button",icon:"glyphicon glyphicon-font",tooltip:"Text mode",key_text:d?" (T)":null,ignore_bootstrap:g}),this.direction_buttons=h.append("li");M.button_group(this.direction_buttons).button({key:b.direction_arrow_left,text:"←",icon:"glyphicon glyphicon-arrow-left",tooltip:"Direction arrow (←)",ignore_bootstrap:g}).button({key:b.direction_arrow_right,text:"→",icon:"glyphicon glyphicon-arrow-right",tooltip:"Direction arrow (→)",ignore_bootstrap:g}).button({key:b.direction_arrow_up,text:"↑",icon:"glyphicon glyphicon-arrow-up",tooltip:"Direction arrow (↑)",ignore_bootstrap:g}).button({key:b.direction_arrow_down,text:"↓",icon:"glyphicon glyphicon-arrow-down",tooltip:"Direction arrow (↓)",ignore_bootstrap:g})}}function z(a){W.isUndefined(a)&&(a="block"===!this.direction_buttons.style("display")),this.direction_buttons.style("display",a?"block":"none")}function A(a,b){var c=a.append("div").attr("id","status");return b.callback_manager.set("set_status",function(a){c.html(a)}),c}function B(a){var b=function(a,b,c){if(this.options.enable_editing&&!this.options.never_ask_before_quit&&!confirm("You will lose any unsaved changes.\n\nAre you sure you want to switch maps?"))return void(c&&c(!1));this.map.set_status("Loading map "+a+" ...");var d=F.name_to_url(a,b);Z(d,function(a,b){return a?(console.warn("Could not load data: "+a),this.map.set_status("Could not load map",2e3),void(c&&c(!1))):(c&&c(!0),this.load_map(b),void this.map.set_status(""))}.bind(this))}.bind(this);this.quick_jump=R(a,b)}function C(a,b,c){var d={};a.callback_manager.set("start_rotation",function(){d.brush=b.enabled,b.toggle(!1),d.zoom=c.zoom_on,c.toggle_pan_drag(!1),d.selectable_mousedown=null!==a.behavior.selectable_mousedown,a.behavior.toggle_selectable_click(!1),d.label_mouseover=null!==a.behavior.label_mouseover,a.behavior.toggle_label_mouseover(!1)}),a.callback_manager.set("end_rotation",function(){b.toggle(d.brush),c.toggle_pan_drag(d.zoom),a.behavior.toggle_selectable_click(d.selectable_mousedown),a.behavior.toggle_label_mouseover(d.label_mouseover),d={}})}function D(a,b,c,d,e,f){var g={save:{key:"ctrl+s",target:a,fn:a.save},save_svg:{key:"ctrl+shift+s",target:a,fn:a.save_svg},save_png:{key:"ctrl+shift+p",target:a,fn:a.save_png},load:{key:"ctrl+o",fn:null},convert_map:{target:a,fn:a.convert_map},clear_map:{target:a,fn:a.clear_map},load_model:{key:"ctrl+m",fn:null},clear_model:{fn:this.load_model.bind(this,null,!0)},load_reaction_data:{fn:null},clear_reaction_data:{target:this,fn:function(){this.set_reaction_data(null)}},load_metabolite_data:{fn:null},clear_metabolite_data:{target:this,fn:function(){this.set_metabolite_data(null)}},load_gene_data:{fn:null},clear_gene_data:{target:this,fn:function(){this.set_gene_data(null,!0)}},zoom_in_ctrl:{key:"ctrl+=",target:b,fn:b.zoom_in},zoom_in:{key:"=",target:b,fn:b.zoom_in,ignore_with_input:!0},zoom_out_ctrl:{key:"ctrl+-",target:b,fn:b.zoom_out},zoom_out:{key:"-",target:b,fn:b.zoom_out,ignore_with_input:!0},extent_nodes_ctrl:{key:"ctrl+0",target:a,fn:a.zoom_extent_nodes},extent_canvas_ctrl:{key:"ctrl+1",target:a,fn:a.zoom_extent_canvas},search_ctrl:{key:"ctrl+f",fn:c.toggle.bind(c,!0)},view_mode:{target:this,fn:this.view_mode,ignore_with_input:!0},show_settings_ctrl:{key:"ctrl+,",target:d,fn:d.toggle}};return f&&F.extend(g,{full_screen_ctrl:{key:"ctrl+2",target:a,fn:a.full_screen}}),e&&F.extend(g,{build_mode:{key:"ctrl+n",target:this,fn:this.build_mode,ignore_with_input:!0},brush_mode:{key:"ctrl+v",target:this,fn:this.brush_mode,ignore_with_input:!0},rotate_mode:{key:"ctrl+r",target:this,fn:this.rotate_mode,ignore_with_input:!0},text_mode:{key:"ctrl+t",target:this,fn:this.text_mode,ignore_with_input:!0},toggle_beziers:{key:"ctrl+b",target:a,fn:a.toggle_beziers,ignore_with_input:!0},delete_ctrl:{key:"ctrl+backspace",target:a,fn:a.delete_selected,ignore_with_input:!0},toggle_primary:{key:"ctrl+p",target:a,fn:a.toggle_selected_node_primary,ignore_with_input:!0},cycle_primary:{key:"ctrl+c",target:a,fn:a.cycle_primary_node,ignore_with_input:!0},direction_arrow_right:{key:"ctrl+right",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.right,ignore_with_input:!0},direction_arrow_down:{key:"ctrl+down",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.down,ignore_with_input:!0},direction_arrow_left:{key:"ctrl+left",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.left,ignore_with_input:!0},direction_arrow_up:{key:"ctrl+up",target:this.build_input.direction_arrow,fn:this.build_input.direction_arrow.up,ignore_with_input:!0},undo:{key:"ctrl+z",target:a.undo_stack,fn:a.undo_stack.undo},redo:{key:"ctrl+shift+z",target:a.undo_stack,fn:a.undo_stack.redo},select_all:{key:"ctrl+a",target:a,fn:a.select_all},select_none:{key:"ctrl+shift+a",target:a,fn:a.select_none},invert_selection:{target:a,fn:a.invert_selection}}),g}function E(){window.onbeforeunload=function(a){return a=a||window.event,this.options.never_ask_before_quit?null:"You will lose any unsaved changes."}.bind(this)}var F=a("./utils"),G=a("./BuildInput"),H=a("./ZoomContainer"),I=a("./Map"),J=a("./CobraModel"),K=a("./Brush"),L=a("./CallbackManager"),M=a("./ui"),N=a("./SearchBar"),O=a("./Settings"),P=a("./SettingsMenu"),Q=a("./TextEditInput"),R=a("./QuickJump"),S=a("./data_styles"),T=a("./inline").builder_embed,U=a("./TooltipContainer"),V=a("./Tooltip").DefaultTooltip,W=a("underscore"),X=a("d3-selection").select,Y=a("d3-selection").selection,Z=a("d3-request").json,_=F.make_class();_.prototype={init:d,load_map:f,load_model:e,_set_mode:g,view_mode:h,build_mode:i,brush_mode:j,zoom_mode:k,rotate_mode:l,text_mode:m,_reaction_check_add_abs:n,set_knockout_reactions:q,knockout_reaction:r,undo_knockout_reaction:s,draw_knockout_reactions:t,set_reaction_data:o,set_reaction_fva_data:p,set_metabolite_data:v,set_gene_data:u,_update_data:w,_toggle_direction_buttons:z,_set_up_menu:x,_set_up_button_panel:y,_setup_status:A,_setup_quick_jump:B,_setup_modes:C,_get_keys:D,_setup_confirm_before_exit:E},b.exports=_},{"./Brush":2,"./BuildInput":3,"./CallbackManager":5,"./CobraModel":7,"./Map":12,"./QuickJump":15,"./SearchBar":18,"./Settings":20,"./SettingsMenu":21,"./TextEditInput":22,"./Tooltip":23,"./TooltipContainer":24,"./ZoomContainer":26,"./data_styles":29,"./inline":30,"./ui":33,"./utils":34,"d3-request":159,"d3-selection":161,underscore:331}],5:[function(a,b,c){"use strict";function d(){}function e(a,b){return void 0===this.callbacks&&(this.callbacks={}),void 0===this.callbacks[a]&&(this.callbacks[a]=[]),this.callbacks[a].push(b),this}function f(a){return(void 0===this.callbacks||0==Object.keys(this.callbacks).length)&&console.warn("No callbacks to remove"),delete this.callbacks[a],this}function g(a,b){if(i.isUndefined(this.callbacks))return this;i.isUndefined(b)&&(b=null);var c=Array.prototype.slice.call(arguments,2);for(var d in this.callbacks){var e=d.split(".")[0];e==a&&this.callbacks[d].forEach(function(a){a.apply(b,c)})}return this}var h=a("./utils"),i=a("underscore"),j=h.make_class();j.prototype={init:d,set:e,remove:f,run:g},b.exports=j},{"./utils":34,underscore:331}],6:[function(a,b,c){"use strict";function d(a,b){this.selection=a,this.x=b.x,this.y=b.y,this.width=b.width,this.height=b.height,this.resize_enabled=!0,this.callback_manager=new i,this.setup()}function e(a){l.isUndefined(a)&&(a=!this.resize_enabled),a?this.selection.selectAll(".drag-rect").style("pointer-events","auto"):this.selection.selectAll(".drag-rect").style("pointer-events","none")}function f(){function a(){k.event.sourceEvent.stopPropagation()}function b(a,b,c){var d=h.d3_transform_catch(c),e=d.translate;return null!==a&&(e[0]=a),null!==b&&(e[1]=b),"translate("+e+")"}function c(a){var c=a.x;a.x=Math.min(a.x+g.width-i/2,k.event.x),g.x=a.x,g.width=g.width+(c-a.x),t.attr("transform",function(a){return b(a.x-i/2,null,t.attr("transform"))}),n.attr("transform",function(a){return b(a.x,null,n.attr("transform"))}).attr("width",g.width*l),o.attr("transform",function(a){return b(a.x,null,o.attr("transform"))}).attr("width",g.width),v.attr("transform",function(a){return b(a.x+i/2,null,v.attr("transform"))}).attr("width",g.width-i),w.attr("transform",function(a){return b(a.x+i/2,null,w.attr("transform"))}).attr("width",g.width-i),g.callback_manager.run("resize")}function d(a){k.event.sourceEvent.stopPropagation();var c=Math.max(a.x+i/2,a.x+g.width+k.event.dx);g.width=c-a.x,u.attr("transform",function(a){return b(c-i/2,null,u.attr("transform"))}),n.attr("width",g.width*l),o.attr("width",g.width),v.attr("width",g.width-i),w.attr("width",g.width-i),g.callback_manager.run("resize")}function e(a){k.event.sourceEvent.stopPropagation();var c=a.y;a.y=Math.min(a.y+g.height-i/2,k.event.y),g.y=a.y,g.height=g.height+(c-a.y),v.attr("transform",function(a){return b(null,a.y-i/2,v.attr("transform"))}),n.attr("transform",function(a){return b(null,a.y,n.attr("transform"))}).attr("width",g.height*l),o.attr("transform",function(a){return b(null,a.y,o.attr("transform"))}).attr("height",g.height),t.attr("transform",function(a){return b(null,a.y+i/2,t.attr("transform"))}).attr("height",g.height-i),u.attr("transform",function(a){return b(null,a.y+i/2,u.attr("transform"))}).attr("height",g.height-i),g.callback_manager.run("resize")}function f(a){k.event.sourceEvent.stopPropagation();var c=Math.max(a.y+i/2,a.y+g.height+k.event.dy);g.height=c-a.y,w.attr("transform",function(a){return b(null,c-i/2,w.attr("transform"))}),n.attr("height",g.height*l),o.attr("height",g.height),t.attr("height",g.height-i),u.attr("height",g.height-i),g.callback_manager.run("resize")}var g=this,i=({x:this.width,y:this.height},100),l=10,m=this.selection.append("g").classed("canvas-group",!0).data([{x:this.x,y:this.y}]),n=m.append("rect").attr("id","mouse-node").attr("width",this.width*l).attr("height",this.height*l).attr("transform","translate("+[g.x-this.width*l/2,g.y-this.height*l/2]+")").attr("pointer-events","all");this.mouse_node=n;var o=m.append("rect").attr("id","canvas").attr("width",this.width).attr("height",this.height).attr("transform","translate("+[g.x,g.y]+")"),p=j().on("start",a).on("drag",d),q=j().on("start",a).on("drag",c),r=j().on("start",a).on("drag",e),s=j().on("start",a).on("drag",f),t=m.append("rect").classed("drag-rect",!0).attr("transform",function(a){return"translate("+[a.x-i/2,a.y+i/2]+")"}).attr("height",this.height-i).attr("id","dragleft").attr("width",i).attr("cursor","ew-resize").classed("resize-rect",!0).call(q),u=m.append("rect").classed("drag-rect",!0).attr("transform",function(a){return"translate("+[a.x+g.width-i/2,a.y+i/2]+")"}).attr("id","dragright").attr("height",this.height-i).attr("width",i).attr("cursor","ew-resize").classed("resize-rect",!0).call(p),v=m.append("rect").classed("drag-rect",!0).attr("transform",function(a){return"translate("+[a.x+i/2,a.y-i/2]+")"}).attr("height",i).attr("id","dragtop").attr("width",this.width-i).attr("cursor","ns-resize").classed("resize-rect",!0).call(r),w=m.append("rect").classed("drag-rect",!0).attr("transform",function(a){return"translate("+[a.x+i/2,a.y+g.height-i/2]+")"}).attr("id","dragbottom").attr("height",i).attr("width",this.width-i).attr("cursor","ns-resize").classed("resize-rect",!0).call(s)}function g(){return{x:this.x,y:this.y,width:this.width,height:this.height}}var h=a("./utils"),i=a("./CallbackManager"),j=a("d3-drag").drag,k=a("d3-selection"),l=a("underscore"),m=h.make_class();m.prototype={init:d,toggle_resize:e,setup:f,size_and_location:g},b.exports=m},{"./CallbackManager":5,"./utils":34,"d3-drag":154,"d3-selection":161,underscore:331}],7:[function(a,b,c){"use strict";function d(a,b){var c=function(a){return 1==a?"":String(a)+" "},d=[],e=[];for(var f in a){var g=a[f];g>0?e.push(c(g)+f):d.push(c(Math.abs(g))+f)}var h=d.join(" + ");return h+=b?" ↔ ":" → ",h+=e.join(" + ")}function e(a){if(!a.reactions||!a.metabolites)throw new Error("Bad model data.");for(var b={},c=0,d=a.genes.length;d>c;c++){var e=a.genes[c],f=e.id;b[f]=e}var g=new l;g.reactions={};for(var c=0,d=a.reactions.length;d>c;c++){var e=a.reactions[c],f=e.id,h=j.clone(e);if(delete h.id,h.bigg_id=f,h.data_string="",h.genes=[],h.reversibility=h.lower_bound<0&&h.upper_bound>0,h.upper_bound<=0&&h.lower_bound<0)for(var i in h.metabolites)h.metabolites[i]=-h.metabolites[i];if(delete h.lower_bound,delete h.upper_bound,"gene_reaction_rule"in h){var m=k.genes_for_gene_reaction_rule(h.gene_reaction_rule);m.forEach(function(a){if(a in b){var c=j.clone(b[a]);c.bigg_id=c.id,delete c.id,h.genes.push(c)}else console.warn("Could not find gene for gene_id "+a)})}g.reactions[f]=h}g.metabolites={};for(var c=0,d=a.metabolites.length;d>c;c++){var e=a.metabolites[c],f=e.id,n=j.clone(e);delete n.id,n.bigg_id=f,g.metabolites[f]=n}return g}function f(){this.reactions={},this.metabolites={}}function g(a,b,c){k.apply_reaction_data_to_reactions(this.reactions,a,b,c)}function h(a,b,c){k.apply_metabolite_data_to_nodes(this.metabolites,a,b,c)}function i(a,b,c,d,e){k.apply_gene_data_to_reactions(this.reactions,a,b,c,d,e)}var j=a("./utils"),k=a("./data_styles"),l=j.make_class();l.from_cobra_json=e,l.build_reaction_string=d,l.prototype={init:f,apply_reaction_data:g,apply_metabolite_data:h,apply_gene_data:i},b.exports=l},{"./data_styles":29,"./utils":34}],8:[function(a,b,c){"use strict";var d=a("./utils"),e=a("d3-request").json;b.exports=function(a){function b(a,b,d,e,g){d.node().addEventListener("change",function(){c(a,this.value,g,e)},!1);var h=b[0];f(b,d),c(a,h,g,e)}function c(a,b,c,e){d.load_the_file(a,b,function(a,b){return a?console.warn(a):(g.data=b,void(e&&e(b)))})}function f(a,b){b.selectAll(".menu-option").data(a).enter().append("option").attr("value",function(a){return a}).text(function(a){return a}),b.node().focus()}var g=d.set_options(a,{selection:null,getdatafiles:null,datafiles:null,update_callback:null,target:null});if(null===g.selection)throw new Error("No selection provided for DataMenu");var h=g.selection.select(".data-menu");h.empty()&&(h=g.selection.append("div").attr("class","data-menu"));var i=h.append("form").append("select").attr("class","dropdown-menu");return g.getdatafiles?(g.datafiles&&console.warn("DataMenu: getdatafiles option overrides datafiles"),e(g.getdatafiles,function(a,c){return a?console.warn(a):(b(g.target,c.data,i,g.update_callback,g.selection),null)})):g.datafiles?b(g.target,g.datafiles,i,g.update_callback,g.selection):console.warn("DataMenu: No datafiles given"),{update:f}}},{"./utils":34,"d3-request":159}],9:[function(a,b,c){"use strict";function d(a){function b(){return"M0 -5 L0 5 L20 5 L20 10 L30 0 L20 -10 L20 -5 Z"}this.arrow_container=a.append("g").attr("id","direction-arrow-container").attr("transform","translate(0,0)rotate(0)"),this.arrow=this.arrow_container.append("path").classed("direction-arrow",!0).attr("d",b()).style("visibility","hidden").attr("transform","translate(30,0)scale(2.5)"),this.sel=a,this.center={x:0,y:0},this._setup_drag(),this.dragging=!1,this.is_visible=!1,this.show()}function e(a){this.center=a;var b=q.d3_transform_catch(this.arrow_container.attr("transform"));this.arrow_container.attr("transform","translate("+a.x+","+a.y+")rotate("+b.rotate+")")}function f(a){var b=q.d3_transform_catch(this.arrow_container.attr("transform"));this.arrow_container.attr("transform","translate("+b.translate+")rotate("+a+")")}function g(a){var b=q.d3_transform_catch(this.arrow_container.attr("transform"));this.arrow_container.attr("transform","translate("+b.translate+")rotate("+(b.rotate+a)+")")}function h(){return q.d3_transform_catch(this.arrow_container.attr("transform")).rotate}function i(a){void 0===a?this.is_visible=!this.is_visible:this.is_visible=a,this.arrow.style("visibility",this.is_visible?"visible":"hidden")}function j(){this.toggle(!0)}function k(){this.toggle(!1)}function l(){this.set_rotation(0)}function m(){this.set_rotation(90)}function n(){this.set_rotation(180)}function o(){this.set_rotation(270)}function p(){var a=r().on("start",function(a){t.event.sourceEvent.stopPropagation(),this.dragging=!0}.bind(this)).on("drag.direction_arrow",function(a){var b={x:t.event.dx,y:t.event.dy},c={x:s(this.sel.node())[0],y:s(this.sel.node())[1]},d=q.angle_for_event(b,c,this.center);this.displace_rotation(q.to_degrees(d))}.bind(this)).on("end",function(a){setTimeout(function(){this.dragging=!1}.bind(this),200)}.bind(this));this.arrow_container.call(a)}var q=a("./utils"),r=a("d3-drag").drag,s=a("d3-selection").mouse,t=a("d3-selection"),u=q.make_class();u.prototype={init:d,set_location:e,set_rotation:f,displace_rotation:g,get_rotation:h,toggle:i,show:j,hide:k,right:l,left:n,up:o,down:m,_setup_drag:p},b.exports=u},{"./utils":34,"d3-drag":154,"d3-selection":161}],10:[function(a,b,c){"use strict";function d(a,b){this.behavior=a,this.settings=b,this.callback_manager=new x}function e(a){var b=a.append("rect").attr("class","membrane");return this.callback_manager.run("create_membrane",this,a),b}function f(a){a.attr("width",function(a){return a.width}).attr("height",function(a){return a.height}).attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).style("stroke-width",function(a){return 10}).attr("rx",function(a){return 20}).attr("ry",function(a){return 20}),this.callback_manager.run("update_membrane",this,a)}function g(a){var b=a.append("g").attr("id",function(a){return"r"+a.reaction_id}).attr("class","reaction");return this.create_reaction_label(b),this.callback_manager.run("create_reaction",this,a),b}function h(a,b,c,d,e,f){var g=(this.behavior.reaction_mousedown,this.behavior.reaction_mouseover),h=this.behavior.reaction_mouseout;a.select(".reaction-label-group").call(function(a){return this.update_reaction_label(a,f)}.bind(this)),v.draw_a_nested_object(a,".segment-group","segments","segment_id",this.create_segment.bind(this),function(a){return this.update_segment(a,b,c,d,e,f)}.bind(this),function(a){a.remove()}),a.on("mouseover",g),a.on("mouseout",h),this.callback_manager.run("update_reaction",this,a)}function i(a,b){var c=a.append("g").attr("class","reaction-label-group");return c.append("text").attr("class","reaction-label label"),c.append("g").attr("class","all-genes-label-group"),this.callback_manager.run("create_reaction_label",this,a),c}function j(a){var b=a.append("g").attr("class","ko-mark").attr("id",function(a){return"ko"+a.node_id});b.append("text").attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).append("tspan").text("X").style("fill","red").style("font-size","95px").attr("dx",-25).attr("dy",30),this.callback_manager.run("update_knockout_mark",this,a)}function k(a){a.selectAll(".segment").style("opacity",function(a){var b=this.parentNode.parentNode.__data__,c=v.calculate_fva_opacity(a.data,b.lower_bound,b.upper_bound,.1);return c})}function l(a,b){var c=(y(".4g"),this.settings.get_option("identifiers_on_map")),d=this.settings.get_option("reaction_styles"),e=this.settings.get_option("show_gene_reaction_rules"),f=this.settings.get_option("hide_all_labels"),g=this.settings.get_option("gene_font_size"),h=this.behavior.label_mousedown,i=this.behavior.label_mouseover,j=this.behavior.label_mouseout;a.attr("transform",function(a){return"translate("+a.label_x+","+a.label_y+")"}).call(this.behavior.turn_off_drag).call(this.behavior.reaction_label_drag);var k=a.select(".reaction-label").attr("visibility",f?"hidden":"visible");f||k.text(function(a){var e=a[c];return b&&-1!==d.indexOf("text")&&(e+=" "+a.data_string),e}).on("mousedown",h).on("mouseover",function(a){i("reaction_label",a)}).on("mouseout",j);var l=function(a,b){return a+1.5*g*(b+1)},m=a.select(".all-genes-label-group").selectAll(".gene-label-group").data(function(a){var b="gene_string"in a&&null!==a.gene_string&&e&&!f&&-1!==d.indexOf("text"),g="gene_reaction_rule"in a&&null!==a.gene_reaction_rule&&e&&!f;if(b)return console.warn("Showing gene_string. See TODO in source."),a.gene_string;if(g){var h=w.gene_string_for_data(a.gene_reaction_rule,null,a.genes,null,c,null);return h.forEach(function(b,c){b.label_x=a.label_x,b.label_y=l(a.label_y,c)}),h}return[]}),n=m.enter().append("g").attr("class","gene-label-group");n.append("text").attr("class","gene-label").style("font-size",g+"px").on("mousedown",h).on("mouseover",function(a){i("gene_label",a)}).on("mouseout",j);var o=n.merge(m);o.attr("transform",function(a,b){return"translate(0, "+l(0,b)+")"}),o.select("text").text(function(a){return a.text}),m.exit().remove(),this.callback_manager.run("update_reaction_label",this,a)}function m(a){var b=a.append("g").attr("class","segment-group").attr("id",function(a){return"s"+a.segment_id});return b.append("path").attr("class","segment"),b.append("g").attr("class","arrowheads"),b.append("g").attr("class","stoichiometry-labels"),this.callback_manager.run("create_segment",this,a),b}function n(a,b,c,d,e,f){var g=this.settings.get_option("reaction_styles"),h=f&&-1!==g.indexOf("size"),i=f&&-1!==g.indexOf("color"),j=this.settings.get_option("reaction_no_data_size"),k=this.settings.get_option("reaction_no_data_color"),l=this.settings.get_option("highlight_missing"),m=this.settings.get_option("hide_secondary_metabolites"),n=this.settings.get_option("primary_metabolite_radius"),o=this.settings.get_option("secondary_metabolite_radius"),p=function(a,c){
var d=20,e=13;return c&&(e=null===a?j:b.reaction_size(a),isNaN(e)&&(e=j),d=2*e),{width:d,height:e}},q=function(a,b,c,d){var e=b||c>0?a.height:0,f=d?n:o;return f+e+10};a.selectAll(".segment").datum(function(){return this.parentNode.__data__}).style("visibility",function(a){var b=d[a.from_node_id],c=d[a.to_node_id];return m&&("metabolite"===c.node_type&&!c.node_is_primary||"metabolite"===b.node_type&&!b.node_is_primary)?"hidden":null}).attr("d",function(a){if(null===a.from_node_id||null===a.to_node_id)return null;var b=d[a.from_node_id],c=d[a.to_node_id],e=a.b1,f=a.b2;if("metabolite"===b.node_type){var g=p(a.data,h),i=q(g,a.reversibility,a.from_node_coefficient,b.node_is_primary),j=null===e?c:e;b=u(i,b,j,"start")}if("metabolite"==c.node_type){var g=p(a.data,h),i=q(g,a.reversibility,a.to_node_coefficient,c.node_is_primary),j=null===f?b:f;c=u(i,j,c,"end")}var k="M"+b.x+","+b.y+" ";return null!==e&&null!==f&&(k+="C"+e.x+","+e.y+" "+f.x+","+f.y+" "),k+=c.x+","+c.y}).style("stroke",function(a){var d=this.parentNode.parentNode.__data__.bigg_id,e=l&&null!==c&&!(d in c.reactions);if(e)return"red";if(i){var f=a.data;return null===f?k:b.reaction_color(f)}return null}).style("stroke-width",function(a){if(h){var c=a.data;return null===c?j:b.reaction_size(c)}return null});var r=a.select(".arrowheads").selectAll(".arrowhead").data(function(a){var b=[],c=d[a.from_node_id],e=a.b1,f=d[a.to_node_id],g=a.b2;if(m&&("metabolite"===f.node_type&&!f.node_is_primary||"metabolite"===c.node_type&&!c.node_is_primary))return b;if("metabolite"===c.node_type&&(a.reversibility||a.from_node_coefficient>0)){var i=p(a.data,h),j=q(i,a.reversibility,a.from_node_coefficient,c.node_is_primary),k=null===e?f:e,l=v.to_degrees(v.get_angle([c,k]))+90,n=u(j,c,k,"start");b.push({data:a.data,x:n.x,y:n.y,size:i,rotation:l,show_arrowhead_flux:a.from_node_coefficient<0===a.reverse_flux||0===a.data})}if("metabolite"===f.node_type&&(a.reversibility||a.to_node_coefficient>0)){var i=p(a.data,h),j=q(i,a.reversibility,a.to_node_coefficient,f.node_is_primary),k=null===g?c:g,l=v.to_degrees(v.get_angle([f,k]))+90,n=u(j,k,f,"end");b.push({data:a.data,x:n.x,y:n.y,size:i,rotation:l,show_arrowhead_flux:a.to_node_coefficient<0===a.reverse_flux||0===a.data})}if(a.unconnected_segment_with_arrow){var i=p(a.data,h),k=f,l=v.to_degrees(v.get_angle([c,k]))+90;b.push({data:a.data,x:c.x,y:c.y,size:i,rotation:l,show_arrowhead_flux:a.to_node_coefficient<0===a.reverse_flux||0===a.data})}return b});r.enter().append("path").classed("arrowhead",!0).merge(r).attr("d",function(a){return"M"+[-a.size.width/2,0]+" L"+[0,a.size.height]+" L"+[a.size.width/2,0]+" Z"}).attr("transform",function(a){return"translate("+a.x+","+a.y+")rotate("+a.rotation+")"}).style("fill",function(a){if(i){if(a.show_arrowhead_flux){var c=a.data;return null===c?k:b.reaction_color(c)}return"#FFFFFF"}return null}).style("stroke",function(a){if(i){var c=a.data;return null===c?k:b.reaction_color(c)}return null}),r.exit().remove();var s=a.select(".stoichiometry-labels").selectAll(".stoichiometry-label").data(function(a){var b=[],c=d[a.from_node_id],e=a.b1,f=d[a.to_node_id],g=a.b2,i=1.5;if(m&&("metabolite"==f.node_type&&!f.node_is_primary||"metabolite"==c.node_type&&!c.node_is_primary))return b;if("metabolite"===c.node_type&&1!=Math.abs(a.from_node_coefficient)){var j=p(a.data,h),k=i*q(j,!1,0,f.node_is_primary),l=null===e?f:e;l=v.c_plus_c(l,v.rotate_coords(l,.5,c));var n=u(k,c,l,"start");n=v.c_plus_c(n,{x:0,y:7}),b.push({coefficient:Math.abs(a.from_node_coefficient),x:n.x,y:n.y,data:a.data})}if("metabolite"===f.node_type&&1!==Math.abs(a.to_node_coefficient)){var j=p(a.data,h),k=i*q(j,!1,0,f.node_is_primary),l=null===g?c:g;l=v.c_plus_c(l,v.rotate_coords(l,.5,f));var n=u(k,l,f,"end");n=v.c_plus_c(n,{x:0,y:7}),b.push({coefficient:Math.abs(a.to_node_coefficient),x:n.x,y:n.y,data:a.data})}return b});s.enter().append("text").attr("class","stoichiometry-label").attr("text-anchor","middle").merge(s).attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).text(function(a){return a.coefficient}).style("fill",function(a){if(i){var c=a.data;return null===c?k:b.reaction_color(c)}return null}),s.exit().remove(),this.callback_manager.run("update_segment",this,a)}function o(a){var b=a.append("g").attr("id",function(a){return a.bezier_id}).attr("class",function(a){return"bezier"});return b.append("path").attr("class","connect-line"),b.append("circle").attr("class",function(a){return"bezier-circle "+a.bezier}).style("stroke-width",String(1)+"px").attr("r",String(7)+"px"),this.callback_manager.run("create_bezier",this,a),b}function p(a,b,c,d,e,f,g){var h=this.settings.get_option("hide_secondary_metabolites");return b?(a.attr("visibility","visible"),a.style("visibility",function(a){var b=g[a.reaction_id].segments[a.segment_id],c=f[b.from_node_id],d=f[b.to_node_id];return h&&("metabolite"==d.node_type&&!d.node_is_primary||"metabolite"==c.node_type&&!c.node_is_primary)?"hidden":null}),a.select(".bezier-circle").call(this.behavior.turn_off_drag).call(c).on("mouseover",d).on("mouseout",e).attr("transform",function(a){return null==a.x||null==a.y?"":"translate("+a.x+","+a.y+")"}),a.select(".connect-line").attr("d",function(a){var b,c=g[a.reaction_id].segments[a.segment_id];return b="b1"==a.bezier?f[c.from_node_id]:f[c.to_node_id],null==a.x||null==a.y||null==b.x||null==b.y?"":"M"+a.x+", "+a.y+" "+b.x+","+b.y}),void this.callback_manager.run("update_bezier",this,a)):void a.attr("visibility","hidden")}function q(a,b,c){var d=a.append("g").attr("class","node").attr("id",function(a){return"n"+a.node_id});d.append("circle").attr("class",function(a){var b="node-circle";return null!==a.node_type&&(b+=" "+a.node_type+"-circle"),b});var e=d.filter(function(a){return"metabolite"===a.node_type});return e.append("text").attr("class","node-label label"),this.callback_manager.run("create_node",this,a),d}function r(a,b,c,d,e,f,g,h,i){function j(a,b){return"metabolite"===a.node_type&&b&&!a.node_is_primary}var k=this.settings.get_option("hide_secondary_metabolites"),l=this.settings.get_option("primary_metabolite_radius"),m=this.settings.get_option("secondary_metabolite_radius"),n=this.settings.get_option("marker_radius"),o=this.settings.get_option("hide_all_labels"),p=this.settings.get_option("identifiers_on_map"),q=this.settings.get_option("metabolite_styles"),r={color:this.settings.get_option("metabolite_no_data_color"),size:this.settings.get_option("metabolite_no_data_size")},s=this.behavior.label_mousedown,t=this.behavior.label_mouseover,u=this.behavior.label_mouseout,v=(a.select(".node-circle").attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).style("visibility",function(a){return j(a,k)?"hidden":null}).attr("r",function(a){if("metabolite"===a.node_type){var d=c&&-1!==q.indexOf("size");if(d){var e=a.data;return null===e?r.size:b.metabolite_size(e)}return a.node_is_primary?l:m}return n}).style("fill",function(a){if("metabolite"===a.node_type){var d=c&&-1!==q.indexOf("color");if(d){var e=a.data;return null===e?r.color:b.metabolite_color(e)}return null}return null}).call(this.behavior.turn_off_drag).call(h).on("mousedown",d).on("click",e).on("mouseover",f).on("mouseout",g),a.select(".node-label").attr("visibility",o?"hidden":"visible"));o||v.style("visibility",function(a){return j(a,k)?"hidden":null}).attr("transform",function(a){return"translate("+a.label_x+","+a.label_y+")"}).text(function(a){var b=a[p];return c&&-1!==q.indexOf("text")&&(b+=" "+a.data_string),b}).call(this.behavior.turn_off_drag).call(i).on("mousedown",s).on("mouseover",function(a){t("node_label",a)}).on("mouseout",u),this.callback_manager.run("update_node",this,a)}function s(a){var b=a.append("g").attr("id",function(a){return"l"+a.text_label_id}).attr("class","text-label");return b.append("text").attr("class","label"),this.callback_manager.run("create_text_label",this,a),b}function t(a){var b=this.behavior.text_label_mousedown,c=this.behavior.text_label_click,d=this.behavior.selectable_drag,e=this.behavior.turn_off_drag;a.select(".label").text(function(a){return a.text}).attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).on("mousedown",b).on("click",c).call(e).call(d),this.callback_manager.run("update_text_label",this,a)}function u(a,b,c,d){v.check_undefined(arguments,["reaction_arrow_displacement","start","end","displace"]);var e,f,g=a,h=v.distance(b,c);return g&&h||console.error("Bad value"),"start"===d?(e=b.x+g*(c.x-b.x)/h,f=b.y+g*(c.y-b.y)/h):"end"===d?(e=c.x-g*(c.x-b.x)/h,f=c.y-g*(c.y-b.y)/h):console.error("bad displace value: "+d),{x:e,y:f}}var v=a("./utils"),w=a("./data_styles"),x=a("./CallbackManager"),y=a("d3-format").format,z=(a("d3-selection").select,v.make_class());z.prototype={init:d,create_reaction:g,update_reaction:h,create_bezier:o,update_bezier:p,create_node:q,update_node:r,create_text_label:s,update_text_label:t,create_membrane:e,update_membrane:f,create_reaction_label:i,update_reaction_label:l,create_segment:m,update_segment:n,update_knockout_mark:j,update_reaction_opacity:k},b.exports=z},{"./CallbackManager":5,"./data_styles":29,"./utils":34,"d3-format":157,"d3-selection":161}],11:[function(a,b,c){"use strict";function d(a,b,c,d){this.assigned_keys=a||{},this.input_list=b||[],this.mousetrap=c?new l(c):new l,this.ctrl_equals_cmd=m.isBoolean(d)?d:!1,this.mousetrap.stopCallback=function(){return!1},this.enabled=!0,this.update()}function e(a,b){if(!b)return a;var c=m.isArray(a)?a:[a],d=c.reduce(function(a,b){var c=b.replace("ctrl+","meta+");return c!==b&&a.push(c),a},c.slice());return d.length===c.length?a:d}function f(){if(this.mousetrap.reset(),this.enabled)for(var a in this.assigned_keys){var b=this.assigned_keys[a];if(b.key){var c=e(b.key,this.ctrl_equals_cmd);b.input_list=this.input_list,this.mousetrap.bind(c,function(a){var b=!1;if(this.ignore_with_input)for(var c=0,d=this.input_list.length;d>c;c++)if(this.input_list[c].is_visible()){b=!0;break}b||(this.fn?this.fn.call(this.target):console.warn("No function for key: "+this.key),a.preventDefault())}.bind(b),"keydown")}}}function g(a){m.isUndefined(a)&&(a=!this.enabled),this.enabled=a,this.update()}function h(a,b){return this.add_key_listener("enter",a,b)}function i(a,b){return this.add_key_listener("escape",a,b)}function j(a,b,c){m.isUndefined(c)&&(c=!1);var d=this.mousetrap.unbind.bind(this.mousetrap,a);return this.mousetrap.bind(e(a,this.ctrl_equals_cmd),function(a){a.preventDefault(),b(),c&&d()}),d}var k=a("./utils"),l=a("mousetrap"),m=a("underscore"),n=k.make_class();n.prototype={init:d,update:f,toggle:g,add_escape_listener:i,add_enter_listener:h,add_key_listener:j},b.exports=n},{"./utils":34,mousetrap:327,underscore:331}],12:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,g,h,i,j,k){if(null===g){var l=d.get_size();g={x:-l.width,y:-l.height,width:3*l.width,height:3*l.height}}i=Sa.isUndefined(i)||null===i||""===i?"new_map":String(i),j=Sa.isUndefined(j)||null===j||""===j?Ha.generate_map_id():String(j),k=Sa.isUndefined(k)||null===k?"":String(k),this.callback_manager=new Na,this.svg=a,this.defs=Ha.setup_defs(a,b),this.canvas=new Pa(c,g),this.setup_containers(c),this.sel=c,this.zoom_container=d,this.settings=e,this.cobra_model=f,this.largest_ids={reactions:-1,nodes:-1,segments:-1,text_labels:-1},this.scale=new Ka,this.calc_data_stats("reaction"),this.calc_data_stats("metabolite"),this.scale.connect_to_settings(this.settings,this,G.bind(this)),this.undo_stack=new Ma,this.behavior=new Ja(this,this.undo_stack),this.draw=new Ia(this.behavior,this.settings),this.key_manager=new Oa,this.key_manager.ctrl_equals_cmd=!0,this.enable_search=h,this.search_index=new Ra,this.map_name=i,this.map_id=j,this.map_description=k;this.beziers_enabled=!1,this.has_data_on_reactions=!1,this.has_data_on_nodes=!1,this.imported_reaction_data=null,this.imported_metabolite_data=null,this.imported_gene_data=null,this.nodes={},this.reactions={},this.beziers={},this.text_labels={},this.apply_reaction_data_to_map(null),this.apply_metabolite_data_to_map(null),this.apply_gene_data_to_map(null),this.rotation_on=!1,this.listen_for_full_screen(function(){setTimeout(function(){this.zoom_extent_canvas()}.bind(this),50)}.bind(this))}function e(a,b,c,d,e,f,g,h){function i(a,b){return Sa.isUndefined(b)&&(b=0),Sa.isUndefined(a)?b:Math.max.apply(null,Object.keys(a).map(function(a){return parseInt(a)}).concat([b]))}var j=a[1].canvas,k=a[0].map_name,l=a[0].map_id,m=a[0].map_description.replace(/(\nLast Modified.*)+$/g,"")+"\nLast Modified "+Date(Date.now()).toString(),n=new Ua(b,c,d,e,f,g,j,h,k,l,m);n.reactions=a[1].reactions,n.nodes=a[1].nodes,n.text_labels=a[1].text_labels;for(var o in n.nodes){var p=n.nodes[o];if(p.connected_segments=[],h){if("metabolite"!==p.node_type)continue;n.search_index.insert("n"+o,{name:p.bigg_id,data:{type:"metabolite",node_id:o}}),n.search_index.insert("n_name"+o,{name:p.name,data:{type:"metabolite",node_id:o}})}}for(var q in n.reactions){var r=n.reactions[q];if(h){n.search_index.insert("r"+q,{name:r.bigg_id,data:{type:"reaction",reaction_id:q}}),n.search_index.insert("r_name"+q,{name:r.name,data:{type:"reaction",reaction_id:q}});for(var s in r.genes){var t=r.genes[s];n.search_index.insert("r"+q+"_g"+s,{name:t.bigg_id,data:{type:"reaction",reaction_id:q}}),n.search_index.insert("r"+q+"_g_name"+s,{name:t.name,data:{type:"reaction",reaction_id:q}})}}var u=[];for(var v in r.segments){var w=r.segments[v];if(w.reversibility=r.reversibility,w.from_node_id in n.nodes&&w.to_node_id in n.nodes){var x=n.nodes[w.from_node_id],y=n.nodes[w.to_node_id];r.metabolites.forEach(function(a){a.bigg_id==x.bigg_id?w.from_node_coefficient=a.coefficient:a.bigg_id==y.bigg_id&&(w.to_node_coefficient=a.coefficient)}),[x,y].forEach(function(a){a.connected_segments.push({segment_id:v,reaction_id:q})});var z=n.nodes[w.from_node_id],A=n.nodes[w.to_node_id];if("metabolite"==z.node_type||"metabolite"==A.node_type){var B=Ha.c_plus_c(z,Ha.c_times_scalar(Ha.c_minus_c(A,z),.5));null===w.b1&&(w.b1=B),null===w.b2&&(w.b2=B)}}else console.warn("Bad node references in segment "+v+". Deleting segment."),u.push(v)}u.forEach(function(a){delete r.segments[a]})}if(h)for(var C in n.text_labels){var D=n.text_labels[C];n.search_index.insert("l"+C,{name:D.text,data:{type:"text_label",text_label_id:C}})}n.beziers=La.new_beziers_for_reactions(n.reactions),n.largest_ids.reactions=i(n.reactions),n.largest_ids.nodes=i(n.nodes),n.largest_ids.text_labels=i(n.text_labels);var E=0;for(var F in n.reactions)E=i(n.reactions[F].segments,E);return n.largest_ids.segments=E,n.apply_reaction_data_to_map(null),n.apply_metabolite_data_to_map(null),n.apply_gene_data_to_map(null),n}function f(a){a.append("g").attr("id","reactions"),a.append("g").attr("id","nodes"),a.append("g").attr("id","beziers"),a.append("g").attr("id","text-labels")}function g(){this.sel.select("#reactions").selectAll(".reaction").remove(),this.sel.select("#nodes").selectAll(".node").remove(),this.sel.select("#beziers").selectAll(".bezier").remove(),this.sel.select("#text-labels").selectAll(".text-label").remove()}function h(a,b){this.callback_manager.run("set_status",null,a),clearTimeout(this._status_timer),this._status_timer=null,void 0!==b&&(this._status_timer=setTimeout(function(){this.callback_manager.run("set_status",null,"")}.bind(this),b))}function i(){this.reactions={},this.beziers={},this.nodes={},this.text_labels={},this.map_name="new_map",this.map_id=Ha.generate_map_id(),this.map_description="",this.apply_reaction_data_to_map(null),this.apply_metabolite_data_to_map(null),this.apply_gene_data_to_map(null),this.draw_everything()}function j(){return null!==this.cobra_model}function k(){this.draw_all_reactions(!0,!0),this.draw_all_nodes(!0),this.draw_all_text_labels()}function l(a,b){Sa.isUndefined(a)&&(a=!0),Sa.isUndefined(b)&&(b=!0);var c=[];for(var d in this.reactions)c.push(d);this.draw_these_reactions(c,!1),a&&this.beziers_enabled&&this.draw_all_beziers(),b&&this.clear_deleted_reactions(a)}function m(a,b){Sa.isUndefined(b)&&(b=!0);var c=Ha.object_slice_for_ids_ref(this.reactions,a),d=function(a){return this.draw.update_reaction(a,this.scale,this.cobra_model,this.nodes,this.defs,this.has_data_on_reactions)}.bind(this);if(Ha.draw_an_object(this.sel,"#reactions",".reaction",c,"reaction_id",this.draw.create_reaction.bind(this.draw),d),b){var e=La.bezier_ids_for_reaction_ids(c);this.draw_these_beziers(e)}}function n(a){Sa.isUndefined(a)&&(a=!0),Ha.draw_an_object(this.sel,"#reactions",".reaction",this.reactions,"reaction_id",null,function(a){Ha.draw_a_nested_object(a,".segment-group","segments","segment_id",null,null,function(a){a.remove()})},function(a){a.remove()}),a===!0&&this.clear_deleted_beziers()}function o(a){var b=Ha.object_slice_for_bigg(this.reactions,a),c=Sa.values(Ha.get_central_nodes(b)),d=Ha.object_slice_for_ids_ref(this.nodes,c);Ha.draw_an_object(this.sel,"#nodes",".node",d,"node_id",null,this.draw.update_knockout_mark.bind(this.draw))}function p(a){var b=Ha.object_slice_for_bigg(this.reactions,a),c=Sa.values(Ha.get_central_nodes(b)),d=Ha.object_slice_for_ids_ref(this.nodes,c),e=function(a){return a.selectAll(".ko-mark").remove()};Ha.draw_an_object(this.sel,"#nodes",".node",d,"node_id",null,e)}function q(a){var b=Ha.object_slice_for_bigg(this.reactions,Sa.keys(a));Sa.each(Sa.keys(b),function(c){var d=b[c].bigg_id,e=a[d];b[c].lower_bound=e.lower_bound,b[c].upper_bound=e.upper_bound});var c=function(a){return this.draw.update_reaction_opacity(a)}.bind(this);Ha.draw_an_object(this.sel,"#reactions",".reaction",b,"reaction_id",null,c)}function r(a){void 0===a&&(a=!0);var b=[];for(var c in this.nodes)b.push(c);this.draw_these_nodes(b),a&&this.clear_deleted_nodes()}function s(a){var b=Ha.object_slice_for_ids_ref(this.nodes,a),c=function(a){return this.draw.create_node(a,this.nodes,this.reactions)}.bind(this),d=function(a){return this.draw.update_node(a,this.scale,this.has_data_on_nodes,this.behavior.selectable_mousedown,this.behavior.selectable_click,this.behavior.node_mouseover,this.behavior.node_mouseout,this.behavior.selectable_drag,this.behavior.node_label_drag)}.bind(this);Ha.draw_an_object(this.sel,"#nodes",".node",b,"node_id",c,d)}function t(){Ha.draw_an_object(this.sel,"#nodes",".node",this.nodes,"node_id",null,null,function(a){a.remove()})}function u(){this.draw_these_text_labels(Object.keys(this.text_labels)),this.clear_deleted_text_labels()}function v(a){var b=Ha.object_slice_for_ids_ref(this.text_labels,a);Ha.draw_an_object(this.sel,"#text-labels",".text-label",b,"text_label_id",this.draw.create_text_label.bind(this.draw),this.draw.update_text_label.bind(this.draw))}function w(){Ha.draw_an_object(this.sel,"#text-labels",".text-label",this.text_labels,"text_label_id",null,null,function(a){a.remove()})}function x(){var a=[];for(var b in this.beziers)a.push(b);this.draw_these_beziers(a),this.clear_deleted_beziers()}function y(a){var b=Ha.object_slice_for_ids_ref(this.beziers,a),c=function(a){return this.draw.update_bezier(a,this.beziers_enabled,this.behavior.bezier_drag,this.behavior.bezier_mouseover,this.behavior.bezier_mouseout,this.nodes,this.reactions)}.bind(this);Ha.draw_an_object(this.sel,"#beziers",".bezier",b,"bezier_id",this.draw.create_bezier.bind(this.draw),c)}function z(){Ha.draw_an_object(this.sel,"#beziers",".bezier",this.beziers,"bezier_id",null,null,function(a){a.remove()})}function A(){this.toggle_beziers(!0)}function B(){this.toggle_beziers(!1)}function C(a){Sa.isUndefined(a)?this.beziers_enabled=!this.beziers_enabled:this.beziers_enabled=a,this.draw_all_beziers(),this.callback_manager.run("toggle_beziers",null,this.beziers_enabled)}function D(a,b){var c=this.settings.get_option("reaction_styles"),d=this.settings.get_option("reaction_compare_style"),e=Qa.apply_reaction_data_to_reactions(this.reactions,a,c,d,b);return this.has_data_on_reactions=e,this.imported_reaction_data=e?a:null,this.calc_data_stats("reaction")}function E(a,b){var c=this.settings.get_option("metabolite_styles"),d=this.settings.get_option("metabolite_compare_style"),e=Qa.apply_metabolite_data_to_nodes(this.nodes,a,c,d,b);return this.has_data_on_nodes=e,this.imported_metabolite_data=e?a:null,this.calc_data_stats("metabolite")}function F(a,b){var c=this.settings.get_option("reaction_styles"),d=this.settings.get_option("reaction_compare_style"),e=this.settings.get_option("identifiers_on_map"),f=this.settings.get_option("and_method_in_gene_reaction_rule"),g=Qa.apply_gene_data_to_reactions(this.reactions,a,c,e,d,f,b);return this.has_data_on_reactions=g,this.imported_gene_data=g?a:null,this.calc_data_stats("reaction")}function G(){return this.data_statistics}function H(a){return function(b){return a.apply(null,b)}}function I(a){if(-1===["reaction","metabolite"].indexOf(a))throw new Error("Bad type "+a);"data_statistics"in this?a in this.data_statistics||(this.data_statistics[a]={}):(this.data_statistics={},this.data_statistics[a]={});var b=!0,c=[];if("metabolite"===a)for(var d in this.nodes){var e=this.nodes[d];Sa.isUndefined(e.data)?console.error("metabolite missing "):null!==e.data&&c.push(e.data)}else if("reaction"==a)for(var f in this.reactions){var g=this.reactions[f];Sa.isUndefined(g.data)?console.error("reaction data missing "):null!==g.data&&c.push(g.data)}var h=Ha.quartiles(c),i=[["min",H(Math.min)],["max",H(Math.max)],["mean",Ha.mean],["Q1",function(){return h[0]}],["median",function(){return h[1]}],["Q3",function(){return h[2]}]];if(i.forEach(function(d){var e,f=d[0];if(0===c.length)e=null;else{var g=d[1];e=g(c)}e!=this.data_statistics[a][f]&&(b=!1),this.data_statistics[a][f]=e}.bind(this)),this.data_statistics[a].min===this.data_statistics[a].max&&null!==this.data_statistics[a].min){var j=this.data_statistics[a].min,k=this.data_statistics[a].max;this.data_statistics[a].min=j-1-.1*Math.abs(j),this.data_statistics[a].max=k+1+.1*Math.abs(k)}return"reaction"===a?this.callback_manager.run("calc_data_stats__reaction",null,!b):this.callback_manager.run("calc_data_stats__metabolite",null,!b),!b}function J(){var a=[];return this.sel.select("#nodes").selectAll(".selected").each(function(b){a.push(b.node_id)}),a}function K(){var a={};return this.sel.select("#nodes").selectAll(".selected").each(function(b){a[b.node_id]=this.nodes[b.node_id]}.bind(this)),a}function L(){var a=[];return this.sel.select("#text-labels").selectAll(".selected").each(function(b){a.push(b.text_label_id)}),a}function M(){var a={};return this.sel.select("#text-labels").selectAll(".selected").each(function(b){a[b.text_label_id]=this.text_labels[b.text_label_id]}.bind(this)),a}function N(){this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label").classed("selected",!0)}function O(){this.sel.selectAll(".selected").classed("selected",!1)}function P(){var a=this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label");a.classed("selected",function(){return!Ta(this).classed("selected")})}function Q(a){this.deselect_text_labels();var b,c,d=this.sel.select("#nodes").selectAll(".node");d.classed("selected",function(d){var e=String(d.node_id)==String(a);return e&&(c=d,b={x:d.x,y:d.y}),e}),this.sel.selectAll(".start-reaction-target").style("visibility","hidden"),this.callback_manager.run("select_metabolite_with_id",null,c,b)}function R(a,b,c){c=Sa.isUndefined(c)?!1:c;var d,e=this.sel.selectAll("#nodes,#text-labels").selectAll(".node,.text-label");d=-1==Ta(a).attr("class").indexOf("text-label")?a.parentNode:a,c?Ta(d).classed("selected",!Ta(d).classed("selected")):(e.classed("selected",!1),Ta(d).classed("selected",!0));var f,g,h=this.sel.select("#nodes").selectAll(".selected"),i=0;h.each(function(a){g=a,f={x:a.x,y:a.y},i++}),this.callback_manager.run("select_selectable",null,i,g,f)}function S(){var a=null,b=this.sel.select("#nodes").selectAll(".selected");return b.classed("selected",function(b,c){return 0===c?(a=b,!0):!1}),a}function T(){var a=this.sel.select("#nodes").selectAll(".node");a.classed("selected",!1),this.callback_manager.run("deselect_nodes")}function U(a,b){this.deselect_nodes();var c=this.sel.select("#text-labels").selectAll(".text-label");c.classed("selected",function(a){return b===a});var d,e=this.sel.select("#text-labels").selectAll(".selected");e.each(function(a){d={x:a.x,y:a.y}}),this.callback_manager.run("select_text_label")}function V(){var a=this.sel.select("#text-labels").selectAll(".text-label");a.classed("selected",!1)}function W(){var a=this.get_selected_nodes(),b=this.get_selected_text_labels();(Object.keys(a).length>=1||Object.keys(b).length>=1)&&this.delete_selectable(a,b,!0)}function X(a,b,c){var d=this.segments_and_reactions_for_nodes(a),e=d.segment_objs_w_segments,f=d.reactions,g=Ha.clone(a),h=Ha.clone(e),i=Ha.clone(f),j=Ha.clone(b),k=function(b,d,e,f){this.delete_node_data(Object.keys(a)),this.delete_segment_data(e),this.delete_reaction_data(Object.keys(d)),this.delete_text_label_data(Object.keys(f));var g=!1,h=!1;this.has_data_on_reactions&&(g=this.calc_data_stats("reaction")),this.has_data_on_nodes&&(h=this.calc_data_stats("metabolite")),c&&(g?this.draw_all_reactions(!0,!0):this.clear_deleted_reactions(),h?this.draw_all_nodes(!0):this.clear_deleted_nodes(),this.clear_deleted_text_labels())}.bind(this);k(a,f,e,b),this.undo_stack.push(function(){this.extend_nodes(g),this.extend_reactions(i);var d=Object.keys(i);for(var k in h){var l=h[k],m=l.segment;this.reactions[l.reaction_id].segments[l.segment_id]=m;var n=[m.from_node_id,m.to_node_id];n.forEach(function(a){if(!(a in g)){var b=this.nodes[a];b.connected_segments.push({reaction_id:l.reaction_id,segment_id:l.segment_id})}}.bind(this));var o=l.segment_id,p=l.reaction_id,q={};q[o]=l.segment,Ha.extend(this.beziers,La.new_beziers_for_segments(q,p)),-1===d.indexOf(l.reaction_id)&&d.push(l.reaction_id)}if(this.has_data_on_reactions){var r=this.calc_data_stats("reaction");r?this.draw_all_reactions(!0,!1):this.draw_these_reactions(d)}else c&&this.draw_these_reactions(d);if(this.has_data_on_nodes){var r=this.calc_data_stats("metabolite");c&&(r?this.draw_all_nodes(!1):this.draw_these_nodes(Object.keys(g)))}else c&&this.draw_these_nodes(Object.keys(g));Ha.extend(this.text_labels,j),c&&this.draw_these_text_labels(Object.keys(j)),b=Ha.clone(j),a=Ha.clone(g),e=Ha.clone(h),f=Ha.clone(i)}.bind(this),function(){k(a,f,e,b)}.bind(this))}function Y(a){a.forEach(function(a){if(this.enable_search&&"metabolite"==this.nodes[a].node_type){var b=this.search_index.remove("n"+a)&&this.search_index.remove("n_name"+a);b||console.warn("Could not find deleted metabolite in search index")}delete this.nodes[a]}.bind(this))}function Z(a){for(var b in a){var c=a[b],d=this.reactions[c.reaction_id];if(!(c.segment_id in d.segments))return;var e=d.segments[c.segment_id];[e.from_node_id,e.to_node_id].forEach(function(a){if(a in this.nodes){var b=this.nodes[a];b.connected_segments=b.connected_segments.filter(function(a){return a.segment_id!=c.segment_id})}}.bind(this)),["b1","b2"].forEach(function(a){var b=La.bezier_id_for_segment_id(c.segment_id,a);delete this.beziers[b]}.bind(this)),delete d.segments[c.segment_id]}}function $(a){a.forEach(function(a){var b=this.reactions[a];for(var c in b.segments)["b1","b2"].forEach(function(a){var b=La.bezier_id_for_segment_id(c,a);delete this.beziers[b]}.bind(this));delete this.reactions[a];var d=this.search_index.remove("r"+a)&&this.search_index.remove("r_name"+a);d||console.warn("Could not find deleted reaction "+a+" in search index");for(var e in b.genes){var d=this.search_index.remove("r"+a+"_g"+e)&&this.search_index.remove("r"+a+"_g_name"+e);d||console.warn("Could not find deleted gene "+e+" in search index")}}.bind(this))}function _(a){a.forEach(function(a){delete this.text_labels[a];var b=this.search_index.remove("l"+a);b||console.warn("Could not find deleted text label in search index")}.bind(this))}function aa(a,b){this.extend_nodes(a);var c=[b];if(this.has_data_on_nodes){if(null===this.imported_metabolite_data)throw new Error("imported_metabolite_data should not be null");var d=this.apply_metabolite_data_to_map(this.imported_metabolite_data,c);d?this.draw_all_nodes(!1):this.draw_these_nodes(c)}else this.draw_these_nodes(c)}function ba(a,b,c){if(!this.cobra_model)return void console.error("No CobraModel. Cannot build new reaction");var d=Ha.clone(this.cobra_model.reactions[a]);if(0===Sa.size(d.metabolites))throw Error("No metabolites in reaction "+d.bigg_id);var e=Sa.map(d.metabolites,function(a,b){return[a,b]}).filter(function(a){return a[0]<0}).map(function(a){return a[1]}),f=e.length>0?e[0]:Object.keys(d.metabolites)[0],g=this.cobra_model.metabolites[f],h=String(++this.largest_ids.nodes),i=La.get_met_label_loc(Math.PI/180*c,0,1,!0,f),j={connected_segments:[],x:b.x,y:b.y,node_is_primary:!0,label_x:b.x+i.x,label_y:b.y+i.y,name:g.name,bigg_id:f,node_type:"metabolite"},k={};k[h]=j,aa.apply(this,[k,h]);var l=Ha.clone(k),m=this.new_reaction_for_metabolite(a,h,c,!1),n=m.redo,o=m.undo;this.undo_stack.push(function(){o(),this.delete_node_data(Object.keys(k)),k=Ha.clone(l),this.clear_deleted_nodes(),this.deselect_nodes()}.bind(this),function(){aa.apply(this,[k,h]),n()}.bind(this))}function ca(a){if(this.enable_search)for(var b in a){var c=a[b];"metabolite"==c.node_type&&(this.search_index.insert("n"+b,{name:c.bigg_id,data:{type:"metabolite",node_id:b}}),this.search_index.insert("n_name"+b,{name:c.name,data:{type:"metabolite",node_id:b}}))}Ha.extend(this.nodes,a)}function da(a){if(this.enable_search)for(var b in a){var c=a[b];this.search_index.insert("r"+b,{name:c.bigg_id,data:{type:"reaction",reaction_id:b}}),this.search_index.insert("r_name"+b,{name:c.name,data:{type:"reaction",reaction_id:b}});for(var d in c.genes){var e=c.genes[d];this.search_index.insert("r"+b+"_g"+d,{name:e.bigg_id,data:{type:"reaction",reaction_id:b}}),this.search_index.insert("r"+b+"_g_name"+d,{name:e.name,data:{type:"reaction",reaction_id:b}})}}Ha.extend(this.reactions,a)}function ea(a,b,c,d){this.extend_reactions(b),Ha.extend(this.beziers,c),this.delete_node_data([d]),this.extend_nodes(a);var e=Object.keys(b);if(this.has_data_on_reactions){var f=!1;if(this.imported_reaction_data)f=this.apply_reaction_data_to_map(this.imported_reaction_data,e);else{if(!this.imported_gene_data)throw new Error("imported_gene_data or imported_reaction_data should not be null");f=this.apply_gene_data_to_map(this.imported_gene_data,e)}f?this.draw_all_reactions(!0,!1):this.draw_these_reactions(e)}else this.draw_these_reactions(e);var g=Object.keys(a);if(this.has_data_on_nodes){if(null===this.imported_metabolite_data)throw new Error("imported_metabolite_data should not be null");var f=this.apply_metabolite_data_to_map(this.imported_metabolite_data,g);f?this.draw_all_nodes(!1):this.draw_these_nodes(g)}else this.draw_these_nodes(g);for(var h in a){var i=a[h];if(i.node_is_primary&&h!=d){this.select_metabolite_with_id(h);var j={x:i.x,y:i.y};this.zoom_container&&this.zoom_container.translate_off_screen(j)}}}function fa(a,b,c,d){void 0===d&&(d=!0);var e=this.nodes[b],f=this.cobra_model.reactions[a],g=La.new_reaction(a,f,this.cobra_model.metabolites,b,Ha.clone(e),this.largest_ids,this.settings.get_option("cofactors"),c),h=g.new_nodes,i=g.new_reactions,j=g.new_beziers;ea.apply(this,[h,i,j,b]);var k=Ha.clone(h),l=Ha.clone(i),m=Ha.clone(j),n=function(){if(delete h[b],this.delete_node_data(Object.keys(h)),this.delete_reaction_data(Object.keys(i)),Q.apply(this,[b]),h=Ha.clone(k),i=Ha.clone(l),j=Ha.clone(m),this.has_data_on_reactions){var a=this.calc_data_stats("reaction");a?this.draw_all_reactions(!0,!0):this.clear_deleted_reactions(!0)}else this.clear_deleted_reactions(!0);if(this.has_data_on_nodes){var a=this.calc_data_stats("metabolite");a?this.draw_all_nodes(!0):this.clear_deleted_nodes()}else this.clear_deleted_nodes()}.bind(this),o=function(){ea.apply(this,[h,i,j,b])}.bind(this);return d&&this.undo_stack.push(n,o),{undo:n,redo:o}}function ga(){var a,b=this.get_selected_nodes(),c=Object.keys(b)[0],d=(b[c],this.reactions),e=this.nodes,f=[];if(e[c].connected_segments.forEach(function(b){a=[b.reaction_id];var e;try{if(e=d[b.reaction_id].segments[b.segment_id],
void 0===e)throw new Error("undefined segment")}catch(g){return void console.warn("Could not find connected segment "+b.segment_id)}f.push(e.from_node_id==c?e.to_node_id:e.from_node_id)}),1!=f.length)return void console.error("Only connected nodes with a single reaction can be selected");var g=f[0],h=[c];e[g].connected_segments.forEach(function(a){var b;try{if(b=d[a.reaction_id].segments[a.segment_id],void 0===b)throw new Error("undefined segment")}catch(f){return void console.warn("Could not find connected segment "+a.segment_id)}var i=b.from_node_id==g?b.to_node_id:b.from_node_id,j=e[i];"metabolite"==j.node_type&&i!=c&&h.push(String(i))});for(var i=0;i<h.length;i++)if(e[h[i]].connected_segments.length>1)return void console.error("Only connected nodes with a single reaction can be selected");for(var j in b)if(j!=c&&-1==h.indexOf(j))return void console.warn("Selected nodes are not on the same reaction");var k=[],l=h.length-1,m=e[h[l]],n=m.node_is_primary,o={x:m.x,y:m.y,label_x:m.label_x,label_y:m.label_y};m.connected_segments.length>1&&console.warn("Too many connected segments for node "+m.node_id);var p,q=m.connected_segments[0];try{if(p=d[q.reaction_id].segments[q.segment_id],void 0===p)throw new Error("undefined segment")}catch(r){return void console.error("Could not find connected segment "+q.segment_id)}var s,t={b1:p.b1,b2:p.b2};h.forEach(function(a){var b=e[a],c=b.node_is_primary,f={x:b.x,y:b.y,label_x:b.label_x,label_y:b.label_y},g=b.connected_segments[0],h=d[g.reaction_id].segments[g.segment_id],i={b1:h.b1,b2:h.b2};b.node_is_primary=n,b.x=o.x,b.y=o.y,b.label_x=o.label_x,b.label_y=o.label_y,h.b1=t.b1,h.b2=t.b2,n=c,o=f,t=i,b.node_is_primary&&(s=a),k.push(a)});var u=e[g].connected_segments,l=u.length-1,v=[u[l]];u.forEach(function(a,b){l!=b&&v.push(a)}),e[g].connected_segments=v,this.draw_these_nodes(k),this.draw_these_reactions(a),this.select_metabolite_with_id(s)}function ha(){var a=this.get_selected_node_ids(),b=function(a){var b={},c=this.settings.get_option("hide_secondary_metabolites");if(a.forEach(function(a){if(!(a in this.nodes))return void console.warn("Could not find node: "+a);var c=this.nodes[a];"metabolite"==c.node_type&&(c.node_is_primary=!c.node_is_primary,b[a]=c)}.bind(this)),this.draw_these_nodes(Object.keys(b)),c){var d=this.segments_and_reactions_for_nodes(b),e={};for(var f in d.segment_objs_w_segments){var g=d.segment_objs_w_segments[f].reaction_id;e[g]=!0}this.draw_these_reactions(Object.keys(e))}}.bind(this);b(a),this.undo_stack.push(function(){b(a)},function(){b(a)})}function ia(a){var b={},c={},d={},e=this.reactions;for(var f in a){var g=a[f];g.connected_segments.forEach(function(a){var c;try{if(c=e[a.reaction_id].segments[a.segment_id],void 0===c)throw new Error("undefined segment")}catch(f){return void console.warn("Could not find connected segments for node")}var g=Ha.clone(a);g.segment=Ha.clone(c),b[a.segment_id]=g,a.reaction_id in d||(d[a.reaction_id]=[]),d[a.reaction_id].push(a.segment_id)})}for(var h in d){var i=e[h],j=d[h],k=!0;for(var l in i.segments)-1==j.indexOf(l)&&(k=!1);k&&(c[h]=i)}return{segment_objs_w_segments:b,reactions:c}}function ja(a,b){this.search_index.insert("l"+a,{name:b,data:{type:"text_label",text_label_id:a}})}function ka(a,b){var c=La.new_text_label(this.largest_ids,b,a);return this.text_labels[c.id]=c.label,this.draw_these_text_labels([c.id]),""!==b&&this.add_label_to_search_index(c.id,b),c.id}function la(a,b,c,d){if(Sa.isUndefined(d)&&(d=!1),""===b)throw new Error("Should not be called for empty string");var e=function(b,c){var e=this.text_labels[a];e.text=b,c&&this.draw_these_text_labels([a]);var f="l"+a,g=this.search_index.remove(f);d||g||console.warn("Could not find modified text label in search index"),this.search_index.insert(f,{name:b,data:{type:"text_label",text_label_id:a}})}.bind(this),f=Ha.clone(this.text_labels[a]);e(b,c),this.undo_stack.push(function(){d?(this.delete_text_label_data([a]),this.clear_deleted_text_labels()):e(f.text,!0)}.bind(this),function(){d?(this.text_labels[a]=Ha.clone(f),this.text_labels[a].text=b,this.draw_these_text_labels([a]),this.add_label_to_search_index(a,b)):e(b,!0)}.bind(this))}function ma(a){this._zoom_extent(a,"nodes")}function na(a){this._zoom_extent(a,"canvas")}function oa(a,b){Sa.isUndefined(a)&&(a="nodes"===b?.2:0),Sa.isUndefined(b)&&(b="canvas");var c,d,e=this.get_size();if(a*=e.height,"nodes"===b){var f={x:null,y:null},g={x:null,y:null};for(var h in this.nodes){var i=this.nodes[h];null===f.x&&(f.x=i.x),null===f.y&&(f.y=i.y),null===g.x&&(g.x=i.x),null===g.y&&(g.y=i.y),f.x=Math.min(f.x,i.x),f.y=Math.min(f.y,i.y),g.x=Math.max(g.x,i.x),g.y=Math.max(g.y,i.y)}c=Math.min((e.width-2*a)/(g.x-f.x),(e.height-2*a)/(g.y-f.y)),d={x:-(f.x*c)+a+(e.width-2*a-(g.x-f.x)*c)/2,y:-(f.y*c)+a+(e.height-2*a-(g.y-f.y)*c)/2}}else{if("canvas"!=b)return console.error("Did not recognize mode");c=Math.min((e.width-2*a)/this.canvas.width,(e.height-2*a)/this.canvas.height),d={x:-(this.canvas.x*c)+a+(e.width-2*a-this.canvas.width*c)/2,y:-(this.canvas.y*c)+a+(e.height-2*a-this.canvas.height*c)/2}}return this.zoom_container.go_to(c,d),null}function pa(){return this.zoom_container.get_size()}function qa(a){var b=this.reactions[a],c=.5,d=this.get_size(),e={x:-b.label_x*c+d.width/2,y:-b.label_y*c+d.height/2};this.zoom_container.go_to(c,e)}function ra(a){var b=this.nodes[a],c=.5,d=this.get_size(),e={x:-b.label_x*c+d.width/2,y:-b.label_y*c+d.height/2};this.zoom_container.go_to(c,e)}function sa(a){var b=this.text_labels[a],c=.5,d=this.get_size(),e={x:-b.x*c+d.width/2,y:-b.y*c+d.height/2};this.zoom_container.go_to(c,e)}function ta(a){this.highlight(this.sel.selectAll("#r"+a).selectAll("text"))}function ua(a){this.highlight(this.sel.selectAll("#n"+a).selectAll("text"))}function va(a){this.highlight(this.sel.selectAll("#l"+a).selectAll("text"))}function wa(a){this.sel.selectAll(".highlight").classed("highlight",!1),null!==a&&a.classed("highlight",!0)}function xa(){return document.fullscreenEnabled?"fullscreenchange":document.mozFullScreenEnabled?"mozfullscreenchange":document.webkitFullscreenEnabled?"webkitfullscreenchange":document.msFullscreenEnabled?"MSFullscreenChange":null}function ya(a){document.addEventListener(xa(),a),this.full_screen_listener=a}function za(){document.removeEventListener(xa(),this.full_screen_listener)}function Aa(){var a=this.zoom_container.selection,b=a.node(),c=document,d=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement||c.msFullscreenElement;if(d)if(a.classed("full-screen-on",!1),c.exitFullscreen)c.exitFullscreen();else if(c.mozCancelFullScreen)c.mozCancelFullScreen();else if(c.webkitExitFullscreen)c.webkitExitFullscreen();else{if(!c.msExitFullscreen)throw Error("Cannot exit full screen");c.msExitFullscreen()}else if(a.classed("full-screen-on",!0),b.requestFullscreen)b.requestFullscreen();else if(b.mozRequestFullScreen)b.mozRequestFullScreen();else if(b.webkitRequestFullscreen)b.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else{if(!b.msRequestFullscreen)throw Error("Full screen does not seem to be supported on this system.");b.msRequestFullscreen()}}function Ba(){Ha.download_json(this.map_for_export(),this.map_name)}function Ca(){var a=[{map_name:this.map_name,map_id:this.map_id,map_description:this.map_description,homepage:"https://escher.github.io",schema:"https://escher.github.io/escher/jsonschema/1-0-0#"},{reactions:Ha.clone(this.reactions),nodes:Ha.clone(this.nodes),text_labels:Ha.clone(this.text_labels),canvas:this.canvas.size_and_location()}];for(var b in a[1].reactions){var c=a[1].reactions[b],d={},e=["name","bigg_id","reversibility","label_x","label_y","gene_reaction_rule","genes","metabolites"];e.forEach(function(a){d[a]=c[a]}),d.segments={};for(var f in c.segments){var g=c.segments[f],h={},e=["from_node_id","to_node_id","b1","b2"];e.forEach(function(a){h[a]=g[a]}),d.segments[f]=h}a[1].reactions[b]=d}for(var i in a[1].nodes){var e,j=a[1].nodes[i],k={};e="metabolite"===j.node_type?["node_type","x","y","bigg_id","name","label_x","label_y","node_is_primary"]:["node_type","x","y"],e.forEach(function(a){k[a]=j[a]}),a[1].nodes[i]=k}for(var l in a[1].text_labels){var m=a[1].text_labels[l],n={},e=["x","y","text"];e.forEach(function(a){n[a]=m[a]}),a[1].text_labels[l]=n}var o=a[1].canvas,p={},e=["x","y","width","height"];return e.forEach(function(a){p[a]=o[a]}),a[1].canvas=p,a}function Da(a,b,c,d){a.callback_manager.run(b);var e=a.zoom_container.window_scale,f=a.zoom_container.window_translate,g=a.canvas.size_and_location(),h={w:a.canvas.mouse_node.attr("width"),h:a.canvas.mouse_node.attr("height"),transform:a.canvas.mouse_node.attr("transform")};a.zoom_container._go_to_svg(1,{x:-g.x,y:-g.y},function(){a.svg.attr("width",g.width),a.svg.attr("height",g.height),a.canvas.mouse_node.attr("width","0px"),a.canvas.mouse_node.attr("height","0px"),a.canvas.mouse_node.attr("transform",null);var b=a.sel.selectAll(".multimarker-circle,.midmarker-circle,#canvas").style("visibility","hidden");"svg"==d?Ha.download_svg("saved_map",a.svg,!0):"png"==d&&Ha.download_png("saved_map",a.svg,!0),a.zoom_container._go_to_svg(e,f,function(){a.svg.attr("width",null),a.svg.attr("height",null),a.canvas.mouse_node.attr("width",h.w),a.canvas.mouse_node.attr("height",h.h),a.canvas.mouse_node.attr("transform",h.transform),b.style("visibility",null),a.callback_manager.run(c)}.bind(a))}.bind(a))}function Ea(){Da(this,"before_svg_export","after_svg_export","svg")}function Fa(){Da(this,"before_png_export","after_png_export","png")}function Ga(){if(this.callback_manager.run("before_convert_map"),!this.has_cobra_model())throw Error("No COBRA model loaded.");var a,b=this.cobra_model,c={},d=["name","gene_reaction_rule","genes"],e={},f=["name"];for(var g in this.reactions){var h=this.reactions[g];a=!1;for(var i in b.reactions){var j=b.reactions[i];j.bigg_id==h.bigg_id&&(d.forEach(function(a){h[a]=j[a]}),a=!0)}a||(c[g]=!0)}for(var k in this.nodes){var l=this.nodes[k];if("metabolite"==l.node_type){a=!1;for(var m in b.metabolites){var n=b.metabolites[m];n.bigg_id==l.bigg_id&&(f.forEach(function(a){l[a]=n[a]}),a=!0)}a||(e[k]=!0)}}var o=Object.keys(c).length,p=Object.keys(e).length,q=3e3;0===o&&0===p?this.set_status("Successfully converted attributes.",q):0===p?(this.set_status("Converted attributes, but count not find "+o+" reactions in the model.",q),this.settings.set_conditional("highlight_missing",!0)):0===o?(this.set_status("Converted attributes, but count not find "+p+" metabolites in the model.",q),this.settings.set_conditional("highlight_missing",!0)):(this.set_status("Converted attributes, but count not find "+o+" reactions and "+p+" metabolites in the model.",q),this.settings.set_conditional("highlight_missing",!0)),this.draw_everything(),this.callback_manager.run("after_convert_map")}var Ha=a("./utils"),Ia=a("./Draw"),Ja=a("./Behavior"),Ka=a("./Scale"),La=a("./build"),Ma=a("./UndoStack"),Na=a("./CallbackManager"),Oa=a("./KeyManager"),Pa=a("./Canvas"),Qa=a("./data_styles"),Ra=a("./SearchIndex"),Sa=(a("baconjs"),a("underscore")),Ta=a("d3-selection").select,Ua=Ha.make_class();Ua.from_data=e,Ua.prototype={init:d,setup_containers:f,reset_containers:g,set_status:h,clear_map:i,select_all:N,select_none:O,invert_selection:P,select_selectable:R,select_metabolite_with_id:Q,select_single_node:S,deselect_nodes:T,select_text_label:U,deselect_text_labels:V,new_reaction_from_scratch:ba,extend_nodes:ca,extend_reactions:da,new_reaction_for_metabolite:fa,cycle_primary_node:ga,toggle_selected_node_primary:ha,add_label_to_search_index:ja,new_text_label:ka,edit_text_label:la,delete_selected:W,delete_selectable:X,delete_node_data:Y,delete_segment_data:Z,delete_reaction_data:$,delete_text_label_data:_,get_selected_node_ids:J,get_selected_nodes:K,get_selected_text_label_ids:L,get_selected_text_labels:M,segments_and_reactions_for_nodes:ia,draw_everything:k,draw_all_reactions:l,draw_these_reactions:m,clear_deleted_reactions:n,update_these_reactions_opacity:q,draw_these_knockouts:o,clear_these_knockouts:p,draw_all_nodes:r,draw_these_nodes:s,clear_deleted_nodes:t,draw_all_text_labels:u,draw_these_text_labels:v,clear_deleted_text_labels:w,draw_all_beziers:x,draw_these_beziers:y,clear_deleted_beziers:z,toggle_beziers:C,hide_beziers:B,show_beziers:A,has_cobra_model:j,apply_reaction_data_to_map:D,apply_metabolite_data_to_map:E,apply_gene_data_to_map:F,get_data_statistics:G,calc_data_stats:I,zoom_extent_nodes:ma,zoom_extent_canvas:na,_zoom_extent:oa,get_size:pa,zoom_to_reaction:qa,zoom_to_node:ra,zoom_to_text_label:sa,highlight_reaction:ta,highlight_node:ua,highlight_text_label:va,highlight:wa,listen_for_full_screen:ya,unlisten_for_full_screen:za,full_screen:Aa,save:Ba,map_for_export:Ca,save_svg:Ea,save_png:Fa,convert_map:Ga},b.exports=Ua},{"./Behavior":1,"./CallbackManager":5,"./Canvas":6,"./Draw":10,"./KeyManager":11,"./Scale":16,"./SearchIndex":19,"./UndoStack":25,"./build":27,"./data_styles":29,"./utils":34,baconjs:60,"d3-selection":161,underscore:331}],13:[function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var f=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=a("jsnetworkx"),h=new Set(["MNXM3","MNXM7","MNXM8","MNXM10","MNXM5","MNXM6","MNXM51","MNXM30","MNXM12","MNXM80","MNXM1","MNXM4","MNXM13","MNXM2"]),i=function(a){var b=a.map(function(a){return Object.keys(a.metabolites)}).reduce(function(a,b){return Array.prototype.concat(a,b)},[]);return Array.from(new Set(b))},j=function(a,b){return Object.assign.apply(Object,[{}].concat(e(b.map(function(b){return d({},b,a.filter(function(a){return a.metabolites.hasOwnProperty(b)}))}))))},k=function(a){return Object.entries(a).filter(function(a){var b=f(a,2),c=(b[0],b[1]);return c.length>2}).map(function(a){var b=f(a,1),c=b[0];return c})},l=function(a,b){return Object.entries(a).filter(function(c){var d=f(c,2),e=(d[0],d[1]);return e*a[b]<0}).map(function(a){var b=f(a,1),c=b[0];return c})},m=function(a,b,c){return l(a,b).filter(function(a){return!c.has(a)})},n=function p(a,b,c){var g=b.reactionsByMetabolite[c].filter(function(a){return!b.visitedReactions.has(a.name)});if(1!==g.length)return b;var h=f(g,1),i=h[0];b.graph.addEdge(i.id,a.id),b=Object.assign({},b,{visitedReactions:new Set([].concat(e(Array.from(b.visitedReactions)),[i.name])),primaryNodes:Object.assign({},b.primaryNodes,d({},i.id,c))});var j=m(i.metabolites,c,b.cofactors);return j.reduce(function(a,b){return p(i,a,b)},b)},o=function(a,b){var c=i(a),l=j(a,c),o=new Set(k(l)),p=new g.DiGraph,q=f(l[b],1),r=q[0];p.addNode(r.id);var s=new Set([].concat(e(Array.from(h)),e(Array.from(o)))),t={graph:p,visitedReactions:new Set([r.name]),primaryNodes:d({},r.id,b),reactionsByMetabolite:l,cofactors:s},u=m(r.metabolites,b,s);t=u.reduce(function(a,b){return n(r,a,b)},t);var v=g.topologicalSort(t.graph);return{reactions:v,primaryNodes:v.map(function(a){return t.primaryNodes[a]})}};b.exports={reactionsMetabolites:i,groupReactionsByMetabolite:j,obtainCofactors:k,oppositeMetabolites:l,notSecondaryMetabolites:m,fillReactionsGraph:n,sortedReactionsProducts:o}},{jsnetworkx:251}],14:[function(a,b,c){"use strict";function d(a,b,c){this.div=a,this.map=b,this.displacement=void 0===c?{x:0,y:0}:c,this.visible=!0,this.hide()}function e(){return this.visible}function f(a){this.div.style("display",null);var b=this.map.zoom_container.window_translate,c=this.map.zoom_container.window_scale,d=this.map.get_size(),e=Math.max(20,Math.min(d.width-270,c*a.x+b.x-this.displacement.x)),f=Math.max(20,Math.min(d.height-40,c*a.y+b.y-this.displacement.y));this.div.style("position","absolute").style("display","block").style("left",e+"px").style("top",f+"px"),this.visible=!0}function g(){this.visible&&(this.div.style("display","none"),this.visible=!1)}var h=a("./utils"),i=h.make_class();i.prototype={init:d,is_visible:e,place:f,hide:g},b.exports=i},{"./utils":34}],15:[function(a,b,c){"use strict";function d(a,b){var c=a.append("select").attr("id","quick-jump-menu").attr("class","form-control");this.selector=c;var d=g.parse_url_components(window),e="map_name"in d?d.map_name:null,f="quick_jump_path"in d?d.quick_jump_path:null,h="quick_jump"in d?d.quick_jump:[],i="— Jump to map —",j=[i].concat(h);null!==e&&(j=j.filter(function(a){return a!=e}));var k=function(a){b(a,f,function(b){b?this.replace_state_for_map_name(a):this.reset_selection()}.bind(this))}.bind(this);if(j.length>1){var l=c.selectAll("option").data(j);l.enter().append("option").merge(l).text(function(a){return a.split(".").slice(-1)[0]}),c.on("change",function(){var a=this.options[this.selectedIndex].__data__;k(a)})}else c.style("display","none")}function e(){this.selector.node().selectedIndex=0}function f(a){var b=window.location.href.replace(/(map_name=)([^&]+)(&|$)/,"$1"+a+"$3");window.history.replaceState("Not implemented","",b)}var g=a("./utils"),h=g.make_class();h.prototype={init:d,reset_selection:e,replace_state_for_map_name:f},b.exports=h},{"./utils":34}],16:[function(a,b,c){"use strict";function d(){this.x=g(),this.y=g(),this.x_size=g(),this.y_size=g(),this.size=g(),this.reaction_color=g().clamp(!0),this.reaction_size=g().clamp(!0),this.metabolite_color=g().clamp(!0),this.metabolite_size=g().clamp(!0),this.scale_path=function(a){var b=this.x,c=this.y,d=h(".2f"),a=a.replace(/(M|L)([0-9-.]+),?\s*([0-9-.]+)/g,function(a,e,f,g){return e+[d(b(parseFloat(f))),d(c(parseFloat(g)))].join(", ")}),e=/C([0-9-.]+),?\s*([0-9-.]+)\s*([0-9-.]+),?\s*([0-9-.]+)\s*([0-9-.]+),?\s*([0-9-.]+)/g;return a=a.replace(e,function(a,e,f,g,h,i,j){return"C"+d(b(parseFloat(e)))+","+d(c(parseFloat(f)))+" "+d(b(parseFloat(g)))+","+d(c(parseFloat(h)))+" "+[d(b(parseFloat(i)))+","+d(c(parseFloat(j)))]})}.bind(this),this.scale_decimals=function(a,b,c){var d=h("."+String(c)+"f");return a=a.replace(/([0-9.]+)/g,function(a,c){return d(b(parseFloat(c)))})}}function e(a,b,c){function d(a,b){var c=a.map(function(a){var c;if(a.type in b)c=b[a.type];else{if("value"!=a.type)throw new Error("Bad domain type "+a.type);c=a.value}return{v:c,color:a.color,size:a.size}}).sort(function(a,b){return a.v-b.v});return{domain:c.map(function(a){return a.v}),color_range:c.map(function(a){return a.color}),size_range:c.map(function(a){return a.size})}}var e=function(a){var b=d(a,c().reaction);this.reaction_color.domain(b.domain),this.reaction_size.domain(b.domain),this.reaction_color.range(b.color_range),this.reaction_size.range(b.size_range)}.bind(this),f=function(a){var b=d(a,c().metabolite);this.metabolite_color.domain(b.domain),this.metabolite_size.domain(b.domain),this.metabolite_color.range(b.color_range),this.metabolite_size.range(b.size_range)}.bind(this);a.streams.reaction_scale.onValue(e),a.streams.metabolite_scale.onValue(f),b.callback_manager.set("calc_data_stats__reaction",function(b){b&&e(a.get_option("reaction_scale"))}),b.callback_manager.set("calc_data_stats__metabolite",function(b){b&&f(a.get_option("metabolite_scale"))})}var f=a("./utils"),g=a("d3-scale").scaleLinear,h=a("d3-format").format,i=f.make_class();i.prototype={init:d,connect_to_settings:e},b.exports=i},{"./utils":34,"d3-format":157,"d3-scale":160}],17:[function(a,b,c){"use strict";function d(a,b,c,d){var e="grad"+b+this.unique_string;this.w=400,this.h=30,this.x=20,this.input_width=90,this.input_height=24;var f=a.append("div").attr("class","scale-editor");this.data_not_loaded=f.append("div").attr("class","data-not-loaded").text(("reaction"===b?"Reaction and gene":"Metabolite")+" data not loaded"),this.input_label_group=f.append("div").attr("class","input-label-group");var g=f.append("div").style("top",3*this.input_height+56+10+"px").attr("class","no-data");g.append("span").text("Styles for "+b+"s with no data").attr("class","no-data-heading"),this.no_data_container=g.append("div");var h=f.append("div").attr("class","centered");this.add_group=h.append("div"),this.trash_group=h.append("div").attr("class","trash-container");var i=h.append("svg").attr("class","scale-svg");this.input_group=h.append("div").attr("class","input-container"),this.gradient=i.append("defs").append("linearGradient").attr("id",e),i.append("rect").attr("class","rect").attr("fill","url(#"+e+")").attr("width",this.w+"px").attr("height",this.h+"px").attr("x",this.x+"px"),this.pickers_group=i.append("g"),this.type=b,this.settings=c,this.get_data_statistics=d;var j=this.settings.get_option("unique_map_id");this.unique_string=null===j?"":"."+j,this.no_data={};var k=["color","size"];k.forEach(function(a){this.no_data[a]=null,this.settings.streams[this.type+"_no_data_"+a].onValue(function(b){this.no_data[a]=b,this.update_no_data()}.bind(this))}.bind(this)),this.settings.streams[b+"_scale"].onValue(function(a){this.scale=a,this.update()}.bind(this))}function e(){var a=this.scale,b=this.get_data_statistics()[this.type],c=14,d=35,e=this.x,f=this._data_not_loaded();f&&(a=[{type:"min",color:null,size:null},{type:"max",color:null,size:null}],b={min:0,max:1});var g=i().domain([0,this.w]).range([b.min,b.max]),h=i().domain([0,this.w]).range([0,b.max-b.min]),n=function(a,b){this.input_group.selectAll(".input-set").each(function(b){l(this).classed("selected-set",a===b)})}.bind(this),o=function(a){return"value"===a.type?a.value:b[a.type]},p=function(a){this.settings.set_conditional(this.type+"_scale",a),this.scale=a,this.update()}.bind(this),q=a.map(function(a){var c=b.max===b.min?"min"===a.type?0:-1:(o(a)-b.min)/(b.max-b.min);return{frac:c,color:a.color}}).filter(function(a){return a.frac>=0&&a.frac<=1}).sort(function(a,b){return a.frac-b.frac}),r=this.gradient.selectAll("stop").data(q);r.enter().append("stop").merge(r).attr("offset",function(a){return 100*a.frac+"%"}).style("stop-color",function(a){return null===a.color?"#F1ECFA":a.color}),r.exit().remove(),this.data_not_loaded.style("visibility",f?null:"hidden");var s=this.w,t=0,u=a.sort(function(a,b){return o(a)-o(b)}).map(function(a,d){var f,h=o(a),i=c+2;return f="value"===a.type&&h<=b.min?g.invert(b.min)-c/2+e-i:"value"===a.type&&h>=b.max?g.invert(b.max)-c/2+e+i:g.invert(h)-c/2+e,"min"!==a.type&&"max"!==a.type&&(f=Math.min(Math.max(f,t+i),s-2)),t=f,Object.assign({},a,{adjusted_x:f})}.bind(this)),v=this.pickers_group.selectAll(".picker").data(u),w=k().on("start",n).on("drag",function(d,e){-1===["value","min","max"].indexOf(a[e].type)&&(a[e].value=o(d),a[e].type="value");var f=a[e].value+h(m.event.dx),g=h(c+2);f>b.max-g&&(f=b.max-g),f<b.min+g&&(f=b.min+g),f=Math.floor(100*f)/100,a[e].value=f,this.settings.set_conditional(this.type+"_scale",a),this.scale=a,this.update()}.bind(this));v.enter().append("g").attr("class","picker").style("cursor","pointer").append("rect").merge(v).select("rect").attr("x",function(a,b){return a.adjusted_x}).attr("width",c+"px").attr("height",d+"px").call(w),v.exit().remove();var x=this.trash_group.selectAll("span").data(u);x.enter().append("span").merge(x).attr("class",function(a,b){return"min"===a.type||"max"===a.type?null:"trash glyphicon glyphicon-trash"}).style("left",function(a){return a.adjusted_x+"px"}).on("click",function(b,c){"min"!==b.type&&"max"!==b.type&&(a=a.slice(0,c).concat(a.slice(c+1)),this.settings.set_conditional(this.type+"_scale",a),this.scale=a,this.update())}.bind(this)),x.exit().remove();var y=this.add_group.selectAll(".add").data(["add"]);y.enter().append("span").attr("class","add glyphicon glyphicon-plus").merge(y).on("click",function(d){if(!f){for(var e=(b.max+b.min)/2,g=h(c+2),i=0,j=0,k=a.length;k>j;j++){var l=o(a[j]);Math.abs(l-e)<g&&(e+=g,e>b.max-g&&(e=b.max-g),e<b.min+g&&(e=b.min+g)),e>l&&(i=j)}a.push({type:"value",value:e,color:a[i].color,size:a[i].size}),p(a)}}.bind(this)),y.exit().remove();var z=this.input_label_group.selectAll(".row-label").data(["Value:","Color:","Size:"]);z.enter().append("div").attr("class","row-label").style("height",this.input_height+"px").style("line-height",this.input_height+"px").merge(z).style("top",function(a,b){return 56+b*this.input_height+"px"}.bind(this)).text(function(a){return a}),z.exit().remove();var A=this.input_group.selectAll(".input-set").data(u),B=A.enter().append("div").attr("class","input-set");B.append("input").attr("class","domain-input").style("width",this.input_width+"px"),B.append("select").attr("class","domain-type-picker"),B.append("input").attr("class","color-input").style("width",this.input_width+"px"),B.append("input").attr("type","color").style("visibility",function(){return"text"==this.type?"hidden":null}).attr("class","color-picker"),B.append("input").attr("class","size-input").style("width",this.input_width+"px");var C=B.merge(A);C.style("height",3*this.input_height+"px").style("width",this.input_width+"px").style("left",function(a){var b=a.adjusted_x;return b+this.input_width>this.w+this.x&&(b=b-this.input_width+c/2),b+"px"}.bind(this)).on("mousedown",n);var D=j(".4g");C.select(".domain-input").style("height",this.input_height+"px").each(function(a,b){"value"==a.type?(this.value=o(a),this.disabled=!1):(this.value=a.type+" ("+D(o(a))+")",this.disabled=!0)}).on("change",function(b,d){var e=(h(c+2),parseFloat(this.value));a[d].value=e,p(a)});var E=C.select(".domain-type-picker"),F=["value"].concat(Object.keys(b)).filter(function(a){return"min"!==a&&"max"!==a}),G=E.selectAll("option").data(F);G.enter().append("option").merge(G).attr("value",function(a){return a}).text(function(a){return a}),G.exit().remove(),E.style("visibility",function(a){return"min"==a.type||"max"==a.type?"hidden":null}).style("left",this.input_width-20+"px").style("width","20px").each(function(a,b){var c=0;l(this).selectAll("option").each(function(b,d){this.value==a.type&&(c=d)}),this.selectedIndex=c}).on("change",function(c,d){"value"==this.value&&(a[d].value=b[c.type]),a[d].type=this.value,p(a)}),C.select(".color-input").style("height",this.input_height+"px").style("top",this.input_height+"px").each(function(a,b){this.value=null===a.color?"":a.color,this.disabled=null===a.color}).on("change",function(b,c){a[c].color=this.value,p(a)}),C.select(".color-picker").style("left",this.input_width-this.input_height+"px").style("top",this.input_height+"px").style("width",this.input_height+"px").style("height",this.input_height+"px").each(function(a,b){this.value=null===a.color?"#dddddd":a.color,this.disabled=null===a.color}).on("change",function(b,c){a[c].color=this.value,p(a)}),C.select(".size-input").style("height",this.input_height+"px").style("top",2*this.input_height+"px").each(function(a,b){this.value=null===a.size?"":a.size,this.disabled=null===a.size}).on("change",function(b,c){a[c].size=parseFloat(this.value),p(a)}),A.exit().remove()}function f(){var a=this.no_data,b=this._data_not_loaded(),c=40,d=this.no_data_container.selectAll(".input-group").data([["color","Color:"],["size","Size:"]]),e=d.enter().append("div").attr("class","input-group");e.append("span"),e.append("input"),e.append("input").attr("type","color").style("visibility",function(a){return"text"===this.type||"color"!==a[0]?"hidden":null}).attr("class","color-picker");var f=e.merge(d);f.select("span").text(function(a){return a[1]}).style("height",this.input_height+"px").style("line-height",this.input_height+"px").style("left",function(a,b){return(c+this.input_width+10)*b+"px"}.bind(this));(function(a){return this.settings.get_option(this.type+"_no_data_"+a)}).bind(this);f.select("input").style("left",function(a,b){return c+(c+this.input_width+10)*b+"px"}.bind(this)).style("height",this.input_height+"px").style("width",this.input_width+"px").each(function(c){this.value=b?"":a[c[0]],this.disabled=b}).on("change",function(a){var b=m.event.target.value;"size"===a[0]&&(b=parseFloat(b)),this.no_data[a[0]]=b,this.settings.set_conditional(this.type+"_no_data_"+a[0],b),this.update_no_data()}.bind(this)),f.select(".color-picker").style("left",function(a,b){return(c+this.input_width)*(b+1)-this.input_height+"px"}.bind(this)).style("width",this.input_height+"px").style("height",this.input_height+"px").each(function(c,d){this.value=b?"#dddddd":a[c[0]],this.disabled=b}).on("change",function(a,b){var c=m.event.target.value;this.no_data[a[0]]=c,this.settings.set_conditional(this.type+"_no_data_"+a[0],c),this.update_no_data()}.bind(this)),d.exit().remove()}function g(){var a=this.get_data_statistics()[this.type];return null===a.max||null===a.min}var h=a("./utils"),i=(a("baconjs"),a("d3-scale").scaleLinear),j=a("d3-format").format,k=a("d3-drag").drag,l=a("d3-selection").select,m=a("d3-selection"),n=h.make_class();n.prototype={init:d,update:e,update_no_data:f,_data_not_loaded:g},b.exports=n},{"./utils":34,baconjs:60,"d3-drag":154,"d3-format":157,"d3-scale":160,"d3-selection":161}],18:[function(a,b,c){"use strict";function d(a,b,c){var d=a.attr("class","search-container").style("display","none");this.input=d.append("input").attr("class","search-bar");var f=d.append("div").attr("class","btn-group btn-group-sm");f.append("button").attr("class","btn btn-default").on("click",this.previous.bind(this)).append("span").attr("class","glyphicon glyphicon-chevron-left"),f.append("button").attr("class","btn btn-default").on("click",this.next.bind(this)).append("span").attr("class","glyphicon glyphicon-chevron-right"),this.counter=d.append("div").attr("class","search-counter"),d.append("button").attr("class","btn btn-sm btn-default close-button").on("click",function(){this.toggle(!1)}.bind(this)).append("span").attr("class","glyphicon glyphicon-remove"),this.callback_manager=new l,this.selection=d,this.map=c,this.search_index=b,this.current=1,this.results=null;var g=function(a){this.current=1,this.results=e(this.search_index.find(a.value)),this.update()}.bind(this,this.input.node());this.input.on("input",k.debounce(g,200))}function e(a){return m.uniq(a,function(a){var b=o[a.type];return b[0]+a[b[1]]})}function f(){return"none"!==this.selection.style("display")}function g(a){void 0===a?this.is_active=!this.is_active:this.is_active=a,this.is_active?(this.selection.style("display",null),this.counter.text(""),this.input.node().value="",this.input.node().focus(),this.clear_escape=this.map.key_manager.add_escape_listener(function(){this.toggle(!1)}.bind(this),!0),this.clear_next=this.map.key_manager.add_key_listener(["enter","ctrl+g"],function(){this.next()}.bind(this),!1),this.clear_previous=this.map.key_manager.add_key_listener(["shift+enter","shift+ctrl+g"],function(){this.previous()}.bind(this),!1),this.callback_manager.run("show")):(this.map.highlight(null),this.selection.style("display","none"),this.results=null,this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.clear_next&&this.clear_next(),this.clear_next=null,this.clear_previous&&this.clear_previous(),this.clear_previous=null,this.callback_manager.run("hide"))}function h(){if(null===this.results)this.counter.text(""),this.map.highlight(null);else if(0===this.results.length)this.counter.text("0 / 0"),this.map.highlight(null);else{this.counter.text(this.current+" / "+this.results.length);var a=this.results[this.current-1];if("reaction"==a.type)this.map.zoom_to_reaction(a.reaction_id),this.map.highlight_reaction(a.reaction_id);else if("metabolite"==a.type)this.map.zoom_to_node(a.node_id),this.map.highlight_node(a.node_id);else{if("text_label"!=a.type)throw new Error("Bad search index data type: "+a.type);this.map.zoom_to_text_label(a.text_label_id),this.map.highlight_text_label(a.text_label_id)}}}function i(){null!==this.results&&(this.current===this.results.length?this.current=1:this.current+=1,this.update())}function j(){null!==this.results&&(1===this.current?this.current=this.results.length:this.current-=1,this.update());
}var k=a("./utils"),l=a("./CallbackManager"),m=a("underscore"),n=k.make_class();n.prototype={init:d,is_visible:f,toggle:g,update:h,next:i,previous:j},b.exports=n;var o={metabolite:["m","node_id"],reaction:["r","reaction_id"],text_label:["t","text_label_id"]}},{"./CallbackManager":5,"./utils":34,underscore:331}],19:[function(a,b,c){"use strict";function d(){this.index={}}function e(a,b,c,d){if(!c&&a in this.index)throw new Error("id is already in the index");if(d&&!("name"in b&&"data"in b))throw new Error("malformed record");this.index[a]=b}function f(a){return a in this.index?(delete this.index[a],!0):!1}function g(a){var b=RegExp(a,"i"),c=[];for(var d in this.index){var e=this.index[d];b.exec(e.name)&&c.push(e.data)}return c}var h=a("./utils"),i=h.make_class();i.prototype={init:d,insert:e,remove:f,find:g},b.exports=i},{"./utils":34}],20:[function(a,b,c){"use strict";function d(a,b,c){this.set_option=a,this.get_option=b,this.status_bus=new m.Bus,this.force_update_bus=new m.Bus,m.Observable.prototype.convert_to_conditional_stream=e,m.Observable.prototype.force_update_with_bus=f,this.busses={},this.streams={};for(var d=0,h=c.length;h>d;d++){var i=c[d],j=g(i,b(i),a,this.status_bus,this.force_update_bus);this.busses[i]=j.bus,this.streams[i]=j.stream}}function e(a){var b=a.map(function(a){return"hold"==a}).not().toProperty(!0),c=a.scan(!1,function(a,b){return 0==a&&("accepted"==b||"rejected"==b)}).not(),d=a.scan(!1,function(a,b){return 0==a&&"hold"==b}).not(),e=m.combineAsArray(this,a),f=e.scan([],function(a,b){if("hold"==b[1])return a.push(b[0]),a;if("accept"==b[1])return a;if("reject"==b[1])return[];if("rejected"==b[1]||"accepted"==b[1])return[b[0]];throw Error("bad status "+b[1])}).filter(b).filter(c).filter(d).flatMap(function(a){return m.fromArray(a)}),g=this.filter(b);return g.merge(f)}function f(a){return m.combineAsArray(this,a.toProperty(!1)).map(function(a){return a[0]})}function g(a,b,c,d,e){var f=new m.Bus,g=f.convert_to_conditional_stream(d).force_update_with_bus(e);return g.onValue(function(b){c(a,b)}),f.push(b),{bus:f,stream:g}}function h(a,b){if(!(a in this.busses))throw new Error("Invalid setting name");this.busses[a].push(b)}function i(){this.status_bus.push("hold")}function j(){this.status_bus.push("reject"),this.status_bus.push("rejected"),this.force_update_bus.push(!0)}function k(){this.status_bus.push("accept"),this.status_bus.push("accepted")}var l=a("./utils"),m=a("baconjs"),n=l.make_class();n.prototype={init:d,set_conditional:h,hold_changes:i,abandon_changes:j,accept_changes:k},b.exports=n},{"./utils":34,baconjs:60}],21:[function(a,b,c){"use strict";function d(a,b,c,d){this.sel=a,this.settings=b,this.draw=!1;var e=this.settings.get_option("unique_map_id");this.unique_string=null===e?"":"."+e;var f=a.append("div").attr("class","settings-box-background").style("display","none"),g=f.append("div").attr("class","settings-box-container").style("display","none");g.append("button").attr("class","btn btn-sm btn-default settings-button").on("click",function(){this.accept_changes()}.bind(this)).append("span").attr("class","glyphicon glyphicon-ok"),g.append("button").attr("class","btn btn-sm btn-default settings-button settings-button-close").on("click",function(){this.abandon_changes()}.bind(this)).append("span").attr("class","glyphicon glyphicon-remove");var h=g.append("div").attr("class","settings-box");h.append("div").text("Tip: Hover over an option to see more details about it.").classed("settings-tip",!0),h.append("hr"),h.append("div").text("View and build options").attr("class","settings-section-heading-large"),this.view_gui(h.append("div")),h.append("hr"),h.append("div").text("Reactions").attr("class","settings-section-heading-large");var i=new n(h.append("div"),"reaction",this.settings,c.get_data_statistics.bind(c));c.callback_manager.set("calc_data_stats__reaction",function(a){a&&(i.update(),i.update_no_data())}),h.append("div").text("Reaction or Gene data").attr("class","settings-section-heading"),this.style_gui(h.append("div"),"reaction",function(a){d&&(d("reaction",a),i.update(),i.update_no_data())}),h.append("hr"),h.append("div").text("Metabolites").attr("class","settings-section-heading-large");var j=new n(h.append("div"),"metabolite",this.settings,c.get_data_statistics.bind(c));c.callback_manager.set("calc_data_stats__metabolite",function(a){a&&(j.update(),j.update_no_data())}),h.append("div").text("Metabolite data").attr("class","settings-section-heading"),this.style_gui(h.append("div"),"metabolite",function(a){d&&(d("metabolite",a),j.update(),j.update_no_data())}),this.callback_manager=new m,this.map=c,this.selection=g,this.background=f}function e(){return"none"!=this.selection.style("display")}function f(a){void 0===a&&(a=!this.is_visible()),a?(this.hold_changes(),this.selection.style("display","inline-block"),this.background.style("display","block"),this.selection.select("input").node().focus(),this.clear_escape=this.map.key_manager.add_escape_listener(function(){this.abandon_changes()}.bind(this),!0),this.clear_enter=this.map.key_manager.add_enter_listener(function(){this.accept_changes()}.bind(this),!0),this.callback_manager.run("show")):(this.draw&&this.map.draw_everything(),this.selection.style("display","none"),this.background.style("display","none"),this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.clear_enter&&this.clear_enter(),this.clear_enter=null,this.callback_manager.run("hide"))}function g(){this.settings.hold_changes()}function h(){this.draw=!1,this.settings.abandon_changes(),this.toggle(!1)}function i(){this.sel.selectAll("input").each(function(a){this.blur()}),this.draw=!0,this.settings.accept_changes(),this.toggle(!1)}function j(a,b,c){var d=a.append("table").attr("class","settings-table"),e=this.settings;d.append("tr").call(function(a){a.append("td").text("Options:").attr("class","options-label").attr("title","Options for "+b+" data.");var d=a.append("td"),f=[["Absolute value","abs","If checked, use the absolute value when calculating colors and sizes of "+b+"s on the map"],["Size","size","If checked, then size the "+("metabolite"==b?"radius of metabolite circles ":"thickness of reaction lines ")+"according to the value of the "+b+" data"],["Color","color","If checked, then color the "+("metabolite"==b?"metabolite circles ":"reaction lines ")+"according to the value of the "+b+" data"],["Text (Show data in label)","text","If checked, then show data values in the "+b+" labels"]],g=d.selectAll(".option-group").data(f),h=g.enter().append("label").attr("class","option-group"),i=function(){var a=[];return d.selectAll("input").each(function(b){this.checked&&a.push(b[1])}),a};h.append("input").attr("type","checkbox").on("change",function(a){e.set_conditional(b+"_styles",i()),"abs"==a[1]&&c(this.checked)}).each(function(a){e.streams[b+"_styles"].onValue(function(b){this.checked=-1!=b.indexOf(a[1])}.bind(this))}),h.append("span").text(function(a){return a[0]}).attr("title",function(a){return a[2]})}),d.append("tr").call(function(a){a.append("td").text("Comparison:").attr("class","options-label").attr("title","The function that will be used to compare datasets, when paired data is loaded");var c=a.append("td").attr("title","The function that will be used to compare datasets, when paired data is loaded"),d=[["Fold Change","fold"],["Log2(Fold Change)","log2_fold"],["Difference","diff"]],f=c.selectAll(".option-group").data(d),g=f.enter().append("label").attr("class","option-group");g.append("input").attr("type","radio").attr("name",b+"_compare_style"+this.unique_string).attr("value",function(a){return a[1]}).on("change",function(){this.checked&&e.set_conditional(b+"_compare_style",this.value)}).each(function(){e.streams[b+"_compare_style"].onValue(function(a){this.checked=this.value==a}.bind(this))}),g.append("span").text(function(a){return a[0]})}.bind(this)),"reaction"===b&&a.append("table").attr("class","settings-table").attr("title","The function that will be used to evaluate AND connections in gene reaction rules (AND connections generally connect components of an enzyme complex)").append("tr").call(function(a){a.append("td").text("Method for evaluating AND:").attr("class","options-label-wide");var b=a.append("td"),c=[["Mean","mean"],["Min","min"]],d=b.selectAll(".option-group").data(c),f=d.enter().append("label").attr("class","option-group"),g="and_method_in_gene_reaction_rule";f.append("input").attr("type","radio").attr("name",g+this.unique_string).attr("value",function(a){return a[1]}).on("change",function(){this.checked&&e.set_conditional(g,this.value)}).each(function(){e.streams[g].onValue(function(a){this.checked=this.value==a}.bind(this))}),f.append("span").text(function(a){return a[0]})}.bind(this))}function k(a,b,c,d){var e=this.settings,f=a.append("table").attr("class","settings-table");f.append("tr").call(function(a){a.attr("title","The identifiers that are show in the reaction, gene, and metabolite labels on the map."),a.append("td").text("Identifiers:").attr("class","options-label");var b=a.append("td"),c=[["ID's","bigg_id"],["Descriptive names","name"]],d=b.selectAll(".option-group").data(c),f=d.enter().append("label").attr("class","option-group"),g="identifiers_on_map";f.append("input").attr("type","radio").attr("name",g+this.unique_string).attr("value",function(a){return a[1]}).on("change",function(){this.checked&&e.set_conditional(g,this.value)}).each(function(){e.streams[g].onValue(function(a){this.checked=this.value==a}.bind(this))}),f.append("span").text(function(a){return a[0]})}.bind(this));var g=[["scroll_behavior","Scroll to zoom (instead of scroll to pan)","If checked, then the scroll wheel and trackpad will control zoom rather than pan.",{zoom:!0,pan:!1}],["hide_secondary_metabolites","Hide secondary metabolites","If checked, then only the primary metabolites will be displayed."],["show_gene_reaction_rules","Show gene reaction rules","If checked, then gene reaction rules will be displayed below each reaction label. (Gene reaction rules are always shown when gene data is loaded.)"],["hide_all_labels","Hide reaction, gene, and metabolite labels","If checked, hide all reaction, gene, and metabolite labels"],["allow_building_duplicate_reactions","Allow duplicate reactions","If checked, then allow duplicate reactions during model building."],["highlight_missing","Highlight reactions not in model","If checked, then highlight in red all the reactions on the map that are not present in the loaded model."],["enable_tooltips","Show tooltips","Show tooltips when hovering over reactions, metabolites, and genes"]],h=a.append("div").attr("class","settings-container").selectAll(".option-group").data(g),i=h.enter().append("label").attr("class","option-group full-line");i.append("input").attr("type","checkbox"),i.append("span");var j=i.merge(h);j.attr("title",function(a){return a[2]}),j.select("input").on("change",function(a){if(a.length>=4){for(var b in a[3])if(a[3][b]==this.checked){e.set_conditional(a[0],b);break}}else e.set_conditional(a[0],this.checked)}).each(function(a){e.streams[a[0]].onValue(function(b){a.length>=4?this.checked=a[3][b]:this.checked=b}.bind(this))}),j.select("span").text(function(a){return a[1]}),h.exit().remove(),a.append("div").style("margin-top","16px").classed("settings-tip",!0).text("Tip: To increase map performance, turn off text boxes (i.e. labels and gene reaction rules).")}var l=a("./utils"),m=a("./CallbackManager"),n=a("./ScaleEditor"),o=l.make_class();o.prototype={init:d,is_visible:e,toggle:f,hold_changes:g,abandon_changes:h,accept_changes:i,style_gui:j,view_gui:k},b.exports=o},{"./CallbackManager":5,"./ScaleEditor":17,"./utils":34}],22:[function(a,b,c){"use strict";function d(a,b,c){var d=a.append("div").attr("id","text-edit-input");this.placed_div=m(d,b),this.placed_div.hide(),this.input=d.append("input"),this.map=b,this.setup_map_callbacks(b),this.zoom_container=c,this.setup_zoom_callbacks(c),this.is_new=!1}function e(a){a.callback_manager.set("edit_text_label.text_edit_input",function(a,b){this.show(a,b)}.bind(this)),a.callback_manager.set("new_text_label.text_edit_input",function(a){null!==this.active_target&&this._accept_changes(this.active_target.target),this.hide(),this._add_and_edit(a)}.bind(this)),a.callback_manager.set("hide_text_label_editor.text_edit_input",function(){this.hide()}.bind(this))}function f(a){a.callback_manager.set("zoom.text_edit_input",function(){this.active_target&&this._accept_changes(this.active_target.target),this.hide()}.bind(this)),a.callback_manager.set("go_to.text_edit_input",function(){this.active_target&&this._accept_changes(this.active_target.target),this.hide()}.bind(this))}function g(){return this.placed_div.is_visible()}function h(a,b){this.active_target&&this._accept_changes(this.active_target.target),this.active_target={target:a,coords:b},a.each(function(a){this.input.node().value=a.text}.bind(this)),this.placed_div.place(b),this.input.node().focus(),this.clear_escape=this.map.key_manager.add_escape_listener(function(){this._accept_changes(a),this.hide()}.bind(this),!0),this.clear_enter=this.map.key_manager.add_enter_listener(function(a){this._accept_changes(a),this.hide()}.bind(this,a),!0)}function i(){this.is_new=!1,this.placed_div.hide(),this.input.attr("value",""),this.active_target=null,this.clear_escape&&this.clear_escape(),this.clear_escape=null,this.clear_enter&&this.clear_enter(),this.clear_enter=null}function j(a){if(""===this.input.node().value)a.each(function(a){var b={};b[a.text_label_id]=this.map.text_labels[a.text_label_id],this.map.delete_selectable({},b,!0)}.bind(this));else{var b=[];a.each(function(a){this.map.edit_text_label(a.text_label_id,this.input.node().value,!0,this.is_new),b.push(a.text_label_id)}.bind(this))}}function k(a){this.is_new=!0;var b=this.map.new_text_label(a,""),c=this.map.sel.select("#text-labels").selectAll(".text-label").filter(function(a){return a.text_label_id===b});c.select("text").classed("edit-text-cursor",!0),this.show(c,a)}var l=a("./utils"),m=a("./PlacedDiv"),n=(a("./build"),l.make_class());n.prototype={init:d,setup_map_callbacks:e,setup_zoom_callbacks:f,is_visible:g,show:h,hide:i,_accept_changes:j,_add_and_edit:k},b.exports=n},{"./PlacedDiv":14,"./build":27,"./utils":34}],23:[function(a,b,c){"use strict";function d(a,b){return"metabolite"===b?f.decompartmentalize(a)[0]:a}function e(a){return null===a?a:a.charAt(0).toUpperCase()+a.slice(1)}var f=a("./utils"),g=a("tinier"),h=g.createComponent,i=(g.createInterface,g.interfaceTypes,g.createElement),j=g.render,k=(a("underscore"),{"min-width":"270px","min-height":"100px","border-radius":"2px",border:"1px solid #b58787",padding:"7px","background-color":"#fff","text-align":"left","font-size":"16px","font-family":"sans-serif",color:"#111","box-shadow":"4px 6px 20px 0px rgba(0, 0, 0, 0.4)"}),l={"font-size":"18px","font-weight":"bold"},m={"border-radius":"3px","background-color":"#eee",border:"1px solid #ddd","margin-top":"4px"},n={position:"absolute",top:"4px",right:"4px",color:"#d27066","background-color":"#ffeded","border-radius":"2px","font-size":"14px","text-align":"right",padding:"0px 5px"},o=h({displayName:"DefaultTooltip",init:function(){return{biggId:"",name:"",loc:{x:0,y:0},data:null,type:null}},reducers:{setContainerData:function(a){return Object.assign({},a.state,{biggId:a.biggId,name:a.name,loc:a.loc,data:a.data,type:a.type})}},methods:{openBigg:function(a){var b=a.state.type,c=a.state.biggId,e="http://bigg.ucsd.edu/",f="gene"===b?e+"search?query="+c:e+"universal/"+b+"s/"+d(c,b);window.open(f)}},render:function(a){var b=d(a.state.biggId,a.state.type),c="Open "+b+" in BiGG Models.";return j(a.el,i("div",{style:k},i("span",{style:l},a.state.biggId),i("br"),"name: "+a.state.name,i("br"),"data: "+(a.state.data&&"(nd)"!==a.state.data?a.state.data:"no data"),i("br"),i("button",{style:m,onClick:a.methods.openBigg},c),i("div",{style:n},e(a.state.type))))}});b.exports={DefaultTooltip:o}},{"./utils":34,tinier:329,underscore:331}],24:[function(a,b,c){"use strict";function d(a,b,c,d){var e=a.append("div").attr("id","tooltip-container");this.placed_div=m(e,b),e.on("mouseover",this.cancel_hide_tooltip.bind(this)),e.on("mouseleave",this.hide.bind(this)),this.map=b,this.setup_map_callbacks(b),this.zoom_container=d,this.setup_zoom_callbacks(d),this.tooltip_component=c,this.tooltip_function=o.isFunction(c)?function(a){c({state:a,el:e.node()})}:null,this.tinier_tooltip=n.checkType(n.COMPONENT,c)?n.run(c,e.node()):null,this.delay_hide_timeout=null}function e(a){a.callback_manager.set("show_tooltip.tooltip_container",function(b,c){a.settings.get_option("enable_tooltips")&&this.show(b,c)}.bind(this)),a.callback_manager.set("hide_tooltip.tooltip_container",this.hide.bind(this)),a.callback_manager.set("delay_hide_tooltip.tooltip_container",this.delay_hide.bind(this))}function f(a){a.callback_manager.set("zoom.tooltip_container",function(){this.is_visible()&&this.hide()}.bind(this)),a.callback_manager.set("go_to.tooltip_container",function(){this.is_visible()&&this.hide()}.bind(this))}function g(){return this.placed_div.is_visible()}function h(a,b){if(this.cancel_hide_tooltip(),!o.contains(["reaction_label","node_label","gene_label"],a))throw new Error("Tooltip not supported for object type "+a);var c={x:b.label_x,y:b.label_y+10};this.placed_div.place(c);var d={biggId:b.bigg_id,name:b.name,loc:c,data:b.data_string,type:a.replace("_label","").replace("node","metabolite")};null!==this.tooltip_function?this.tooltip_function(d):this.tinier_tooltip&&this.tinier_tooltip.reducers.setContainerData(d)}function i(){this.placed_div.hide()}function j(){this.delay_hide_timeout=setTimeout(function(){this.hide()}.bind(this),100)}function k(){null!==this.delay_hide_timeout&&clearTimeout(this.delay_hide_timeout)}var l=a("./utils"),m=a("./PlacedDiv"),n=a("tinier"),o=a("underscore"),p=l.make_class();p.prototype={init:d,setup_map_callbacks:e,setup_zoom_callbacks:f,is_visible:g,show:h,hide:i,delay_hide:j,cancel_hide_tooltip:k},b.exports=p},{"./PlacedDiv":14,"./utils":34,tinier:329,underscore:331}],25:[function(a,b,c){"use strict";function d(){var a=40;this.stack=Array(a),this.current=-1,this.oldest=-1,this.newest=-1,this.end_of_stack=!0,this.top_of_stack=!0}function e(a,b){return a+1>b-1?0:a+1}function f(a,b){return 0>a-1?b-1:a-1}function g(a,b){this.current=e(this.current,this.stack.length),this.end_of_stack?this.oldest=this.current:this.oldest==this.current&&(this.oldest=e(this.oldest,this.stack.length)),this.stack[this.current]={undo:a,redo:b},this.newest=this.current,this.top_of_stack=!0,this.end_of_stack=!1}function h(){return this.end_of_stack?console.warn("End of stack."):(this.stack[this.current].undo(),this.current==this.oldest?this.end_of_stack=!0:this.current=f(this.current,this.stack.length),void(this.top_of_stack=!1))}function i(){return this.top_of_stack?console.warn("Top of stack."):(this.end_of_stack||(this.current=e(this.current,this.stack.length)),this.stack[this.current].redo(),this.current==this.newest&&(this.top_of_stack=!0),void(this.end_of_stack=!1))}var j=a("./utils"),k=j.make_class();k.prototype={init:d,push:g,undo:h,redo:i},b.exports=k},{"./utils":34}],26:[function(a,b,c){"use strict";function d(a,b,c,d){a.classed("escher-container",!0),a.on("touchstart touchmove",function(){y.event.stopPropagation()}),d&&(x("html").classed("fill-screen",!0),x("body").classed("fill-screen",!0),a.classed("fill-screen-div",!0));var e=a.append("div").attr("class","escher-zoom-container"),f=e.append("div").attr("class","escher-3d-transform-container"),g=f.append("svg").attr("class","escher-svg").attr("xmlns","http://www.w3.org/2000/svg");g.select(".zoom-g").remove();var h=g.append("g").attr("class","zoom-g");this.selection=a,this.zoom_container=e,this.css3_transform_container=f,this.svg=g,this.zoomed_sel=h,this.window_translate={x:0,y:0},this.window_scale=1,this._scroll_behavior=b,this._use_3d_transform=c,this._pan_drag_on=!0,this._zoom_behavior=null,this._zoom_timeout=null,this._svg_scale=this.window_scale,this._svg_translate=this.window_translate,this.callback_manager=new t,this._update_scroll()}function e(a){this._scroll_behavior=a,this._update_scroll()}function f(a){this._use_3d_transform=a}function g(a){u.isUndefined(a)?this._pan_drag_on=!this._pan_drag_on:this._pan_drag_on=a,this._pan_drag_on?this.zoomed_sel.classed("cursor-grab",!0).classed("cursor-grabbing",!1):this.zoomed_sel.style("cursor",null).classed("cursor-grab",!1).classed("cursor-grabbing",!1),this._update_scroll()}function h(){if(!u.contains(["zoom","pan","none"],this._scroll_behavior))throw Error("Bad value for scroll_behavior: "+this._scroll_behavior);if(this.zoom_container.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null).on("dblclick.zoom",null).on("mousewheel.escher",null).on("DOMMouseScroll.escher",null).on("wheel.escher",null).on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),this._zoom_behavior=v().on("start",function(){y.event.sourceEvent&&"mousedown"===y.event.sourceEvent.type&&this.zoomed_sel.classed("cursor-grab",!1).classed("cursor-grabbing",!0),null!==y.event.sourceEvent&&(y.event.sourceEvent.stopPropagation(),y.event.sourceEvent.preventDefault())}.bind(this)).on("zoom",function(){this._go_to_callback(y.event.transform.k,{x:y.event.transform.x,y:y.event.transform.y})}.bind(this)).on("end",function(){y.event.sourceEvent&&"mouseup"===y.event.sourceEvent.type&&this.zoomed_sel.classed("cursor-grab",!0).classed("cursor-grabbing",!1)}.bind(this)),this.zoom_container.call(this._zoom_behavior),this.zoom_container.on("dblclick.zoom",null),this._pan_drag_on||this.zoom_container.on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null),"zoom"!==this._scroll_behavior&&this.zoom_container.on("mousewheel.zoom",null).on("DOMMouseScroll.zoom",null).on("wheel.zoom",null),"pan"===this._scroll_behavior){var a=function(){var a=y.event,b=.5;a.stopPropagation(),a.preventDefault(),a.returnValue=!1;var c=function(a,c){var d=u.isUndefined(a)?c:-a/1.5;return d*b},d={x:this.window_translate.x-c(a.wheelDeltaX,a.deltaX),y:this.window_translate.y-c(a.wheelDeltaY,a.deltaY)};this.go_to(this.window_scale,d)}.bind(this);this.zoom_container.on("mousewheel.escher",a),this.zoom_container.on("DOMMouseScroll.escher",a),this.zoom_container.on("wheel.escher",a)}this.go_to(this.window_scale,this.window_translate)}function i(a,b){if(s.check_undefined(arguments,["scale","translate"]),!a)throw new Error("Bad scale value");if(!b||!("x"in b)||!("y"in b)||u.isNaN(b.x)||u.isNaN(b.y))throw new Error("Bad translate value");var c=w.translate(b.x,b.y).scale(a);this.zoom_container.call(this._zoom_behavior.transform,c)}function j(a,b){this.window_scale=a,this.window_translate=b;var c=this._use_3d_transform;c?(u.isNull(this._zoom_timeout)||clearTimeout(this._zoom_timeout),this._go_to_3d(a,b,this._svg_scale,this._svg_translate),this._zoom_timeout=u.delay(function(){this._go_to_svg(a,b)}.bind(this),100)):this._go_to_svg(a,b),this.callback_manager.run("go_to")}function k(a,b,c,d){var e=a/c,f=s.c_minus_c(b,s.c_times_scalar(d,e)),g="translate("+f.x+"px,"+f.y+"px) scale("+e+")";this.css3_transform_container.style("transform",g),this.css3_transform_container.style("-webkit-transform",g),this.css3_transform_container.style("transform-origin","0 0"),this.css3_transform_container.style("-webkit-transform-origin","0 0")}function l(){this.css3_transform_container.style("transform",null),this.css3_transform_container.style("-webkit-transform",null),this.css3_transform_container.style("transform-origin",null),this.css3_transform_container.style("-webkit-transform-origin",null)}function m(a,b,c){this.callback_manager.run("svg_start"),u.defer(function(){this._clear_3d(),this.zoomed_sel.attr("transform","translate("+b.x+","+b.y+") scale("+a+")"),this._svg_scale=a,this._svg_translate=b,u.defer(function(){this.callback_manager.run("svg_finish"),u.isUndefined(c)||c()}.bind(this))}.bind(this))}function n(a){var b=this.get_size(),c={x:b.width/2-((b.width/2-this.window_translate.x)*a+this.window_translate.x),y:b.height/2-((b.height/2-this.window_translate.y)*a+this.window_translate.y)};this.go_to(this.window_scale*a,s.c_plus_c(this.window_translate,c))}function o(){this.zoom_by(1.5)}function p(){this.zoom_by(.667)}function q(){var a=parseInt(this.selection.style("width"),10),b=parseInt(this.selection.style("height"),10);if(u.isNaN(a)||u.isNaN(b))throw new Error("Size not defined for ZoomContainer element.");return{width:a,height:b}}function r(a){var b=120,c=this.get_size(),d={x:{min:-this.window_translate.x/this.window_scale+b/this.window_scale,max:-this.window_translate.x/this.window_scale+(c.width-b)/this.window_scale},y:{min:-this.window_translate.y/this.window_scale+b/this.window_scale,max:-this.window_translate.y/this.window_scale+(c.height-b)/this.window_scale}};a.x<d.x.min?(this.window_translate.x=this.window_translate.x-(a.x-d.x.min)*this.window_scale,this.go_to(this.window_scale,this.window_translate)):a.x>d.x.max&&(this.window_translate.x=this.window_translate.x-(a.x-d.x.max)*this.window_scale,this.go_to(this.window_scale,this.window_translate)),a.y<d.y.min?(this.window_translate.y=this.window_translate.y-(a.y-d.y.min)*this.window_scale,this.go_to(this.window_scale,this.window_translate)):a.y>d.y.max&&(this.window_translate.y=this.window_translate.y-(a.y-d.y.max)*this.window_scale,this.go_to(this.window_scale,this.window_translate))}var s=a("./utils"),t=a("./CallbackManager"),u=a("underscore"),v=a("d3-zoom").zoom,w=(a("d3-zoom").zoomTransform,a("d3-zoom").zoomIdentity),x=a("d3-selection").select,y=a("d3-selection"),z=s.make_class();z.prototype={init:d,set_scroll_behavior:e,set_use_3d_transform:f,_update_scroll:h,toggle_pan_drag:g,go_to:i,_go_to_callback:j,_go_to_3d:k,_clear_3d:l,_go_to_svg:m,zoom_by:n,zoom_in:o,zoom_out:p,get_size:q,translate_off_screen:r},b.exports=z},{"./CallbackManager":5,"./utils":34,"d3-selection":161,"d3-zoom":166,underscore:331}],27:[function(a,b,c){"use strict";function d(a){if(Math.abs(a)>Math.PI)throw new Error("Angle must be between -PI and PI");return Math.abs(a)<Math.PI/7||Math.abs(a-Math.PI)<Math.PI/7?{x:-50,y:-40}:a>0?{x:15*(1-Math.abs(a-Math.PI/2)/(Math.PI/2)),y:10+50*(a-Math.PI/2)}:{x:15*(1-Math.abs(a+Math.PI/2)/(Math.PI/2)),y:10-50*(Math.abs(a)-Math.PI/2)}}function e(a,b,c,d,e,f){var g=18*e.length,h=b-(b>f)-c/2>=-1;return Math.abs(a)<Math.PI/7?d||h?{x:.3*-g,y:40}:{x:.3*-g,y:-20}:Math.abs(a-Math.PI)<Math.PI/7?d||!h?{x:.3*-g,y:40}:{x:.3*-g,y:-20}:d?{x:25-38*Math.abs(Math.abs(a)-Math.PI/2),y:(Math.abs(a)-Math.PI/2)*(2*(a>0)-1)*50}:0>a&&h||a>0&&!h?{x:15,y:0}:{x:.5*-g,y:30}}function f(a,b,c,f,h,i,j,k){k=r.to_radians_norm(k);var m=String(++i.reactions),n={x:h.x,y:h.y},o=350,p=[n,r.c_plus_c(n,{x:o,y:0})],s={x:(p[0].x+p[1].x)/2,y:(p[0].y+p[1].y)/2},t=d(k),u=20,v={name:b.name,bigg_id:b.bigg_id,reversibility:b.reversibility,gene_reaction_rule:b.gene_reaction_rule,genes:r.clone(b.genes),metabolites:r.clone(b.metabolites)};r.extend(v,{label_x:s.x+t.x,label_y:s.y+t.y,segments:{}});var w=[],x=[],y=0,z=0,A=!1;for(var B in v.metabolites){var C=c[B],D=v.metabolites[B],E=C.formula,F={coefficient:D,bigg_id:B,name:C.name};if(0>D){F.index=y;var G=/C([0-9]+)/.exec(E);h.bigg_id===F.bigg_id?w.push([F.index,1/0]):G&&-1===j.indexOf(r.decompartmentalize(F.bigg_id)[0])&&w.push([F.index,parseInt(G[1])]),y++}else{F.index=z;var G=/C([0-9]+)/.exec(E);h.bigg_id===F.bigg_id?(x.push([F.index,1/0]),A=!0):G&&-1===j.indexOf(r.decompartmentalize(F.bigg_id)[0])&&x.push([F.index,parseInt(G[1])]),z++}v.metabolites[B]=F}var H=function(a,b){return b[1]>a[1]?b:a},I=w.reduce(H,[0,0])[0],J=x.reduce(H,[0,0])[0];for(var B in v.metabolites){var C=v.metabolites[B];C.coefficient<0?(C.is_primary=C.index===I,C.count=y):(C.is_primary=C.index===J,C.count=z)}var K={},L=[{node_type:"anchor_reactants",dis:{x:u*(A?1:-1),y:0}},{node_type:"center",dis:{x:0,y:0}},{node_type:"anchor_products",dis:{x:u*(A?-1:1),y:0}}],M={};L.map(function(a){var b=String(++i.nodes),c="center"===a.node_type?"midmarker":"multimarker";K[b]={node_type:c,x:s.x+a.dis.x,y:s.y+a.dis.y,connected_segments:[],name:null,bigg_id:null,label_x:null,label_y:null,node_is_primary:null,data:null},M[a.node_type]=b});var N=[[M.anchor_reactants,M.center,"reactants"],[M.anchor_products,M.center,"products"]];N.map(function(a){var b=a[0],c=a[1],d=String(++i.segments),e=0===y&&"reactants"===a[2]&&v.reversibility||0===z&&"products"===a[2];v.segments[d]={b1:null,b2:null,from_node_id:b,to_node_id:c,from_node_coefficient:null,to_node_coefficient:null,reversibility:v.reversibility,data:v.data,reverse_flux:v.reverse_flux,unconnected_segment_with_arrow:e},K[b].connected_segments.push({segment_id:d,reaction_id:m}),K[c].connected_segments.push({segment_id:d,reaction_id:m})});var O=K;for(var B in v.metabolites){var P,Q,C=v.metabolites[B];C.coefficient<0?(P=I,Q=M.anchor_reactants):(P=J,Q=M.anchor_products);var R=l(C,P,p,s,o,A);if(h.bigg_id===C.bigg_id){var S=String(++i.segments);v.segments[S]={b1:R.b1,b2:R.b2,from_node_id:Q,to_node_id:f,from_node_coefficient:null,to_node_coefficient:C.coefficient,reversibility:v.reversibility},h.connected_segments.push({segment_id:S,reaction_id:m}),O[Q].connected_segments.push({segment_id:S,reaction_id:m})}else{var S=String(++i.segments),T=String(++i.nodes);v.segments[S]={b1:R.b1,b2:R.b2,from_node_id:Q,to_node_id:T,from_node_coefficient:null,to_node_coefficient:C.coefficient,reversibility:v.reversibility};var U=e(k,C.index,C.count,C.is_primary,C.bigg_id,P);O[T]={connected_segments:[{segment_id:S,reaction_id:m}],x:R.circle.x,y:R.circle.y,node_is_primary:C.is_primary,label_x:R.circle.x+U.x,label_y:R.circle.y+U.y,name:C.name,bigg_id:C.bigg_id,node_type:"metabolite"},O[Q].connected_segments.push({segment_id:S,reaction_id:m})}}var V=[];for(var a in v.metabolites)V.push({bigg_id:a,coefficient:v.metabolites[a].coefficient});v.metabolites=V;var W={};W[m]=v;var X=q(W);return O[f]=h,g(O,W,X,k,n),{new_reactions:W,new_beziers:X,new_nodes:O}}function g(a,b,c,d,e){var f=function(a){return null===a?null:r.rotate_coords(a,d,e)},g=[],h=[];for(var j in a){var k=a[j],l=f({x:k.x,y:k.y}),m=i(k,b,l);k.connected_segments.map(function(a){var d=b[a.reaction_id];if(void 0!==d){var e=a.segment_id,g=d.segments[e];if(g.to_node_id==j&&g.b2){var h=f(g.b2),i=n(e,"b2");g.b2=r.c_plus_c(g.b2,h),c[i].x=g.b2.x,c[i].y=g.b2.y}else if(g.from_node_id==j&&g.b1){var h=f(g.b1),i=n(e,"b1");g.b1=r.c_plus_c(g.b1,h),c[i].x=g.b1.x,c[i].y=g.b1.y}}}),h=r.unique_concat([h,m.reaction_ids]),g.push(j)}return{node_ids:g,reaction_ids:h}}function h(a,b,c,d,e){var f=i(a,c,e);return a.connected_segments.map(function(a){var g=c[a.reaction_id];if(!s.isUndefined(g)){var h=a.segment_id,i=g.segments[h],j=[["b1","from_node_id"],["b2","to_node_id"]];j.forEach(function(a){var c=a[0],f=a[1];if(i[f]===b&&i[c]){i[c]=r.c_plus_c(i[c],e);var g=d[n(h,c)];g.x=i[c].x,g.y=i[c].y}}),f.reaction_ids.indexOf(a.reaction_id)<0&&f.reaction_ids.push(a.reaction_id)}}),f}function i(a,b,c){a.x=a.x+c.x,a.y=a.y+c.y,a.label_x=a.label_x+c.x,a.label_y=a.label_y+c.y;var d=[];return a.connected_segments.map(function(e){var f=b[e.reaction_id];d.indexOf(e.reaction_id)<0&&(d.push(e.reaction_id),"midmarker"==a.node_type&&(f.label_x=f.label_x+c.x,f.label_y=f.label_y+c.y))}),{reaction_ids:d}}function j(a,b,c){var d=Math.floor(c/2);return a*(b-d+(b>=d))}function k(a,b,c,d){var e=Math.floor(d/2);return b+Math.abs(c-e+(c>=e))*a}function l(a,b,c,d,e,f){var g=c[0];c=[r.c_minus_c(c[0],g),r.c_minus_c(c[1],g)],d=r.c_minus_c(d,g);var h,i,l=80,m=.4,n=.25,o=.3*l,p=50,q=20,s=a.count-1;a.is_primary?h=20:(h=10,i=a.index>b?a.index-1:a.index);var t,u,v,w,x=e-h,y=[{x:h,y:0},{x:x,y:0}];return a.coefficient<0!==f&&a.is_primary?(t={x:y[0].x,y:y[0].y},v={x:d.x*(1-m)+y[0].x*m,y:d.y*(1-m)+y[0].y*m},w={x:d.x*n+t.x*(1-n),y:d.y*n+t.y*(1-n)},u={x:c[0].x,y:c[0].y}):a.coefficient<0!==f?(t={x:y[0].x+k(q,p,i,s),y:y[0].y+j(o,i,s)},v={x:d.x*(1-m)+y[0].x*m,y:d.y*(1-m)+y[0].y*m},w={x:d.x*n+t.x*(1-n),y:d.y*n+t.y*(1-n)},
u={x:c[0].x+k(q,p,i,s),y:c[0].y+j(l,i,s)}):a.coefficient>0!==f&&a.is_primary?(t={x:y[1].x,y:y[1].y},v={x:d.x*(1-m)+y[1].x*m,y:d.y*(1-m)+y[1].y*m},w={x:d.x*n+t.x*(1-n),y:d.y*n+t.y*(1-n)},u={x:c[1].x,y:c[1].y}):a.coefficient>0!==f&&(t={x:y[1].x-k(q,p,i,s),y:y[1].y+j(o,i,s)},v={x:d.x*(1-m)+y[1].x*m,y:d.y*(1-m)+y[1].y*m},w={x:d.x*n+t.x*(1-n),y:d.y*n+t.y*(1-n)},u={x:c[1].x-k(q,p,i,s),y:c[1].y+j(l,i,s)}),{b1:r.c_plus_c(g,v),b2:r.c_plus_c(g,w),circle:r.c_plus_c(g,u)}}function m(a,b,c){var d=String(++a.text_labels),e={text:b,x:c.x,y:c.y};return{id:d,label:e}}function n(a,b){return a+"_"+b}function o(a){var b=[];for(var c in a){var d=a[c];for(var e in d.segments){var f=d.segments[e],g=["b1","b2"];g.forEach(function(a){var c=f[a];null!==c&&b.push(n(e,a))})}}return b}function p(a,b){var c={};for(var d in a){var e=a[d];["b1","b2"].forEach(function(a){var f=e[a];if(null!==f){var g=n(d,a);c[g]={bezier:a,x:f.x,y:f.y,reaction_id:b,segment_id:d}}})}return c}function q(a){var b={};for(var c in a){var d=a[c],e=p(d.segments,c);r.extend(b,e)}return b}var r=a("./utils"),s=a("underscore");b.exports={get_met_label_loc:e,new_reaction:f,rotate_nodes:g,move_node_and_dependents:h,new_text_label:m,bezier_id_for_segment_id:n,bezier_ids_for_reaction_ids:o,new_beziers_for_segments:p,new_beziers_for_reactions:q}},{"./utils":34,underscore:331}],28:[function(a,b,c){"use strict";var d=a("./utils");b.exports=function(a,b){function c(a){return void 0===o&&(o=e.createElement("span"),o.style.visibility="hidden",o.style.position="fixed",o.style.outline="0",o.style.margin="0",o.style.padding="0",o.style.border="0",o.style.left="0",o.style.whiteSpace="pre",o.style.fontSize=b.fontSize,o.style.fontFamily=b.fontFamily,o.style.fontWeight="normal",e.body.appendChild(o)),o.innerHTML=String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),o.getBoundingClientRect().right}var e=d.get_document(a),f=d.get_window(a);b=b||{},b.fontSize=b.fontSize||"13px",b.fontFamily=b.fontFamily||"sans-serif",b.promptInnerHTML=b.promptInnerHTML||"",b.color=b.color||"#333",b.hintColor=b.hintColor||"#aaa",b.backgroundColor=b.backgroundColor||"#fff",b.dropDownBorderColor=b.dropDownBorderColor||"#aaa",b.dropDownZIndex=b.dropDownZIndex||"100",b.dropDownOnHoverBackgroundColor=b.dropDownOnHoverBackgroundColor||"#ddd";var g=e.createElement("input");g.type="text",g.spellcheck=!1,g.style.fontSize=b.fontSize,g.style.fontFamily=b.fontFamily,g.style.color=b.color,g.style.backgroundColor=b.backgroundColor,g.style.width="100%",g.style.outline="0",g.style.border="0",g.style.margin="0",g.style.padding="0";var h=g.cloneNode();h.disabled="",h.style.position="absolute",h.style.top="0",h.style.left="0",h.style.borderColor="transparent",h.style.boxShadow="none",h.style.color=b.hintColor,g.style.backgroundColor="transparent",g.style.verticalAlign="top",g.style.position="relative";var i=e.createElement("div");i.style.position="relative",i.style.outline="0",i.style.border="0",i.style.margin="0",i.style.padding="0";var j=e.createElement("div");if(j.style.position="absolute",j.style.outline="0",j.style.margin="0",j.style.padding="0",j.style.border="0",j.style.fontSize=b.fontSize,j.style.fontFamily=b.fontFamily,j.style.color=b.color,j.style.backgroundColor=b.backgroundColor,j.style.top="0",j.style.left="0",j.style.overflow="hidden",j.innerHTML=b.promptInnerHTML,j.style.background="transparent",void 0===e.body)throw"document.body is undefined. The library was wired up incorrectly.";e.body.appendChild(j);var k=j.getBoundingClientRect().right;i.appendChild(j),j.style.visibility="visible",j.style.left="-"+k+"px",i.style.marginLeft=k+"px",i.appendChild(h),i.appendChild(g);var l=e.createElement("div");l.style.position="absolute",l.style.visibility="hidden",l.style.outline="0",l.style.margin="0",l.style.padding="0",l.style.textAlign="left",l.style.fontSize=b.fontSize,l.style.fontFamily=b.fontFamily,l.style.backgroundColor=b.backgroundColor,l.style.zIndex=b.dropDownZIndex,l.style.cursor="default",l.style.borderStyle="solid",l.style.borderWidth="1px",l.style.borderColor=b.dropDownBorderColor,l.style.overflowX="hidden",l.style.whiteSpace="pre",l.style.overflowY="scroll";var m=function(a){var c=[],d=0,g=-1,h=null,i=function(){this.style.outline="1px solid #ddd"},j=function(){this.style.outline="0"},k=function(a){a.preventDefault(),l.onmouseselection(this.id)},l={hide:function(){a.style.visibility="hidden"},refresh:function(g,h){a.style.visibility="hidden",d=0,a.innerHTML="";var m=f.innerHeight||e.documentElement.clientHeight,n=a.parentNode.getBoundingClientRect(),o=n.top-6,p=m-n.bottom-6;c=[];for(var q=0;q<h.length;q++){var s=h[q].matches.filter(function(a){return 0==a.toLowerCase().indexOf(g.toLowerCase())});if(0!=s.length){var t=e.createElement("div");if(t.style.color=b.color,t.onmouseover=i,t.onmouseout=j,t.onmousedown=function(a){a.preventDefault()},t.ondblclick=k,t.__hint=s[0],t.id=h[q].id,t.innerHTML=h[q].html,c.push(t),a.appendChild(t),c.length>=r.display_limit){var u=e.createElement("div");u.innerHTML=" "+(h.length-c.length)+" more",c.push(u),a.appendChild(u);break}}}0!==c.length&&(l.highlight(0),o>3*p?(a.style.maxHeight=o+"px",a.style.top="",a.style.bottom="100%"):(a.style.top="100%",a.style.bottom="",a.style.maxHeight=p+"px"),a.style.visibility="visible")},highlight:function(a){-1!=g&&c[g]&&(c[g].style.backgroundColor=b.backgroundColor),c[a].style.backgroundColor=b.dropDownOnHoverBackgroundColor,g=a,h=c[a]},move:function(b){return"hidden"===a.style.visibility?"":d+b===-1||d+b===c.length?c[d].__hint:(d+=b,l.highlight(d),c[d].__hint)},onmouseselection:function(){},get_current_row:function(){return h}};return l},n=m(l);n.onmouseselection=function(a){r.onEnter(a),r.input.focus()},i.appendChild(l),a.appendChild(i);var o,p,q,r={get_hint:function(a){return a},display_limit:1e3,onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},onChange:function(){r.repaint()},startFrom:0,options:[],wrapper:i,input:g,hint:h,dropDown:l,prompt:j,setText:function(a){h.value=a,g.value=a},getText:function(){return g.value},hideDropDown:function(){n.hide()},repaint:function(){var a=g.value,b=r.startFrom,d=r.options,e=d.length,f=a.substring(b);p=a.substring(0,b),h.value="";for(var i=0;e>i;i++){var j=d[i].matches.filter(function(a){return 0==a.toLowerCase().indexOf(f.toLowerCase())});if(0!=j.length){h.value=r.get_hint(j[0]);break}}l.style.left=c(p)+"px",n.refresh(f,r.options)}},s=function(a,b){q=a.value;var c=function(){var c=a.value;q!==c&&(q=c,b(c))};a.addEventListener("input",c,!1),a.addEventListener("keyup",c,!1),a.addEventListener("change",c,!1)};s(g,function(a){r.onChange(a),r.repaint()});var t=function(a){a=a||f.event;var b=a.keyCode;if(33!=b&&34!=b)if(39!=b&&35!=b&&9!=b){if(13==b){var c=n.get_current_row().id;return void r.onEnter(c)}if(40==b){var d=n.move(1);return""==d&&r.onArrowDown(),void(h.value=r.get_hint(d))}if(38==b){var d=n.move(-1);return""==d&&r.onArrowUp(),h.value=r.get_hint(d),a.preventDefault(),void a.stopPropagation()}h.value=""}else if(9==b&&(a.preventDefault(),a.stopPropagation(),0==h.value.length&&r.onTab()),h.value.length>0){g.value=h.value;var e=q!=g.value;q=g.value,e&&r.onChange(g.value)}};return g.addEventListener("keydown",t,!1),r}},{"./utils":34}],29:[function(a,b,c){"use strict";function d(a,b){var c={},d=[null];for(var e in a){d=a[e].map(function(){return null});break}for(var f in b){var g=b[f],h=g.bigg_id,i={};g.genes.forEach(function(b){["bigg_id","name"].forEach(function(c){var e=a[b[c]]||r.clone(d),f=i[b.bigg_id];if("undefined"==typeof f)i[b.bigg_id]=e;else for(var g=0;g<e.length;g++){var h=e[g];null!==h&&(f[g]=h)}})}),c[h]=i}return c}function e(a,b,c){if(null===a)return null;if(-1===["reaction_data","metabolite_data","gene_data"].indexOf(b))throw new Error("Invalid name argument: "+b);a instanceof Array||(a=[a]);var e=function(){return null===a?null:1===a.length?null:2===a.length?null:console.warn("Bad data style: "+b)};if(e(),a=r.array_to_object(a),"gene_data"===b){if(void 0===c)throw new Error("Must pass all_reactions argument for gene_data");a=d(a,c)}return a}function f(a,b,c){function d(a){return isFinite(a)?a:null}function e(a,b){return b?Math.abs(a):a}function f(a,b,c){return c?Math.abs(b-a):b-a}function g(a,b,c){if(0==a||0==b)return null;var d=b>=a?b/a:-a/b;return c?Math.abs(d):d}function h(a,b,c){if(0==a)return null;if(0>b/a)return null;var d=Math.log(b/a)/Math.log(2);return c?Math.abs(d):d}if(null===a)return null;var i=-1!=b.indexOf("abs");if(1==a.length){var j=q(a[0]);return null===j?null:e(j,i)}if(2!=a.length)throw new Error("Data array must be of length 1 or 2");var k=a.map(q);if(null===k[0]||null===k[1])return null;if("diff"==c)return f(k[0],k[1],i);if("fold"==c)return d(g(k[0],k[1],i));if("log2_fold"==c)return d(h(k[0],k[1],i));throw new Error("Bad data compare_style: "+c)}function g(a){return null===a||null===a[0]?!1:a[0]<0}function h(a,b,c,d,e,g){function h(a,b){return null===a?"nd":b(a)}var i=a,j=null===b,k={};c.forEach(function(a){var c=a.bigg_id;if(!(c in k))if(k[c]=!0,j)i=m(i,c,c+"\n");else{if(!(c in b))return;var e=b[c],l=f(e,d,g),n=null===l?u:t(".3g");if(1===e.length)i=m(i,c,c+" ("+h(e[0],n)+")\n");else if(2===e.length){var o,p=s.any(e,function(a){return null!==q(a)});o=p?c+" ("+h(e[0],n)+", "+h(e[1],n)+": "+h(l,n)+")\n":c+" ("+h(e[0],n)+", "+h(e[1],n)+")\n",i=m(i,c,o)}}}),i=i.replace(w,"\n").replace(x,"$1");var l=i.split("\n").map(function(a){for(var b=0,d=c.length;d>b;b++){var f=c[b];if(-1!==a.indexOf(f.bigg_id))return"name"===e&&(a=m(a,f.bigg_id,f.name)),{bigg_id:f.bigg_id,name:f.name,text:a}}return{bigg_id:null,name:null,text:a}});return l}function i(a,b){function c(a,b){return null===a?"(nd)":b(a)}if(null===a)return c(null);if(1===a.length){var d=null===b?u:t(".3g");return c(a[0],d)}if(2===a.length){var d=null===b?u:t(".3g"),e=c(a[0],d);return e+=", "+c(a[1],d),e+=": "+c(b,d)}return""}function j(a){var b=a[0].length,c=[];if(2>b||b>3)throw new Error("CSV file must have 2 or 3 columns");for(var d=1;b>d;d++)c[d-1]={};return a.slice(1).forEach(function(a){for(var b=1,d=a.length;d>b;b++)c[b-1][a[0]]=a[b]}),c}function k(a){var b=a.replace(y,"$1$2").replace(z,"").split(" ").filter(function(a){return""!=a});return r.unique_strings_array(b)}function l(a,b,c){var d=[null],e=1;for(var f in b){d=b[f].map(function(){return null}),e=d.length;break}if(""==a)return r.clone(d);for(var g=[],h=0;e>h;h++){var i=a,j=!0;for(var f in b){var k=q(b[f][h]);null===k?k=0:j=!1,i=m(i,f,k)}if(j)g.push(null);else{for(;;){var l=i;if(l=l.replace(A," $1 "),l=l.replace(D,function(a,b,c,d){var e=c.split(B).map(parseFloat),f=e.reduce(function(a,b){return a+b});return b+f+d}),l=l.replace(E,function(a,b,d,e){var f=d.split(C).map(parseFloat),g="min"==c?Math.min.apply(null,f):f.reduce(function(a,b){return a+b})/f.length;return b+g+e}),l==i)break;i=l}var n=Number(i);isNaN(n)?(console.warn("Could not evaluate "+a),g.push(null)):g.push(n)}}return g}function m(a,b,c){function d(a){return a.replace(v,"\\$1")}var e="(^|[\\s\\(\\)])",f="([\\s\\(\\)]|$)",g=e+d(b)+f;return a.replace(new RegExp(g,"g"),"$1"+c+"$2")}function n(a,b,c,d,e){s.isUndefined(e)&&(e=Object.keys(a));var h,j,k;return null===b?(e.map(function(b){h=a[b],h.data=null,h.data_string="";for(j in h.segments)k=h.segments[j],k.data=null;h.gene_string=null}),!1):(e.map(function(e){h=a[e];var l=b[h.bigg_id]||b[h.name]||null,m=f(l,c,d),n=g(l),o=i(l,m);h.data=m,h.data_string=o,h.reverse_flux=n,h.gene_string=null;for(j in h.segments)k=h.segments[j],k.data=h.data,k.reverse_flux=h.reverse_flux}),!0)}function o(a,b,c,d,e){s.isUndefined(e)&&(e=Object.keys(a));return null===b?(e.map(function(b){a[b].data=null,a[b].data_string=""}),!1):(e.map(function(e){var g=a[e],h=b[g.bigg_id]||b[g.name]||null,j=f(h,c,d),k=i(h,j);g.data=j,g.data_string=k}),!0)}function p(a,b,c,d,e,j,k){if(s.isUndefined(k)&&(k=Object.keys(a)),null===b)return k.map(function(b){var c=a[b];c.data=null,c.data_string="",c.reverse_flux=!1;for(var d in c.segments){var e=c.segments[d];e.data=null}c.gene_string=null}),!1;var m=[null];for(var n in b){for(var o in b[n]){m=b[n][o].map(function(){return null});break}break}return k.map(function(k){var n,o,p=a[k],q=p.gene_reaction_rule,t=b[p.bigg_id];s.isUndefined(t)?(o={},n=r.clone(m)):(o=t,n=l(q,o,j));var u=f(n,c,e),v=g(n),w=i(n,u);p.data=u,p.data_string=w,p.reverse_flux=v;for(var x in p.segments){var y=p.segments[x];y.data=p.data,y.reverse_flux=p.reverse_flux}p.gene_string=h(q,o,p.genes,c,d,e)}),!0}function q(a){var b=Number(a);return isNaN(b)||parseFloat(a)!=b?null:b}var r=a("./utils"),s=a("underscore"),t=a("d3-format").format;b.exports={import_and_check:e,text_for_data:i,float_for_data:f,reverse_flux_for_data:g,gene_string_for_data:h,csv_converter:j,genes_for_gene_reaction_rule:k,evaluate_gene_reaction_rule:l,replace_gene_in_rule:m,apply_reaction_data_to_reactions:n,apply_metabolite_data_to_nodes:o,apply_gene_data_to_reactions:p};var u=function(a){return a},v=/([.*+?^=!:${}()|\[\]\/\\])/g,w=/\n\s*\n/g,x=/\n\s*(\)*)\s*$/,y=/([\(\) ])(?:and|or)([\)\( ])/gi,z=/[\(\)]/g,A=/\(\s*(\S+)\s*\)/g,B=/\s+or\s+/i,C=/\s+and\s+/i,D=/(^|\()(\s*-?[0-9.]+\s+(?:or\s+-?[0-9.]+\s*)+)(\)|$)/gi,E=/(^|\(|or\s)(\s*-?[0-9.]+\s+(?:and\s+-?[0-9.]+\s*)+)(\sor|\)|$)/gi},{"./utils":34,"d3-format":157,underscore:331}],30:[function(a,b,c){"use strict";b.exports={version:"1.6.2",builder_embed:"svg.escher-svg .gene-label,svg.escher-svg .label{text-rendering:optimizelegibility;cursor:default}svg.escher-svg #mouse-node{fill:none}svg.escher-svg #canvas{stroke:#ccc;stroke-width:7px;fill:#fff}svg.escher-svg .resize-rect{fill:#000;opacity:0;stroke:none}svg.escher-svg .label{font-family:sans-serif;font-style:italic;font-weight:700;font-size:8px;fill:#000;stroke:none}svg.escher-svg .reaction-label{font-size:30px;fill:#202078;text-rendering:optimizelegibility}svg.escher-svg .node-label{font-size:20px}svg.escher-svg .gene-label{font-size:18px;fill:#202078}svg.escher-svg .text-label .label,svg.escher-svg .text-label-input{font-size:50px}svg.escher-svg .node-circle{stroke-width:2px}svg.escher-svg .midmarker-circle,svg.escher-svg .multimarker-circle{fill:#fff;fill-opacity:.2;stroke:#323232}svg.escher-svg g.selected .node-circle{stroke-width:6px;stroke:#1471c7}svg.escher-svg g.selected .label{fill:#1471c7}svg.escher-svg .metabolite-circle{stroke:#a24510;fill:#e0865b}svg.escher-svg g.selected .metabolite-circle{stroke:#050200}svg.escher-svg .segment{stroke:#334E75;stroke-width:10px;fill:none}svg.escher-svg .arrowhead{fill:#334E75}svg.escher-svg .stoichiometry-label-rect{fill:#fff;opacity:.5}svg.escher-svg .stoichiometry-label{fill:#334E75;font-size:17px}svg.escher-svg .membrane{fill:none;stroke:#fb0}svg.escher-svg .brush .extent{fill-opacity:.1;fill:#000;stroke:#fff;shape-rendering:crispEdges}svg.escher-svg #brush-container .background{fill:none}svg.escher-svg .bezier-circle{fill:#fff}svg.escher-svg .bezier-circle.b1{stroke:red}svg.escher-svg .bezier-circle.b2{stroke:#00f}svg.escher-svg .connect-line{stroke:#c8c8c8}svg.escher-svg .direction-arrow{stroke:#000;stroke-width:1px;fill:#fff;opacity:.3}svg.escher-svg .start-reaction-cursor{cursor:pointer}svg.escher-svg .start-reaction-target{stroke:#646464;fill:none;opacity:.5}svg.escher-svg .rotation-center-line{stroke:red;stroke-width:5px}svg.escher-svg .highlight{fill:#D97000;text-decoration:underline}svg.escher-svg .cursor-grab{cursor:grab;cursor:-webkit-grab}svg.escher-svg .cursor-grabbing{cursor:grabbing;cursor:-webkit-grabbing}svg.escher-svg .edit-text-cursor{cursor:text}"}},{}],31:[function(a,b,c){"use strict";b.exports={version:a("./inline").version,Builder:a("./Builder"),Map:a("./Map"),Behavior:a("./Behavior"),KeyManager:a("./KeyManager"),DataMenu:a("./DataMenu"),UndoStack:a("./UndoStack"),CobraModel:a("./CobraModel"),utils:a("./utils"),SearchIndex:a("./SearchIndex"),Settings:a("./Settings"),data_styles:a("./data_styles"),ui:a("./ui"),"static":a("./static"),ZoomContainer:a("./ZoomContainer"),PathwayGraph:a("./PathwayGraph"),libs:{_:a("underscore"),underscore:a("underscore"),tinier:a("tinier"),baconjs:a("baconjs"),mousetrap:a("mousetrap"),vkbeautify:a("vkbeautify"),d3_selection:a("d3-selection"),d3_select:a("d3-selection").select,d3_json:a("d3-request").json}}},{"./Behavior":1,"./Builder":4,"./CobraModel":7,"./DataMenu":8,"./KeyManager":11,"./Map":12,"./PathwayGraph":13,"./SearchIndex":19,"./Settings":20,"./UndoStack":25,"./ZoomContainer":26,"./data_styles":29,"./inline":30,"./static":32,"./ui":33,"./utils":34,baconjs:60,"d3-request":159,"d3-selection":161,mousetrap:327,tinier:329,underscore:331,vkbeautify:332}],32:[function(a,b,c){"use strict";function d(a,b,c,d,h){var i=f.parse_url_components(window,d),j=function(a){a(null)},k=function(a){a(null)};if(i.map_name){var l=e("map",i.map_name,c,a);l&&(j=function(a){g(l,function(b,c){b&&console.warn(b),a(c)})})}if(i.model_name){var m=e("model",i.model_name,c,b);m&&(k=function(a){g(m,function(b,c){b&&console.warn(b),a(c)})})}i.hasOwnProperty("enable_editing")&&(d.enable_editing="true"===i.enable_editing.toLowerCase()),j(function(a){k(function(b){h(a,b,d)})})}function e(a,b,c,d){var e=c[a+"s"].filter(function(c){return c[a+"_name"]==b});if(0==e.length)throw new Error("Bad "+a+" "+b);return d+encodeURIComponent(e[0].organism)+"/"+encodeURIComponent(e[0][a+"_name"])+".json"}var f=a("./utils"),g=a("d3-request").json;b.exports={load_map_model_from_url:d}},{"./utils":34,"d3-request":159}],33:[function(a,b,c){"use strict";function d(a,b){var c=b.ignore_bootstrap||!1;a.attr("class","btn btn-default simple-button");var d=a.append("span"),e=d.append("span");"id"in b&&a.attr("id",b.id),"text"in b&&e.text(b.text),"icon"in b&&!c&&d.classed(b.icon,!0),c||e.attr("class","hidden"),"key"in b&&i(a,b.key),"key_text"in b&&"tooltip"in b&&null!==b.key_text?a.attr("title",b.tooltip+b.key_text):"tooltip"in b&&a.attr("title",b.tooltip)}function e(a,b){var c=a.append("button");d(c,b)}function f(a){var b=a.append("li").attr("class","btn-group-vertical").attr("data-toggle","buttons");return{button:function(a){var c=(a.ignore_bootstrap||!1,b.append("label"));return c.append("input").attr("type","radio"),d(c,a),this}}}function g(a){var b=a.attr("class","btn-group-vertical");return{button:function(a){var c=b.append("button");return d(c,a),this}}}function h(a,b,c){void 0===c&&(c=!1);var d=a.append("li").attr("class","dropdown");d.append("button").text(b+" ").attr("class","btn btn-link btn-sm dropdown-button").attr("data-toggle","dropdown").append("b").attr("class","caret");var e=d.append("ul").attr("class","dropdown-menu").classed("pull-right",c).attr("role","menu").attr("aria-labelledby","dLabel");return{dropdown:d,button:function(a){var b=e.append("li").attr("role","presentation").datum(a),c=b.append("a").attr("href","#"),d=c.append("span").attr("class","dropdown-button-icon"),f=c.append("span").attr("class","dropdown-button-text");if("id"in a&&b.attr("id",a.id),"key_text"in a&&"text"in a&&null!==a.key_text?f.text(" "+a.text+a.key_text):"text"in a&&f.text(" "+a.text),"icon"in a&&d.classed(a.icon,!0),"key"in a)i(c,a.key);else if("input"in a){var g=a.input,h=g.accept_csv?k(c,b,g.pre_fn,g.fn,g.failure_fn):j(c,b,g.pre_fn,g.fn,g.failure_fn);"assign"in g&&"key"in g&&(g.assign[g.key]=h)}return this},divider:function(){return e.append("li").attr("role","presentation").attr("class","divider"),this}}}function i(a,b){a.on("click",function(){b.fn.call(b.target)})}function j(a,b,c,d,e){var f=b.append("input").attr("type","file").style("display","none").on("change",function(){l.load_json(this.files[0],function(a,b){d(a,b),this.value=""}.bind(this),c,e)});return a.on("click",function(a){f.node().click()}),function(){f.node().click()}}function k(a,b,c,d,e){var f=b.append("input").attr("type","file").style("display","none").on("change",function(){l.load_json_or_csv(this.files[0],m.csv_converter,function(a,b){d(a,b),this.value=""}.bind(this),c,e)});return a.on("click",function(a){f.node().click()}),function(){f.node().click()}}var l=a("./utils"),m=a("./data_styles");b.exports={individual_button:e,radio_button_group:f,button_group:g,dropdown_menu:h,set_json_input_button:j,set_json_or_csv_input_button:k}},{"./data_styles":29,"./utils":34}],34:[function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function f(){try{!!new Blob}catch(a){alert("Blob not supported")}}function g(a,b,c){if(void 0===a||null===a)return b;var d={};for(var e in b){var f=e in a&&null!==a[e]&&void 0!==a[e],g=f?a[e]:b[e];c&&e in c&&(g=parseFloat(g),isNaN(g)&&(f?(console.warn("Bad float for option "+e),g=parseFloat(b[e]),isNaN(g)&&(console.warn("Bad float for default "+e),g=null)):(console.warn("Bad float for default "+e),g=null))),d[e]=g}return d}function h(a){for(var b=a.node();b.hasChildNodes();)b.removeChild(b.lastChild)}function i(a,b){var c="";return a&&la(a,function(a,d){a&&console.warn(a),c=d,b(c)}),!1}function j(a,b){return-1!==a.indexOf(b,a.length-b.length)}function k(a,b,c,d){return d?(b&&console.warn("File "+b+" overridden by value."),void c.call(a,null,d)):b?void(j(b,"json")?ka(b,function(b,d){c.call(a,b,d)}):j(b,"css")?la(b,function(b,d){c.call(a,b,d)}):c.call(a,"Unrecognized file type",null)):void c.call(a,"No filename",null)}function l(a,b,c){0===b.length&&c.call(a);for(var d=-1,e=b.length;++d<b.length;)k(a,b[d].file,function(b,d){this.call(a,b,d),--e||c.call(a)}.bind(b[d].callback),b[d].value)}function m(){var a,b=function c(b){if(!(this instanceof c)){a=!0;var d=new c(arguments);return a=!1,d}"function"==typeof this.init&&this.init.apply(this,a?b:arguments)};return b}function n(a,b){a.select("defs").remove();var c=a.append("defs"),d=c.node();return d.parentNode.insertBefore(d,d.parentNode.firstChild),c.append("style").attr("type","text/css").text(b),c}function o(a,b,c,d,e,f,g,h){var i={};for(var j in d)void 0===d[j]?console.warn("Undefined value for id "+j+" in object. Ignoring."):i[j]=d[j];var k=a.select(b).selectAll(c).data(r(i,e),function(a){return a[e]}),l=f?f(k.enter()).merge(k):k;g&&l.call(g),h&&k.exit().call(h)}function p(a,b,c,d,e,f,g){var h=a.selectAll(b).data(function(a){return r(a[c],d)},function(a){return a[d]}),i=e?e(h.enter()).merge(h):h;f&&i.call(f),g&&h.exit().call(g)}function q(a,b){var c=[];for(var d in a){var e=u(a[d]);e[b]=d,c.push(e)}return c}function r(a,b){var c=[];for(var d in a){var e=a[d];e[b]=d,c.push(e)}return c}function s(a,b){if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0,d=a.length;d>c;c++)if(a[c]!=b[c])return!1;return!0}function t(a){for(var b={},c=0,d=a.length;d>c;c++)for(var e=a[c],f=Object.keys(e),g=0,h=f.length;h>g;g++){var i=f[g];if(i in b)b[i][c]=e[i];else{for(var j=[],k=0;d>k;k++)j[k]=null;j[c]=e[i],b[i]=j}}return b}function u(a){return ja.isArray(a)?ja.map(a,function(a){return u(a)}):ja.isObject(a)?ja.mapObject(a,function(a,b){return u(a)}):a}function v(a,b,c){void 0===c&&(c=!1);for(var d in b){if(d in a&&!c)throw new Error("Attribute "+d+" already in object.");a[d]=b[d]}}function w(a){var b=[];return a.forEach(function(a){a.forEach(function(a){b.indexOf(a)<0&&b.push(a)})}),b}function x(a){for(var b=[],c=0,d=a.length;d>c;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b}function y(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function z(a,b){for(var c={},d=-1;++d<b.length;)c[b[d]]=u(a[b[d]]);return b.length!==Object.keys(c).length&&console.warn("did not find correct reaction subset"),c}function A(a,b){for(var c={},d=-1;++d<b.length;)c[b[d]]=a[b[d]];return b.length!==Object.keys(c).length&&console.warn("did not find correct reaction subset"),c}function B(a,b){var c={};return ja.each(ja.keys(a),function(d){ja.contains(b,a[d].bigg_id)&&(c[d]=a[d])}),c}function C(a){return Object.assign.apply(Object,[{}].concat(e(Object.entries(a).map(function(a){var b=ha(a,2),c=b[0],e=b[1].segments;e=Object.values(e),e.length>=5&&(e=e.filter(function(a){return null===a.b1&&null===a.b2}));var f=e.map(function(a){return[a.from_node_id,a.to_node_id]});return d({},c,Array.from(new Set(f[0].concat(f[1]))))}))))}function D(a,b){return null===a||null===b||void 0===a||void 0===b?null:{x:a.x+b.x,y:a.y+b.y}}function E(a,b){return null===a||null===b||void 0===a||void 0===b?null:{x:a.x-b.x,y:a.y-b.y}}function F(a,b){return{x:a.x*b,y:a.y*b}}function G(a,b){f();var c=JSON.stringify(a),d=new Blob([c],{type:"application/json"});oa(d,b+".json")}function H(a,b,c,d){window.File&&window.FileReader&&window.FileList&&window.Blob||b("The File APIs are not fully supported in this browser.",null);var e=new window.FileReader;if(e.onload=function(a){var c,d=a.target.result;try{c=JSON.parse(d)}catch(e){return void b(e,null)}b(null,c)},void 0!==c&&null!==c)try{c()}catch(f){console.warn(f)}e.onabort=function(a){try{d()}catch(b){console.warn(b)}},e.onerror=function(a){try{d()}catch(b){console.warn(b)}},e.readAsText(a)}function I(a,b,c,d,e,f){var g=function(a){var d,e,f=a.target.result;try{d=JSON.parse(f)}catch(g){e="JSON error: "+g;try{d=b(ma(f))}catch(g){return void c(e+"\nCSV error: "+g,null)}}c(null,d)};if(void 0!==f&&null!==f)return console.warn("Debugging load_json_or_csv"),g(f);window.File&&window.FileReader&&window.FileList&&window.Blob||c("The File APIs are not fully supported in this browser.",null);var h=new window.FileReader;if(void 0!==d&&null!==d)try{d()}catch(i){console.warn(i)}h.onabort=function(a){try{e()}catch(b){console.warn(b)}},h.onerror=function(a){try{e()}catch(b){console.warn(b)}},h.onload=g,h.readAsText(a)}function J(a,b,c){f();var d=(new XMLSerializer).serializeToString(b.node());c&&(d=ia.xml(d)),d='<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+d;var e=new Blob([d],{type:"image/svg+xml"});oa(e,a+".svg")}function K(a,b,c){f();var d=(new XMLSerializer).serializeToString(b.node());c&&(d=ia.xml(d)),d='<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n'+d;var e=document.createElement("canvas"),g=e.getContext("2d"),h=b.node().getBBox(),i=h.width+h.x,j=h.height+h.y;1e4>i&&1e4>j?(e.width=i,e.height=j):e.width>e.height?(e.width=1e4,e.height=1e4*(j/i)):(e.width=1e4*(i/j),e.height=1e4);var k=new Image;k.src="data:image/svg+xml;base64,"+btoa(d),k.onload=function(){g.fillStyle="#FFF",g.fillRect(0,0,e.width,e.height),g.drawImage(k,0,0,e.width,e.height),e.toBlob(function(b){oa(b,a+".png")})}}function L(a,b,c){return a.map(function(a){return M(a,b,c)})}function M(a,b,c){var d=Math.cos(-b)*(a.x-c.x)+Math.sin(-b)*(a.y-c.y)+c.x-a.x,e=-Math.sin(-b)*(a.x-c.x)+Math.cos(-b)*(a.y-c.y)+c.y-a.y;return{x:d,y:e}}function N(a){var b=a[1].x-a[0].x,c=a[1].y-a[0].y;return 0===b&&c>=0?Math.PI/2:0===b&&0>c?3*Math.PI/2:b>=0&&c>=0?Math.atan(c/b):b>=0?Math.atan(c/b)+2*Math.PI:Math.atan(c/b)+Math.PI}function O(a){return 180*a/Math.PI}function P(a){return a<-Math.PI?a+=2*Math.ceil(a/(-2*Math.PI))*Math.PI:a>Math.PI&&(a-=2*Math.ceil(a/(2*Math.PI))*Math.PI),a}function Q(a){var b=Math.PI/180*a;return P(b)}function R(a,b,c){var d=Math.atan2(b.x-c.x,c.y-b.y),e=Math.atan2(b.x-c.x+a.x,c.y-b.y-a.y),f=e-d;return f}function S(a,b){return Math.sqrt(Math.pow(b.y-a.y,2)+Math.pow(b.x-a.x,2))}function T(a,b){b.map(function(c,d){void 0===a[d]&&console.error("Argument is undefined: "+String(b[d]))})}function U(a,b){return a+"_"+b}function V(a){var b=/(.*)_([a-z0-9]{1,2})$/,c=b.exec(a);return null!==c?c.slice(1,3):[a,null]}function W(a){var b=a.reduce(function(a,b){return a+b}),c=b/a.length;return c}function X(a){a.sort(function(a,b){return a-b});var b=Math.floor(a.length/2);return a.length%2==1?a[b]:(a[b-1]+a[b])/2}function Y(a){a.sort(function(a,b){return a-b});var b=Math.floor(a.length/2);return 1===a.length?[a[0],a[0],a[0]]:a.length%2===1?[X(a.slice(0,b)),a[b],X(a.slice(b+1))]:[X(a.slice(0,b)),(a[b-1]+a[b])/2,X(a.slice(b))]}function Z(a){for(var b="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=0;a>d;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return b}function $(){return Z(12)}function _(a,b){for(a instanceof na&&(a=a.node());null!==a.parentNode;)if(a=a.parentNode,void 0!==a.tagName&&a.tagName.toLowerCase()===b.toLowerCase())return!0;return!1}function aa(a,b){return void 0!==b&&null!==b&&(b=b.replace(/^\/|\/$/g,""),a=[b,a].join("/")),a.replace(/^\/|\/$/g,"")+".json"}function ba(a,b){ja.isUndefined(b)&&(b={});for(var c=a.location.search.substring(1),d=c.split("&"),e=0,f=d.length;f>e;e++){var g=d[e].split("="),h=decodeURIComponent(g[1]);if(g[0].indexOf("[]")===g[0].length-2){var i=g[0].replace("[]","");i in b||(b[i]=[]),b[i].push(h)}else b[g[0]]=h}return b}function ca(a){return a.ownerDocument}function da(a){return ca(a).defaultView}function ea(a){if(-1!==a.indexOf("skew")||-1!==a.indexOf("matrix"))throw new Error("d3_transform_catch does not work with skew or matrix");var b=/translate\s*\(\s*([0-9.-]+)\s*,\s*([0-9.-]+)\s*\)/.exec(a),c=ja.isNull(b),d=c?0:Number(b[1]),e=c?0:Number(b[2]),f=/rotate\s*\(\s*([0-9.-]+)\s*\)/.exec(a),g=ja.isNull(f),h=g?0:Number(f[1]),i=/scale\s*\(\s*([0-9.-]+)\s*\)/.exec(a),j=ja.isNull(i),k=j?0:Number(i[1]);return{translate:[d,e],rotate:h,scale:k}}function fa(a){var b=function(){var a,b=navigator.userAgent,c=b.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(c[1])?(a=/\brv[ :]+(\d+)/g.exec(b)||[],"IE "+(a[1]||"")):"Chrome"===c[1]&&(a=b.match(/\b(OPR|Edge)\/(\d+)/),null!=a)?a.slice(1).join(" ").replace("OPR","Opera"):(c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(a=b.match(/version\/(\d+)/i))&&c.splice(1,1,a[1]),c.join(" "))};try{return b().toLowerCase().indexOf(a)>-1}catch(c){return!1}}function ga(a,b,c,d){var e=a>0?1:-1;return a+=d*e,Math.abs(a)/(Math.abs(a)+Math.abs(c-b))}var ha=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ia=a("vkbeautify"),ja=a("underscore"),ka=a("d3-request").json,la=a("d3-request").text,ma=a("d3-dsv").csvParseRows,na=a("d3-selection").selection;try{var oa=a("file-saver").saveAs}catch(pa){console.warn("Not a browser, so FileSaver.js not available.")}b.exports={set_options:g,remove_child_nodes:h,load_css:i,load_files:l,load_the_file:k,make_class:m,setup_defs:n,draw_an_object:o,draw_a_nested_object:p,make_array:q,make_array_ref:r,compare_arrays:s,array_to_object:t,clone:u,extend:v,unique_concat:w,unique_strings_array:x,debounce:y,object_slice_for_ids:z,object_slice_for_ids_ref:A,object_slice_for_bigg:B,get_central_nodes:C,c_plus_c:D,c_minus_c:E,c_times_scalar:F,download_json:G,load_json:H,load_json_or_csv:I,download_svg:J,download_png:K,rotate_coords_recursive:L,rotate_coords:M,get_angle:N,to_degrees:O,to_radians_norm:Q,angle_for_event:R,distance:S,check_undefined:T,compartmentalize:U,decompartmentalize:V,mean:W,median:X,quartiles:Y,random_characters:Z,generate_map_id:$,check_for_parent_tag:_,name_to_url:aa,parse_url_components:ba,get_document:ca,get_window:da,d3_transform_catch:ea,check_browser:fa,calculate_fva_opacity:ga}},{"d3-dsv":155,"d3-request":159,"d3-selection":161,"file-saver":167,underscore:331,vkbeautify:332}],35:[function(a,b,c){b.exports={"default":a("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":61}],36:[function(a,b,c){b.exports={"default":a("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":62}],37:[function(a,b,c){b.exports={"default":a("core-js/library/fn/is-iterable"),__esModule:!0
}},{"core-js/library/fn/is-iterable":63}],38:[function(a,b,c){b.exports={"default":a("core-js/library/fn/map"),__esModule:!0}},{"core-js/library/fn/map":64}],39:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":65}],40:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":66}],41:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":67}],42:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":68}],43:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/get-own-property-names"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-names":69}],44:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":70}],45:[function(a,b,c){b.exports={"default":a("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":71}],46:[function(a,b,c){b.exports={"default":a("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":72}],47:[function(a,b,c){b.exports={"default":a("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":73}],48:[function(a,b,c){b.exports={"default":a("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":74}],49:[function(a,b,c){"use strict";c["default"]=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},c.__esModule=!0},{}],50:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/define-property")["default"];c["default"]=function(){function a(a,b){for(var c=0;c<b.length;c++){var e=b[c];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),d(a,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),c.__esModule=!0},{"babel-runtime/core-js/object/define-property":41}],51:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/get-own-property-names")["default"],e=a("babel-runtime/core-js/object/get-own-property-descriptor")["default"],f=a("babel-runtime/core-js/object/define-property")["default"];c["default"]=function(a,b){for(var c=d(b),g=0;g<c.length;g++){var h=c[g],i=e(b,h);i&&i.configurable&&void 0===a[h]&&f(a,h,i)}return a},c.__esModule=!0},{"babel-runtime/core-js/object/define-property":41,"babel-runtime/core-js/object/get-own-property-descriptor":42,"babel-runtime/core-js/object/get-own-property-names":43}],52:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/define-property")["default"];c["default"]=function(a,b,c){return b in a?d(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},c.__esModule=!0},{"babel-runtime/core-js/object/define-property":41}],53:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/get-own-property-descriptor")["default"];c["default"]=function(a,b,c){for(var e=!0;e;){var f=a,g=b,h=c;e=!1,null===f&&(f=Function.prototype);var i=d(f,g);if(void 0!==i){if("value"in i)return i.value;var j=i.get;return void 0===j?void 0:j.call(h)}var k=Object.getPrototypeOf(f);if(null===k)return void 0;a=k,b=g,c=h,e=!0,i=k=void 0}},c.__esModule=!0},{"babel-runtime/core-js/object/get-own-property-descriptor":42}],54:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/object/create")["default"],e=a("babel-runtime/core-js/object/set-prototype-of")["default"];c["default"]=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=d(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(e?e(a,b):a.__proto__=b)},c.__esModule=!0},{"babel-runtime/core-js/object/create":40,"babel-runtime/core-js/object/set-prototype-of":45}],55:[function(a,b,c){"use strict";c["default"]=function(a){return a&&a.__esModule?a:{"default":a}},c.__esModule=!0},{}],56:[function(a,b,c){"use strict";c["default"]=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b},c.__esModule=!0},{}],57:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/get-iterator")["default"],e=a("babel-runtime/core-js/is-iterable")["default"];c["default"]=function(){function a(a,b){var c=[],e=!0,f=!1,g=void 0;try{for(var h,i=d(a);!(e=(h=i.next()).done)&&(c.push(h.value),!b||c.length!==b);e=!0);}catch(j){f=!0,g=j}finally{try{!e&&i["return"]&&i["return"]()}finally{if(f)throw g}}return c}return function(b,c){if(Array.isArray(b))return b;if(e(Object(b)))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c.__esModule=!0},{"babel-runtime/core-js/get-iterator":36,"babel-runtime/core-js/is-iterable":37}],58:[function(a,b,c){(function(c){var d="object"==typeof c?c:"object"==typeof window?window:"object"==typeof self?self:this,e=d.regeneratorRuntime&&Object.getOwnPropertyNames(d).indexOf("regeneratorRuntime")>=0,f=e&&d.regeneratorRuntime;if(d.regeneratorRuntime=void 0,b.exports=a("./runtime"),e)d.regeneratorRuntime=f;else try{delete d.regeneratorRuntime}catch(g){d.regeneratorRuntime=void 0}b.exports={"default":b.exports,__esModule:!0}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./runtime":59}],59:[function(a,b,c){(function(c,d){"use strict";var e=a("babel-runtime/core-js/symbol")["default"],f=a("babel-runtime/core-js/object/create")["default"],g=a("babel-runtime/core-js/object/set-prototype-of")["default"],h=a("babel-runtime/core-js/promise")["default"];!function(a){function d(a,b,c,d){var e=f((b||j).prototype),g=new s(d||[]);return e._invoke=p(a,c,g),e}function i(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(d){return{type:"throw",arg:d}}}function j(){}function k(){}function l(){}function m(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function n(a){this.arg=a}function o(a){function b(c,d,e,f){var g=i(a[c],a,d);if("throw"!==g.type){var j=g.arg,k=j.value;return k instanceof n?h.resolve(k.arg).then(function(a){b("next",a,e,f)},function(a){b("throw",a,e,f)}):h.resolve(k).then(function(a){j.value=a,e(j)},f)}f(g.arg)}function d(a,c){function d(){return new h(function(d,e){b(a,c,d,e)})}return e=e?e.then(d,d):d()}"object"==typeof c&&c.domain&&(b=c.domain.bind(b));var e;this._invoke=d}function p(a,b,c){var d=C;return function(e,f){if(d===E)throw new Error("Generator is already running");if(d===F){if("throw"===e)throw f;return u()}for(;;){var g=c.delegate;if(g){if("return"===e||"throw"===e&&g.iterator[e]===v){c.delegate=null;var h=g.iterator["return"];if(h){var j=i(h,g.iterator,f);if("throw"===j.type){e="throw",f=j.arg;continue}}if("return"===e)continue}var j=i(g.iterator[e],g.iterator,f);if("throw"===j.type){c.delegate=null,e="throw",f=j.arg;continue}e="next",f=v;var k=j.arg;if(!k.done)return d=D,k;c[g.resultName]=k.value,c.next=g.nextLoc,c.delegate=null}if("next"===e)d===D?c.sent=f:c.sent=v;else if("throw"===e){if(d===C)throw d=F,f;c.dispatchException(f)&&(e="next",f=v)}else"return"===e&&c.abrupt("return",f);d=E;var j=i(a,b,c);if("normal"===j.type){d=c.done?F:D;var k={value:j.arg,done:c.done};if(j.arg!==G)return k;c.delegate&&"next"===e&&(f=v)}else"throw"===j.type&&(d=F,e="throw",f=j.arg)}}}function q(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]),2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]),this.tryEntries.push(b)}function r(a){var b=a.completion||{};b.type="normal",delete b.arg,a.completion=b}function s(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(q,this),this.reset(!0)}function t(a){if(a){var b=a[y];if(b)return b.call(a);if("function"==typeof a.next)return a;if(!isNaN(a.length)){var c=-1,d=function e(){for(;++c<a.length;)if(w.call(a,c))return e.value=a[c],e.done=!1,e;return e.value=v,e.done=!0,e};return d.next=d}}return{next:u}}function u(){return{value:v,done:!0}}var v,w=Object.prototype.hasOwnProperty,x="function"==typeof e?e:{},y=x.iterator||"@@iterator",z=x.toStringTag||"@@toStringTag",A="object"==typeof b,B=a.regeneratorRuntime;if(B)return void(A&&(b.exports=B));B=a.regeneratorRuntime=A?b.exports:{},B.wrap=d;var C="suspendedStart",D="suspendedYield",E="executing",F="completed",G={},H=l.prototype=j.prototype;k.prototype=H.constructor=l,l.constructor=k,l[z]=k.displayName="GeneratorFunction",B.isGeneratorFunction=function(a){var b="function"==typeof a&&a.constructor;return b?b===k||"GeneratorFunction"===(b.displayName||b.name):!1},B.mark=function(a){return g?g(a,l):(a.__proto__=l,z in a||(a[z]="GeneratorFunction")),a.prototype=f(H),a},B.awrap=function(a){return new n(a)},m(o.prototype),B.async=function(a,b,c,e){var f=new o(d(a,b,c,e));return B.isGeneratorFunction(b)?f:f.next().then(function(a){return a.done?a.value:f.next()})},m(H),H[y]=function(){return this},H[z]="Generator",H.toString=function(){return"[object Generator]"},B.keys=function(a){var b=[];for(var c in a)b.push(c);return b.reverse(),function d(){for(;b.length;){var c=b.pop();if(c in a)return d.value=c,d.done=!1,d}return d.done=!0,d}},B.values=t,s.prototype={constructor:s,reset:function(a){if(this.prev=0,this.next=0,this.sent=v,this.done=!1,this.delegate=null,this.tryEntries.forEach(r),!a)for(var b in this)"t"===b.charAt(0)&&w.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=v)},stop:function(){this.done=!0;var a=this.tryEntries[0],b=a.completion;if("throw"===b.type)throw b.arg;return this.rval},dispatchException:function(a){function b(b,d){return f.type="throw",f.arg=a,c.next=b,!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=w.call(e,"catchLoc"),h=w.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<e.catchLoc)return b(e.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<e.finallyLoc)return b(e.finallyLoc)}}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&w.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);var f=e?e.completion:{};return f.type=a,f.arg=b,e?this.next=e.finallyLoc:this.complete(f),G},complete:function(a,b){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=a.arg,this.next="end"):"normal"===a.type&&b&&(this.next=b)},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),r(c),G}},"catch":function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if("throw"===d.type){var e=d.arg;r(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){return this.delegate={iterator:t(a),resultName:b,nextLoc:c},G}}}("object"==typeof d?d:"object"==typeof window?window:"object"==typeof self?self:void 0)}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:328,"babel-runtime/core-js/object/create":40,"babel-runtime/core-js/object/set-prototype-of":45,"babel-runtime/core-js/promise":46,"babel-runtime/core-js/symbol":47}],60:[function(b,c,d){(function(b){(function(){function d(a,b){var c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];this.obs=a,this.sync=b,this.lazy=c,this.queue=[]}function e(){d.apply(this,arguments)}function f(a){d.call(this,a,!0)}function g(a,b,c){this.context=a,this.method=b,this.args=c}function h(a){this.value=a}function i(){this.id=++fa}function j(a,b){return this instanceof j?(i.call(this),void(!b&&O.isFunction(a)||(null!=a?a._isNext:void 0)?(this.valueF=a,this.valueInternal=void 0):(this.valueF=void 0,this.valueInternal=a))):new j(a,b)}function k(a,b){return this instanceof k?void j.call(this,a,b):new k(a,b)}function l(){return this instanceof l?void i.call(this):new l}function m(a){return this instanceof m?(this.error=a,void i.call(this)):new m(a)}function n(a){this.desc=a,this.id=++ka,this.initialDesc=this.desc}function o(){var a=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];this.unsubscribe=O.bind(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[];for(var b,c=0;c<a.length;c++)b=a[c],this.add(b)}function p(a,b){this._subscribe=a,this._handleEvent=b,this.subscribe=O.bind(this.subscribe,this),this.handleEvent=O.bind(this.handleEvent,this),this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0,this.subscriptions=[],this.queue=[]}function q(a,b,c){return this instanceof q?(O.isFunction(a)&&(c=b,b=a,a=g.empty),n.call(this,a),G(b),this.dispatcher=new p(b,c),void la(this)):new q(a,b,c)}function r(a,b,c){p.call(this,b,c),this.property=a,this.subscribe=O.bind(this.subscribe,this),this.current=da,this.currentValueRootId=void 0,this.propertyEnded=!1}function s(a,b,c){n.call(this,a),G(b),this.dispatcher=new r(this,b,c),la(this)}function t(){return this instanceof t?(this.unsubAll=O.bind(this.unsubAll,this),this.subscribeAll=O.bind(this.subscribeAll,this),this.guardedSink=O.bind(this.guardedSink,this),this.sink=void 0,this.subscriptions=[],this.ended=!1,void q.call(this,new x.Desc(x,"Bus",[]),this.subscribeAll)):new t}function u(a){return[a,ia()]}function v(a){this.observable=a}var w=Array.prototype.slice,x={toString:function(){return"Bacon"}};x.version="0.7.94";var y=("undefined"!=typeof b&&null!==b?b:this).Error,z=function(){},A=function(a,b){return a},B=function(a){return a.slice(0)},C=function(a,b){if(!b)throw new y(a)},D=function(a){if((null!=a?a._isObservable:void 0)&&!(null!=a?a._isProperty:void 0))throw new y("Observable is not a Property : "+a)},E=function(a){if(!(null!=a?a._isEventStream:void 0))throw new y("not an EventStream : "+a)},F=function(a){if(!(null!=a?a._isObservable:void 0))throw new y("not an Observable : "+a)},G=function(a){return C("not a function : "+a,O.isFunction(a))},H=Array.isArray||function(a){return a instanceof Array},I=function(a){return a&&a._isObservable},J=function(a){if(!H(a))throw new y("not an array : "+a)},K=function(a){return C("no arguments supported",0===a.length)},L=function(a){for(var b=arguments.length,c=1;b>1?b>c:c>b;b>1?c++:c--)for(var d in arguments[c])a[d]=arguments[c][d];return a},M=function(a,b){var c={}.hasOwnProperty,d=function(){};d.prototype=b.prototype,a.prototype=new d;for(var e in b)c.call(b,e)&&(a[e]=b[e]);return a},N=function(a){return"undefined"!=typeof Symbol&&Symbol[a]?Symbol[a]:"undefined"!=typeof Symbol&&"function"==typeof Symbol["for"]?Symbol[a]=Symbol["for"](a):"@@"+a},O={indexOf:function(){return Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c,d=0;d<a.length;d++)if(c=a[d],b===c)return d;return-1}}(),indexWhere:function(a,b){for(var c,d=0;d<a.length;d++)if(c=a[d],b(c))return d;return-1},head:function(a){return a[0]},always:function(a){return function(){return a}},negate:function(a){return function(b){return!a(b)}},empty:function(a){return 0===a.length},tail:function(a){return a.slice(1,a.length)},filter:function(a,b){for(var c,d=[],e=0;e<b.length;e++)c=b[e],a(c)&&d.push(c);return d},map:function(a,b){return function(){for(var c,d=[],e=0;e<b.length;e++)c=b[e],d.push(a(c));return d}()},each:function(a,b){for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=a[c];b(c,d)}},toArray:function(a){return H(a)?a:[a]},contains:function(a,b){return-1!==O.indexOf(a,b)},id:function(a){return a},last:function(a){return a[a.length-1]},all:function(a){for(var b,c=arguments.length<=1||void 0===arguments[1]?O.id:arguments[1],d=0;d<a.length;d++)if(b=a[d],!c(b))return!1;return!0},any:function(a){for(var b,c=arguments.length<=1||void 0===arguments[1]?O.id:arguments[1],d=0;d<a.length;d++)if(b=a[d],c(b))return!0;return!1},without:function(a,b){return O.filter(function(b){return b!==a},b)},remove:function(a,b){var c=O.indexOf(b,a);return c>=0?b.splice(c,1):void 0},fold:function(a,b,c){for(var d,e=0;e<a.length;e++)d=a[e],b=c(b,d);return b},flatMap:function(a,b){return O.fold(b,[],function(b,c){return b.concat(a(c))})},cached:function(a){var b=da;return function(){return("undefined"!=typeof b&&null!==b?b._isNone:void 0)&&(b=a(),a=void 0),b}},bind:function(a,b){return function(){return a.apply(b,arguments)}},isFunction:function(a){return"function"==typeof a},toString:function(a){var b,c,d,e={}.hasOwnProperty;try{return P++,null==a?"undefined":O.isFunction(a)?"function":H(a)?P>5?"[..]":"["+O.map(O.toString,a).toString()+"]":null!=(null!=a?a.toString:void 0)&&a.toString!==Object.prototype.toString?a.toString():"object"==typeof a?P>5?"{..}":(b=function(){var b=[];for(c in a)e.call(a,c)&&(d=function(){var b;try{return a[c]}catch(b){return b}}(),b.push(O.toString(c)+":"+O.toString(d)));return b}(),"{"+b+"}"):a}finally{P--}}},P=0;x._=O;var Q=x.UpdateBarrier=function(){function a(a){h>=a||(g[a-1]||(g[a-1]=[[],0]),h=a)}function b(a,b){for(var c=0;c<b.length;c++)if(b[c][0].id==a.id)return!0;return!1}function c(){var b=h;if(b)for(;h>=b;){var c=g[h-1];if(!c)throw new m("Unexpected stack top: "+c);var d=c[0],e=c[1];if(!(e<d.length)){c[0]=[],c[1]=0;break}var f=d[e],i=(f[0],f[1]);c[1]++,a(h+1);var j=!1;try{for(i(),j=!0;h>b&&0==g[h-1][0].length;)h--}finally{j||(g=[],h=0)}}}var d,e=[],f={},g=[],h=0,i={},j=function(e,f){if(!d&&!g.length)return f();a(1);for(var i=0;h-1>i&&!b(e,g[i][0]);)i++;var j=g[i][0];j.push([e,f]),d||c()},k=function(a,b){if(d){var c=f[a.id];return"undefined"==typeof c||null===c?(c=f[a.id]=[b],e.push(a)):c.push(b)}return b()},l=function(){for(;e.length>0;)n(0,!0);i={}},n=function(a,b){var c=e[a],d=c.id,g=f[d];e.splice(a,1),delete f[d],b&&e.length>0&&o(c);for(var h,i=0;i<g.length;i++)(h=g[i])()},o=function(a){if(!i[a.id]){for(var b,c=a.internalDeps(),d=0;d<c.length;d++)if(b=c[d],o(b),f[b.id]){var g=O.indexOf(e,b);n(g,!1)}i[a.id]=!0}},p=function(a,b,e,f){if(d)return e.apply(b,f);d=a;try{var g=e.apply(b,f);l()}finally{d=void 0,c()}return g},q=function(){return d?d.id:void 0},r=function(a,b){var c=!1,d=!1,e=function(){return d=!0},f=function(){return c=!0,e()};return e=a.dispatcher.subscribe(function(d){return j(a,function(){if(!c){var a=b(d);if(a===x.noMore)return f()}})}),d&&e(),f},s=function(){return e.length>0};return{whenDoneWith:k,hasWaiters:s,inTransaction:p,currentEventId:q,wrappedSubscribe:r,afterTransaction:j}}();L(d.prototype,{_isSource:!0,subscribe:function(a){return this.obs.dispatcher.subscribe(a)},toString:function(){return this.obs.toString()},markEnded:function(){return this.ended=!0,!0},consume:function(){return this.lazy?{value:O.always(this.queue[0])}:this.queue[0]},push:function(a){return this.queue=[a],[a]},mayHave:function(){return!0},hasAtLeast:function(){return this.queue.length},flatten:!0}),M(e,d),L(e.prototype,{consume:function(){return this.queue.shift()},push:function(a){return this.queue.push(a)},mayHave:function(a){return!this.ended||this.queue.length>=a},hasAtLeast:function(a){return this.queue.length>=a},flatten:!1}),M(f,d),L(f.prototype,{consume:function(){var a=this.queue;return this.queue=[],{value:function(){return a}}},push:function(a){return this.queue.push(a.value())},hasAtLeast:function(){return!0}}),d.isTrigger=function(a){return(null!=a?a._isSource:void 0)?a.sync:null!=a?a._isEventStream:void 0},d.fromObservable=function(a){return(null!=a?a._isSource:void 0)?a:(null!=a?a._isProperty:void 0)?new d(a,!1):new e(a,!0)},L(g.prototype,{_isDesc:!0,deps:function(){return this.cached||(this.cached=T([this.context].concat(this.args))),this.cached},toString:function(){return O.toString(this.context)+"."+O.toString(this.method)+"("+O.map(O.toString,this.args)+")"}});var R=function(a,b){var c=a||b;if(c&&c._isDesc)return a||b;for(var d=arguments.length,e=Array(d>2?d-2:0),f=2;d>f;f++)e[f-2]=arguments[f];return new g(a,b,e)},S=function(a,b){return b.desc=a,b},T=function(a){return H(a)?O.flatMap(T,a):I(a)?[a]:("undefined"!=typeof a&&null!==a?a._isSource:void 0)?[a.obs]:[]};x.Desc=g,x.Desc.empty=new x.Desc("","",[]);var U=function(a){return function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;c>e;e++)d[e-1]=arguments[e];if("object"==typeof b&&d.length){var f=b,g=d[0];b=function(){return f[g].apply(f,arguments)},d=d.slice(1)}return a.apply(void 0,[b].concat(d))}},V=function(a){return a=Array.prototype.slice.call(a),$.apply(void 0,a)},W=function(a,b){return function(){for(var c=arguments.length,d=Array(c),e=0;c>e;e++)d[e]=arguments[e];return a.apply(void 0,b.concat(d))}},X=function(a){return function(b){return function(c){if("undefined"!=typeof c&&null!==c){var d=c[b];return O.isFunction(d)?d.apply(c,a):d}}}},Y=function(a,b){var c=a.slice(1).split("."),d=O.map(X(b),c);return function(a){for(var b,c=0;c<d.length;c++)b=d[c],a=b(a);return a}},Z=function(a){return"string"==typeof a&&a.length>1&&"."===a.charAt(0)},$=U(function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return O.isFunction(a)?c.length?W(a,c):a:Z(a)?Y(a,c):O.always(a)}),_=function(a,b){return $.apply(void 0,[a].concat(b))},aa=function(a,b,c,d){if("undefined"!=typeof b&&null!==b?b._isProperty:void 0){var e=b.sampledBy(a,function(a,b){return[a,b]});return d.call(e,function(a){var b=a[0];a[1];return b}).map(function(a){var b=(a[0],a[1]);return b})}return b=_(b,c),d.call(a,b)},ba=function(a){if(O.isFunction(a))return a;if(Z(a)){var b=ca(a);return function(a,c){return a[b](c)}}throw new y("not a function or a field key: "+a)},ca=function(a){return a.slice(1)};L(h.prototype,{_isSome:!0,getOrElse:function(){return this.value},get:function(){return this.value},filter:function(a){return a(this.value)?new h(this.value):da},map:function(a){return new h(a(this.value))},forEach:function(a){return a(this.value)},isDefined:!0,toArray:function(){return[this.value]},inspect:function(){return"Some("+this.value+")"},toString:function(){return this.inspect()}});var da={_isNone:!0,getOrElse:function(a){return a},filter:function(){return da},map:function(){return da},forEach:function(){},isDefined:!1,toArray:function(){return[]},inspect:function(){return"None"},toString:function(){return this.inspect()}},ea=function(a){return("undefined"!=typeof a&&null!==a?a._isSome:void 0)||("undefined"!=typeof a&&null!==a?a._isNone:void 0)?a:new h(a)};x.noMore="<no-more>",x.more="<more>";var fa=0;i.prototype._isEvent=!0,i.prototype.isEvent=function(){return!0},i.prototype.isEnd=function(){return!1},i.prototype.isInitial=function(){return!1},i.prototype.isNext=function(){return!1},i.prototype.isError=function(){return!1},i.prototype.hasValue=function(){return!1},i.prototype.filter=function(){return!0},i.prototype.inspect=function(){return this.toString()},i.prototype.log=function(){return this.toString()},M(j,i),j.prototype.isNext=function(){return!0},j.prototype.hasValue=function(){return!0},j.prototype.value=function(){var a;return(null!=(a=this.valueF)?a._isNext:void 0)?(this.valueInternal=this.valueF.value(),this.valueF=void 0):this.valueF&&(this.valueInternal=this.valueF(),this.valueF=void 0),this.valueInternal},j.prototype.fmap=function(a){var b,c;return this.valueInternal?(c=this.valueInternal,this.apply(function(){return a(c)})):(b=this,this.apply(function(){return a(b.value())}))},j.prototype.apply=function(a){return new j(a)},j.prototype.filter=function(a){return a(this.value())},j.prototype.toString=function(){return O.toString(this.value())},j.prototype.log=function(){return this.value()},j.prototype._isNext=!0,M(k,j),k.prototype._isInitial=!0,k.prototype.isInitial=function(){return!0},k.prototype.isNext=function(){return!1},k.prototype.apply=function(a){return new k(a)},k.prototype.toNext=function(){return new j(this)},M(l,i),l.prototype.isEnd=function(){return!0},l.prototype.fmap=function(){return this},l.prototype.apply=function(){return this},l.prototype.toString=function(){return"<end>"},M(m,i),m.prototype.isError=function(){return!0},m.prototype.fmap=function(){return this},m.prototype.apply=function(){return this},m.prototype.toString=function(){return"<error> "+O.toString(this.error)},x.Event=i,x.Initial=k,x.Next=j,x.End=l,x.Error=m;var ga=function(a){return new k(a,!0)},ha=function(a){return new j(a,!0)},ia=function(){return new l},ja=function(a){return a&&a._isEvent?a:ha(a)},ka=0,la=function(){};L(n.prototype,{_isObservable:!0,subscribe:function(a){return Q.wrappedSubscribe(this,a)},subscribeInternal:function(a){return this.dispatcher.subscribe(a)},onValue:function(){var a=V(arguments);return this.subscribe(function(b){return b.hasValue()?a(b.value()):void 0})},onValues:function(a){return this.onValue(function(b){return a.apply(void 0,b)})},onError:function(){var a=V(arguments);return this.subscribe(function(b){return b.isError()?a(b.error):void 0})},onEnd:function(){var a=V(arguments);return this.subscribe(function(b){return b.isEnd()?a():void 0})},name:function(a){return this._name=a,this},withDescription:function(){return this.desc=R.apply(void 0,arguments),this},toString:function(){return this._name?this._name:this.desc.toString()},deps:function(){return this.desc.deps()},internalDeps:function(){return this.initialDesc.deps()}}),n.prototype.assign=n.prototype.onValue,n.prototype.forEach=n.prototype.onValue,n.prototype.inspect=n.prototype.toString,x.Observable=n,L(o.prototype,{add:function(a){var b=this;if(!this.unsubscribed){var c=!1,d=z;this.starting.push(a);var e=function(){return b.unsubscribed?void 0:(c=!0,b.remove(d),O.remove(a,b.starting))};return d=a(this.unsubscribe,e),this.unsubscribed||c?d():this.subscriptions.push(d),O.remove(a,this.starting),d}},remove:function(a){return this.unsubscribed?void 0:void 0!==O.remove(a,this.subscriptions)?a():void 0},unsubscribe:function(){if(!this.unsubscribed){this.unsubscribed=!0;for(var a=this.subscriptions,b=0;b<a.length;b++)a[b]();return this.subscriptions=[],this.starting=[],[]}},count:function(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length},empty:function(){return 0===this.count()}}),x.CompositeUnsubscribe=o,p.prototype.hasSubscribers=function(){return this.subscriptions.length>0},p.prototype.removeSub=function(a){return this.subscriptions=O.without(a,this.subscriptions),this.subscriptions},p.prototype.push=function(a){return a.isEnd()&&(this.ended=!0),Q.inTransaction(a,this,this.pushIt,[a])},p.prototype.pushToSubscriptions=function(a){try{for(var b=this.subscriptions,c=b.length,d=0;c>d;d++){var e=b[d],f=e.sink(a);(f===x.noMore||a.isEnd())&&this.removeSub(e)}return!0}catch(g){throw this.pushing=!1,this.queue=[],g}},p.prototype.pushIt=function(a){if(this.pushing)return this.queue.push(a),x.more;if(a!==this.prevError){for(a.isError()&&(this.prevError=a),this.pushing=!0,this.pushToSubscriptions(a),this.pushing=!1;this.queue.length;)a=this.queue.shift(),this.push(a);return this.hasSubscribers()?x.more:(this.unsubscribeFromSource(),x.noMore)}},p.prototype.handleEvent=function(a){return this._handleEvent?this._handleEvent(a):this.push(a)},p.prototype.unsubscribeFromSource=function(){this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0},p.prototype.subscribe=function(a){var b;return this.ended?(a(ia()),z):(G(a),b={sink:a},this.subscriptions.push(b),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),G(this.unsubSrc)),function(a){return function(){return a.removeSub(b),a.hasSubscribers()?void 0:a.unsubscribeFromSource()}}(this))},x.Dispatcher=p,M(q,n),L(q.prototype,{_isEventStream:!0,toProperty:function(a){var b=0===arguments.length?da:ea(function(){return a}),c=this.dispatcher,d=new x.Desc(this,"toProperty",[a]);return new s(d,function(a){var d=!1,e=!1,f=z,g=x.more,i=function(){return d?void 0:b.forEach(function(b){return d=!0,g=a(new k(b)),g===x.noMore?(f(),f=z,z):void 0})};return f=c.subscribe(function(c){return c.hasValue()?c.isInitial()&&!e?(b=new h(function(){return c.value()}),x.more):(c.isInitial()||i(),d=!0,b=new h(c),a(c)):(c.isEnd()&&(g=i()),g!==x.noMore?a(c):void 0)}),e=!0,i(),f})},toEventStream:function(){return this},withHandler:function(a){return new q(new x.Desc(this,"withHandler",[a]),this.dispatcher.subscribe,a)}}),x.EventStream=q,x.never=function(){return new q(R(x,"never"),function(a){return a(ia()),z})},x.when=function(){if(0===arguments.length)return x.never();var a=arguments.length,b="when: expecting arguments in the form (Observable+,function)+";C(b,a%2===0);for(var c=[],e=[],f=0,g=[];a>f;){g[f]=arguments[f],g[f+1]=arguments[f+1];for(var h,i=O.toArray(arguments[f]),j=na(arguments[f+1]),k={f:j,ixs:[]},l=!1,m=0;m<i.length;m++){h=i[m];var n=O.indexOf(c,h);l||(l=d.isTrigger(h)),0>n&&(c.push(h),n=c.length-1);for(var o,p=0;p<k.ixs.length;p++)o=k.ixs[p],o.index===n&&o.count++;k.ixs.push({index:n,count:1})}C("At least one EventStream required",l||!i.length),i.length>0&&e.push(k),f+=2}if(!c.length)return x.never();c=O.map(d.fromObservable,c);var r=O.any(c,function(a){return a.flatten})&&ma(O.map(function(a){return a.obs},c)),s=new x.Desc(x,"when",g),t=new q(s,function(a){var b=[],d=!1,f=function(a){for(var b,d=0;d<a.ixs.length;d++)if(b=a.ixs[d],!c[b.index].hasAtLeast(b.count))return!1;return!0},g=function(a){return!a.sync||a.ended},h=function(a){for(var b,d=0;d<a.ixs.length;d++)if(b=a.ixs[d],!c[b.index].mayHave(b.count))return!0},i=function(a){return!a.source.flatten},j=function(j){return function(k){var l=function(){return Q.whenDoneWith(t,n)},m=function(){if(!(b.length>0))return x.more;for(var d,g=x.more,h=b.pop(),j=0;j<e.length;j++)if(d=e[j],f(d)){var k=function(){for(var a,b=[],e=0;e<d.ixs.length;e++)a=d.ixs[e],b.push(c[a.index].consume());return b}();return g=a(h.e.apply(function(){var a,b=function(){for(var a,b=[],c=0;c<k.length;c++)a=k[c],b.push(a.value());return b}();return(a=d).f.apply(a,b)})),b.length&&(b=O.filter(i,b)),g===x.noMore?g:m()}},n=function(){var b=m();return d&&(O.all(c,g)||O.all(e,h))&&(b=x.noMore,a(ia())),b===x.noMore&&k(),b};return j.subscribe(function(c){if(c.isEnd())d=!0,j.markEnded(),l();else if(c.isError())var e=a(c);else j.push(c),j.sync&&(b.push({source:j,e:c}),r||Q.hasWaiters()?l():n());return e===x.noMore&&k(),e||x.more})}};return new x.CompositeUnsubscribe(function(){for(var a,b=[],d=0;d<c.length;d++)a=c[d],b.push(j(a));return b}()).unsubscribe});return t};var ma=function(a){var b=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],c=function(a){if(O.contains(b,a))return!0;var d=a.internalDeps();return d.length?(b.push(a),O.any(d,c)):(b.push(a),!1)};return O.any(a,c)},na=function(a){return O.isFunction(a)?a:O.always(a)};x.groupSimultaneous=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];1===b.length&&H(b[0])&&(b=b[0]);var d=function(){for(var a,c=[],d=0;d<b.length;d++)a=b[d],c.push(new f(a));return c}();return S(new x.Desc(x,"groupSimultaneous",b),x.when(d,function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return b}))},M(r,p),L(r.prototype,{push:function(a){return a.isEnd()&&(this.propertyEnded=!0),a.hasValue()&&(this.current=new h(a),this.currentValueRootId=Q.currentEventId()),p.prototype.push.call(this,a)},maybeSubSource:function(a,b){return b===x.noMore?z:this.propertyEnded?(a(ia()),z):p.prototype.subscribe.call(this,a)},subscribe:function(a){var b=this,c=x.more;if(this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)){var d=Q.currentEventId(),e=this.currentValueRootId;return!this.propertyEnded&&e&&d&&d!==e?(Q.whenDoneWith(this.property,function(){return b.currentValueRootId===e?a(ga(b.current.get().value())):void 0}),this.maybeSubSource(a,c)):(Q.inTransaction(void 0,this,function(){return c=a(ga(this.current.get().value()));
},[]),this.maybeSubSource(a,c))}return this.maybeSubSource(a,c)}}),M(s,n),L(s.prototype,{_isProperty:!0,changes:function(){var a=this;return new q(new x.Desc(this,"changes",[]),function(b){return a.dispatcher.subscribe(function(a){return a.isInitial()?void 0:b(a)})})},withHandler:function(a){return new s(new x.Desc(this,"withHandler",[a]),this.dispatcher.subscribe,a)},toProperty:function(){return K(arguments),this},toEventStream:function(){var a=this;return new q(new x.Desc(this,"toEventStream",[]),function(b){return a.dispatcher.subscribe(function(a){return a.isInitial()&&(a=a.toNext()),b(a)})})}}),x.Property=s,x.constant=function(a){return new s(new x.Desc(x,"constant",[a]),function(b){return b(ga(a)),b(ia()),z})},x.fromBinder=function(a){var b=arguments.length<=1||void 0===arguments[1]?O.id:arguments[1],c=new x.Desc(x,"fromBinder",[a,b]);return new q(c,function(c){var d=!1,e=!1,f=function(){return d?void 0:"undefined"!=typeof g&&null!==g?(g(),d=!0):e=!0},g=a(function(){for(var a,d=arguments.length,e=Array(d),g=0;d>g;g++)e[g]=arguments[g];var h=b.apply(this,e);H(h)&&(null!=(a=O.last(h))?a._isEvent:void 0)||(h=[h]);for(var i,j=x.more,k=0;k<h.length;k++)if(i=h[k],j=c(i=ja(i)),j===x.noMore||i.isEnd())return f(),j;return j});return e&&f(),f})},x.Observable.prototype.map=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return aa(this,a,c,function(a){return S(new x.Desc(this,"map",[a]),this.withHandler(function(b){return this.push(b.fmap(a))}))})};var oa=function(a){return H(a[0])?a[0]:Array.prototype.slice.call(a)},pa=function(a){return O.isFunction(a[0])?[oa(Array.prototype.slice.call(a,1)),a[0]]:[oa(Array.prototype.slice.call(a,0,a.length-1)),O.last(a)]};x.combineAsArray=function(){var a=oa(arguments);if(a.length){for(var b=[],c=0;c<a.length;c++){var e=I(a[c])?a[c]:x.constant(a[c]);b.push(new d(e,!0))}return S(new x.Desc(x,"combineAsArray",a),x.when(b,function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return b}).toProperty())}return x.constant([])},x.onValues=function(){return x.combineAsArray(Array.prototype.slice.call(arguments,0,arguments.length-1)).onValues(arguments[arguments.length-1])},x.combineWith=function(){var a=pa(arguments),b=a[0],c=a[1],d=new x.Desc(x,"combineWith",[c].concat(b));return S(d,x.combineAsArray(b).map(function(a){return c.apply(void 0,a)}))},x.Observable.prototype.combine=function(a,b){var c=ba(b),d=new x.Desc(this,"combine",[a,b]);return S(d,x.combineAsArray(this,a).map(function(a){return c(a[0],a[1])}))},x.Observable.prototype.withStateMachine=function(a,b){var c=a,d=new x.Desc(this,"withStateMachine",[a,b]);return S(d,this.withHandler(function(a){var d=b(c,a),e=d[0],f=d[1];c=e;for(var g,h=x.more,i=0;i<f.length;i++)if(g=f[i],h=this.push(g),h===x.noMore)return h;return h}))};var qa=function(a,b){return a===b},ra=function(a){return"undefined"!=typeof a&&null!==a?a._isNone:!1};x.Observable.prototype.skipDuplicates=function(){var a=arguments.length<=0||void 0===arguments[0]?qa:arguments[0],b=new x.Desc(this,"skipDuplicates",[]);return S(b,this.withStateMachine(da,function(b,c){return c.hasValue()?c.isInitial()||ra(b)||!a(b.get(),c.value())?[new h(c.value()),[c]]:[b,[]]:[b,[c]]}))},x.Observable.prototype.awaiting=function(a){var b=new x.Desc(this,"awaiting",[a]);return S(b,x.groupSimultaneous(this,a).map(function(a){return 0===a[1].length}).toProperty(!1).skipDuplicates())},x.Observable.prototype.not=function(){return S(new x.Desc(this,"not",[]),this.map(function(a){return!a}))},x.Property.prototype.and=function(a){return S(new x.Desc(this,"and",[a]),this.combine(a,function(a,b){return a&&b}))},x.Property.prototype.or=function(a){return S(new x.Desc(this,"or",[a]),this.combine(a,function(a,b){return a||b}))},x.scheduler={setTimeout:function(a,b){return setTimeout(a,b)},setInterval:function(a,b){return setInterval(a,b)},clearInterval:function(a){return clearInterval(a)},clearTimeout:function(a){return clearTimeout(a)},now:function(){return(new Date).getTime()}},x.EventStream.prototype.bufferWithTime=function(a){return S(new x.Desc(this,"bufferWithTime",[a]),this.bufferWithTimeOrCount(a,Number.MAX_VALUE))},x.EventStream.prototype.bufferWithCount=function(a){return S(new x.Desc(this,"bufferWithCount",[a]),this.bufferWithTimeOrCount(void 0,a))},x.EventStream.prototype.bufferWithTimeOrCount=function(a,b){var c=function(c){return c.values.length===b?c.flush():void 0!==a?c.schedule():void 0},d=new x.Desc(this,"bufferWithTimeOrCount",[a,b]);return S(d,this.buffer(a,c,c))},x.EventStream.prototype.buffer=function(a){var b=arguments.length<=1||void 0===arguments[1]?z:arguments[1],c=arguments.length<=2||void 0===arguments[2]?z:arguments[2],d={scheduled:null,end:void 0,values:[],flush:function(){if(this.scheduled&&(x.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){var a=this.values;this.values=[];var b=this.push(ha(a));if(null!=this.end)return this.push(this.end);if(b!==x.noMore)return c(this)}else if(null!=this.end)return this.push(this.end)},schedule:function(){var b=this;return this.scheduled?void 0:this.scheduled=a(function(){return b.flush()})}},e=x.more;if(!O.isFunction(a)){var f=a;a=function(a){return x.scheduler.setTimeout(a,f)}}return S(new x.Desc(this,"buffer",[]),this.withHandler(function(a){var c=this;return d.push=function(a){return c.push(a)},a.isError()?e=this.push(a):a.isEnd()?(d.end=a,d.scheduled||d.flush()):(d.values.push(a.value()),b(d)),e}))},x.Observable.prototype.filter=function(a){D(a);for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return aa(this,a,c,function(a){return S(new x.Desc(this,"filter",[a]),this.withHandler(function(b){return b.filter(a)?this.push(b):x.more}))})},x.once=function(a){return new q(new g(x,"once",[a]),function(b){return b(ja(a)),b(ia()),z})},x.EventStream.prototype.concat=function(a){var b=this;return new q(new x.Desc(b,"concat",[a]),function(c){var d=z,e=b.dispatcher.subscribe(function(b){return b.isEnd()?d=a.dispatcher.subscribe(c):c(b)});return function(){return e(),d()}})},x.Observable.prototype.flatMap=function(){return ua(this,sa(arguments))},x.Observable.prototype.flatMapFirst=function(){return ua(this,sa(arguments),!0)};var sa=function(a){return 1===a.length&&I(a[0])?O.always(a[0]):V(a)},ta=function(a){return I(a)?a:x.once(a)},ua=function(a,b,c,d){var e=[a],f=[],g=new x.Desc(a,"flatMap"+(c?"First":""),[b]),h=new q(g,function(e){var g=new o,h=[],i=function(a){var c=ta(b(a.value()));return f.push(c),g.add(function(a,b){return c.dispatcher.subscribe(function(d){if(d.isEnd())return O.remove(c,f),j(),k(b),x.noMore;("undefined"!=typeof d&&null!==d?d._isInitial:void 0)&&(d=d.toNext());var g=e(d);return g===x.noMore&&a(),g})})},j=function(){var a=h.shift();return a?i(a):void 0},k=function(a){return a(),g.empty()?e(ia()):void 0};return g.add(function(b,f){return a.dispatcher.subscribe(function(a){return a.isEnd()?k(f):a.isError()?e(a):c&&g.count()>1?x.more:g.unsubscribed?x.noMore:d&&g.count()>d?h.push(a):i(a)})}),g.unsubscribe});return h.internalDeps=function(){return f.length?e.concat(f):e},h};x.Observable.prototype.flatMapWithConcurrencyLimit=function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];var e=new x.Desc(this,"flatMapWithConcurrencyLimit",[a].concat(c));return S(e,ua(this,sa(c),!1,a))},x.Observable.prototype.flatMapConcat=function(){var a=new x.Desc(this,"flatMapConcat",Array.prototype.slice.call(arguments,0));return S(a,this.flatMapWithConcurrencyLimit.apply(this,[1].concat(w.call(arguments))))},x.later=function(a,b){return S(new x.Desc(x,"later",[a,b]),x.fromBinder(function(c){var d=function(){return c([b,ia()])},e=x.scheduler.setTimeout(d,a);return function(){return x.scheduler.clearTimeout(e)}}))},x.Observable.prototype.bufferingThrottle=function(a){var b=new x.Desc(this,"bufferingThrottle",[a]);return S(b,this.flatMapConcat(function(b){return x.once(b).concat(x.later(a).filter(!1))}))},x.Property.prototype.bufferingThrottle=function(){return x.Observable.prototype.bufferingThrottle.apply(this,arguments).toProperty()},M(t,q),L(t.prototype,{unsubAll:function(){for(var a,b=this.subscriptions,c=0;c<b.length;c++)a=b[c],"function"==typeof a.unsub&&a.unsub()},subscribeAll:function(a){if(this.ended)a(ia());else{this.sink=a;for(var b,c=B(this.subscriptions),d=0;d<c.length;d++)b=c[d],this.subscribeInput(b)}return this.unsubAll},guardedSink:function(a){var b=this;return function(c){return c.isEnd()?(b.unsubscribeInput(a),x.noMore):b.sink(c)}},subscribeInput:function(a){return a.unsub=a.input.dispatcher.subscribe(this.guardedSink(a.input)),a.unsub},unsubscribeInput:function(a){for(var b,c=this.subscriptions,d=0;d<c.length;d++)if(b=c[d],b.input===a)return"function"==typeof b.unsub&&b.unsub(),void this.subscriptions.splice(d,1)},plug:function(a){var b=this;if(F(a),!this.ended){var c={input:a};return this.subscriptions.push(c),"undefined"!=typeof this.sink&&this.subscribeInput(c),function(){return b.unsubscribeInput(a)}}},end:function(){return this.ended=!0,this.unsubAll(),"function"==typeof this.sink?this.sink(ia()):void 0},push:function(a){if(!this.ended&&"function"==typeof this.sink){var b=!this.pushing;if(!b)return this.pushQueue||(this.pushQueue=[]),void this.pushQueue.push(a);this.pushing=!0;try{return this.sink(ha(a))}finally{if(b&&this.pushQueue){for(var c=0;c<this.pushQueue.length;){var a=this.pushQueue[c];this.sink(ha(a)),c++}this.pushQueue=null}this.pushing=!1}}},error:function(a){return"function"==typeof this.sink?this.sink(new m(a)):void 0}}),x.Bus=t;var va=function(a,b){return U(function(c){for(var d=W(b,[function(a,b){return c.apply(void 0,a.concat([b]))}]),e=arguments.length,f=Array(e>1?e-1:0),g=1;e>g;g++)f[g-1]=arguments[g];return S(new x.Desc(x,a,[c].concat(f)),x.combineAsArray(f).flatMap(d))})};x.fromCallback=va("fromCallback",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return x.fromBinder(function(b){return _(a,c)(b),z},function(a){return[a,ia()]})}),x.fromNodeCallback=va("fromNodeCallback",function(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return x.fromBinder(function(b){return _(a,c)(b),z},function(a,b){return a?[new m(a),ia()]:[b,ia()]})}),x.combineTemplate=function(a){function b(a){return a[a.length-1]}function c(a,c,d){return b(a)[c]=d,d}function d(a,b){return function(d,e){return c(d,a,e[b])}}function e(a,b){return function(d){return c(d,a,b)}}function f(a){return H(a)?[]:{}}function g(a,b){return function(d){var e=f(b);return c(d,a,e),d.push(e)}}function h(a,b){if(I(b))return l.push(b),k.push(d(a,l.length-1));if(!b||b.constructor!=Object&&b.constructor!=Array)return k.push(e(a,b));var c=function(a){return a.pop()};return k.push(g(a,b)),j(b),k.push(c)}function i(b){for(var c,d=f(a),e=[d],g=0;g<k.length;g++)(c=k[g])(e,b);return d}function j(a){return O.each(a,h)}var k=[],l=[];return j(a),S(new x.Desc(x,"combineTemplate",[a]),x.combineAsArray(l).map(i))};var wa=function(a,b){var c=new q(R(a,"justInitValue"),function(b){var d=void 0,e=a.dispatcher.subscribe(function(a){return a.isEnd()||(d=a),x.noMore});return Q.whenDoneWith(c,function(){return"undefined"!=typeof d&&null!==d&&b(d),b(ia())}),e});return c.concat(b).toProperty()};x.Observable.prototype.mapEnd=function(){var a=V(arguments);return S(new x.Desc(this,"mapEnd",[a]),this.withHandler(function(b){return b.isEnd()?(this.push(ha(a(b))),this.push(ia()),x.noMore):this.push(b)}))},x.Observable.prototype.skipErrors=function(){return S(new x.Desc(this,"skipErrors",[]),this.withHandler(function(a){return a.isError()?x.more:this.push(a)}))},x.EventStream.prototype.takeUntil=function(a){var b={};return S(new x.Desc(this,"takeUntil",[a]),x.groupSimultaneous(this.mapEnd(b),a.skipErrors()).withHandler(function(a){if(a.hasValue()){var c=a.value(),d=c[0],e=c[1];if(e.length)return this.push(ia());for(var f,g=x.more,h=0;h<d.length;h++)f=d[h],g=f===b?this.push(ia()):this.push(ha(f));return g}return this.push(a)}))},x.Property.prototype.takeUntil=function(a){var b=this.changes().takeUntil(a);return S(new x.Desc(this,"takeUntil",[a]),wa(this,b))},x.Observable.prototype.flatMapLatest=function(){var a=sa(arguments),b=this.toEventStream();return S(new x.Desc(this,"flatMapLatest",[a]),b.flatMap(function(c){return ta(a(c)).takeUntil(b)}))},x.Property.prototype.delayChanges=function(a,b){return S(a,wa(this,b(this.changes())))},x.EventStream.prototype.delayChanges=function(a,b){return S(a,b(this))},x.Observable.prototype.delay=function(a){return this.delayChanges(new x.Desc(this,"delay",[a]),function(b){return b.flatMap(function(b){return x.later(a,b)})})},x.Observable.prototype.debounce=function(a){return this.delayChanges(new x.Desc(this,"debounce",[a]),function(b){return b.flatMapLatest(function(b){return x.later(a,b)})})},x.Observable.prototype.debounceImmediate=function(a){return this.delayChanges(new x.Desc(this,"debounceImmediate",[a]),function(b){return b.flatMapFirst(function(b){return x.once(b).concat(x.later(a).filter(!1))})})},x.Observable.prototype.decode=function(a){return S(new x.Desc(this,"decode",[a]),this.combine(x.combineTemplate(a),function(a,b){return b[a]}))},x.Observable.prototype.scan=function(a,b){var c,d=this;b=ba(b);var e=ea(a),f=!1,g=function(a){var g=!1,i=z,j=x.more,l=function(){return g?void 0:e.forEach(function(b){return g=f=!0,j=a(new k(function(){return b})),j===x.noMore?(i(),i=z):void 0})};return i=d.dispatcher.subscribe(function(c){if(c.hasValue()){if(f&&c.isInitial())return x.more;c.isInitial()||l(),g=f=!0;var d=e.getOrElse(void 0),i=b(d,c.value());return e=new h(i),a(c.apply(function(){return i}))}return c.isEnd()&&(j=l()),j!==x.noMore?a(c):void 0}),Q.whenDoneWith(c,l),i};return c=new s(new x.Desc(this,"scan",[a,b]),g)},x.Observable.prototype.diff=function(a,b){return b=ba(b),S(new x.Desc(this,"diff",[a,b]),this.scan([a],function(a,c){return[c,b(a[0],c)]}).filter(function(a){return 2===a.length}).map(function(a){return a[1]}))},x.Observable.prototype.doAction=function(){var a=V(arguments);return S(new x.Desc(this,"doAction",[a]),this.withHandler(function(b){return b.hasValue()&&a(b.value()),this.push(b)}))},x.Observable.prototype.doEnd=function(){var a=V(arguments);return S(new x.Desc(this,"doEnd",[a]),this.withHandler(function(b){return b.isEnd()&&a(),this.push(b)}))},x.Observable.prototype.doError=function(){var a=V(arguments);return S(new x.Desc(this,"doError",[a]),this.withHandler(function(b){return b.isError()&&a(b.error),this.push(b)}))},x.Observable.prototype.doLog=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return S(new x.Desc(this,"doLog",b),this.withHandler(function(a){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log.apply(console,b.concat([a.log()])),this.push(a)}))},x.Observable.prototype.endOnError=function(a){("undefined"==typeof a||null===a)&&(a=!0);for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return aa(this,a,c,function(a){return S(new x.Desc(this,"endOnError",[]),this.withHandler(function(b){return b.isError()&&a(b.error)?(this.push(b),this.push(ia())):this.push(b)}))})},n.prototype.errors=function(){return S(new x.Desc(this,"errors",[]),this.filter(function(){return!1}))},x.Observable.prototype.take=function(a){return 0>=a?x.never():S(new x.Desc(this,"take",[a]),this.withHandler(function(b){return b.hasValue()?(a--,a>0?this.push(b):(0===a&&this.push(b),this.push(ia()),x.noMore)):this.push(b)}))},x.Observable.prototype.first=function(){return S(new x.Desc(this,"first",[]),this.take(1))},x.Observable.prototype.mapError=function(){var a=V(arguments);return S(new x.Desc(this,"mapError",[a]),this.withHandler(function(b){return b.isError()?this.push(ha(a(b.error))):this.push(b)}))},x.Observable.prototype.flatMapError=function(a){var b=new x.Desc(this,"flatMapError",[a]);return S(b,this.mapError(function(a){return new m(a)}).flatMap(function(b){return b instanceof m?a(b.error):x.once(b)}))},x.EventStream.prototype.flatScan=function(a,b){var c=a;return this.flatMapConcat(function(a){return ta(b(c,a)).doAction(function(a){return c=a})}).toProperty(a)},x.EventStream.prototype.sampledBy=function(a,b){return S(new x.Desc(this,"sampledBy",[a,b]),this.toProperty().sampledBy(a,b))},x.Property.prototype.sampledBy=function(a,b){var c=!1;"undefined"!=typeof b&&null!==b?b=ba(b):(c=!0,b=function(a){return a.value()});var e=new d(this,!1,c),f=new d(a,!0,c),g=x.when([e,f],b),h=a._isProperty?g.toProperty():g;return S(new x.Desc(this,"sampledBy",[a,b]),h)},x.Property.prototype.sample=function(a){return S(new x.Desc(this,"sample",[a]),this.sampledBy(x.interval(a,{})))},x.Observable.prototype.map=function(a){if(a&&a._isProperty)return a.sampledBy(this,A);for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return aa(this,a,c,function(a){return S(new x.Desc(this,"map",[a]),this.withHandler(function(b){return this.push(b.fmap(a))}))})},x.Observable.prototype.fold=function(a,b){return S(new x.Desc(this,"fold",[a,b]),this.scan(a,b).sampledBy(this.filter(!1).mapEnd().toProperty()))},n.prototype.reduce=n.prototype.fold;var xa=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"],["bind","unbind"]],ya=function(a){for(var b,c=0;c<xa.length;c++){b=xa[c];var d=[a[b[0]],a[b[1]]];if(d[0]&&d[1])return d}for(var e=0;e<xa.length;e++){b=xa[e];var f=a[b[0]];if(f)return[f,function(){}]}throw new m("No suitable event methods in "+a)};x.fromEventTarget=function(a,b,c){var d=ya(a),e=d[0],f=d[1],g=new x.Desc(x,"fromEvent",[a,b]);return S(g,x.fromBinder(function(c){return e.call(a,b,c),function(){return f.call(a,b,c)}},c))},x.fromEvent=x.fromEventTarget,x.fromPoll=function(a,b){var c=new x.Desc(x,"fromPoll",[a,b]);return S(c,x.fromBinder(function(b){var c=x.scheduler.setInterval(b,a);return function(){return x.scheduler.clearInterval(c)}},b))},x.fromPromise=function(a,b){var c=arguments.length<=2||void 0===arguments[2]?u:arguments[2];return S(new x.Desc(x,"fromPromise",[a]),x.fromBinder(function(c){var d=a.then(c,function(a){return c(new m(a))});return d&&"function"==typeof d.done&&d.done(),b?function(){return"function"==typeof a.abort?a.abort():void 0}:function(){}},c))},x.Observable.prototype.groupBy=function(a){var b=arguments.length<=1||void 0===arguments[1]?x._.id:arguments[1],c={},d=this;return d.filter(function(b){return!c[a(b)]}).map(function(e){var f=a(e),g=d.filter(function(b){return a(b)===f}),h=x.once(e).concat(g),i=b(h,e).withHandler(function(a){return this.push(a),a.isEnd()?delete c[f]:void 0});return c[f]=i,i})},x.fromArray=function(a){if(J(a),a.length){var b=0,c=new q(new x.Desc(x,"fromArray",[a]),function(d){function e(){if(i=!0,!h){for(h=!0;i;)if(i=!1,g!==x.noMore&&!f){var j=a[b++];g=d(ja(j)),g!==x.noMore&&(b===a.length?d(ia()):Q.afterTransaction(c,e))}return h=!1}}var f=!1,g=x.more,h=!1,i=!1;return e(),function(){return f=!0}});return c}return S(new x.Desc(x,"fromArray",a),x.never())},x.EventStream.prototype.holdWhen=function(a){var b=!1,c=[],d=this,e=!1;return new q(new x.Desc(this,"holdWhen",[a]),function(f){var g=new o,h=!1,i=function(a){return"function"==typeof a&&a(),g.empty()&&h?f(ia()):void 0};return g.add(function(d,g){return a.subscribeInternal(function(a){if(!a.hasValue())return a.isEnd()?i(g):f(a);if(b=a.value(),!b){var d=c;return c=[],function(){for(var a,b=[],c=0;c<d.length;c++)a=d[c],b.push(f(ha(a)));return e&&(b.push(f(ia())),g()),b}()}})}),g.add(function(a,g){return d.subscribeInternal(function(a){return b&&a.hasValue()?c.push(a.value()):a.isEnd()&&c.length?(e=!0,i(g)):f(a)})}),h=!0,i(),g.unsubscribe})},x.interval=function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return S(new x.Desc(x,"interval",[a,b]),x.fromPoll(a,function(){return ha(b)}))},x.$={},x.$.asEventStream=function(a,b,c){var d=this;return O.isFunction(b)&&(c=b,b=void 0),S(new x.Desc(this.selector||this,"asEventStream",[a]),x.fromBinder(function(c){return d.on(a,b,c),function(){return d.off(a,b,c)}},c))},"undefined"!=typeof jQuery&&jQuery&&(jQuery.fn.asEventStream=x.$.asEventStream),"undefined"!=typeof Zepto&&Zepto&&(Zepto.fn.asEventStream=x.$.asEventStream),x.Observable.prototype.last=function(){var a;return S(new x.Desc(this,"last",[]),this.withHandler(function(b){return b.isEnd()?(a&&this.push(a),this.push(ia()),x.noMore):void(a=b)}))},x.Observable.prototype.log=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return this.subscribe(function(a){"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,b.concat([a.log()]))}),this},x.EventStream.prototype.merge=function(a){E(a);var b=this;return S(new x.Desc(b,"merge",[a]),x.mergeAll(this,a))},x.mergeAll=function(){var a=oa(arguments);return a.length?new q(new x.Desc(x,"mergeAll",a),function(b){var c=0,d=function(d){return function(e){return d.dispatcher.subscribe(function(d){if(d.isEnd())return c++,c===a.length?b(ia()):x.more;var f=b(d);return f===x.noMore&&e(),f})}},e=O.map(d,a);return new x.CompositeUnsubscribe(e).unsubscribe}):x.never()},x.repeatedly=function(a,b){var c=0;return S(new x.Desc(x,"repeatedly",[a,b]),x.fromPoll(a,function(){return b[c++%b.length]}))},x.repeat=function(a){var b=0;return x.fromBinder(function(c){function d(a){return a.isEnd()?f?e():f=!0:g=c(a)}function e(){var e;for(f=!0;f&&g!==x.noMore;)e=a(b++),f=!1,e?h=e.subscribeInternal(d):c(ia());return f=!0}var f=!1,g=x.more,h=function(){};return e(),function(){return h()}})},x.retry=function(a){if(!O.isFunction(a.source))throw new y("'source' option has to be a function");var b=a.source,c=a.retries||0,d=0,e=a.delay||function(){return 0},f=a.isRetryable||function(){return!0},g=!1,h=null;return S(new x.Desc(x,"retry",[a]),x.repeat(function(a){function i(){return b(a).endOnError().withHandler(function(a){return a.isError()?(h=a,f(h.error)&&(0===c||c>d)?void 0:(g=!0,this.push(a))):(a.hasValue()&&(h=null,g=!0),this.push(a))})}if(g)return null;if(h){var j={error:h.error,retriesDone:d},k=x.later(e(j)).filter(!1);return d++,k.concat(x.once().flatMap(i))}return i()}))},x.sequentially=function(a,b){var c=0;return S(new x.Desc(x,"sequentially",[a,b]),x.fromPoll(a,function(){var a=b[c++];return c<b.length?a:c===b.length?[a,ia()]:ia()}))},x.Observable.prototype.skip=function(a){return S(new x.Desc(this,"skip",[a]),this.withHandler(function(b){return b.hasValue()&&a>0?(a--,x.more):this.push(b)}))},x.EventStream.prototype.skipUntil=function(a){var b=a.take(1).map(!0).toProperty(!1);return S(new x.Desc(this,"skipUntil",[a]),this.filter(b))},x.EventStream.prototype.skipWhile=function(a){D(a);for(var b=!1,c=arguments.length,d=Array(c>1?c-1:0),e=1;c>e;e++)d[e-1]=arguments[e];return aa(this,a,d,function(a){return S(new x.Desc(this,"skipWhile",[a]),this.withHandler(function(c){return!b&&c.hasValue()&&a(c.value())?x.more:(c.hasValue()&&(b=!0),this.push(c))}))})},x.Observable.prototype.slidingWindow=function(a){var b=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return S(new x.Desc(this,"slidingWindow",[a,b]),this.scan([],function(b,c){return b.concat([c]).slice(-a)}).filter(function(a){return a.length>=b}))};var za=[],la=function(a){if(za.length&&!la.running)try{la.running=!0,za.forEach(function(b){b(a)})}finally{delete la.running}};x.spy=function(a){return za.push(a)},x.Property.prototype.startWith=function(a){return S(new x.Desc(this,"startWith",[a]),this.scan(a,function(a,b){return b}))},x.EventStream.prototype.startWith=function(a){return S(new x.Desc(this,"startWith",[a]),x.once(a).concat(this))},x.Observable.prototype.takeWhile=function(a){D(a);for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return aa(this,a,c,function(a){return S(new x.Desc(this,"takeWhile",[a]),this.withHandler(function(b){return b.filter(a)?this.push(b):(this.push(ia()),x.noMore)}))})},x.Observable.prototype.throttle=function(a){return this.delayChanges(new x.Desc(this,"throttle",[a]),function(b){return b.bufferWithTime(a).map(function(a){return a[a.length-1]})})},n.prototype.firstToPromise=function(a){var b=this;if("function"!=typeof a){if("function"!=typeof Promise)throw new y("There isn't default Promise, use shim or parameter");a=Promise}return new a(function(a,c){return b.subscribe(function(b){return b.hasValue()&&a(b.value()),b.isError()&&c(b.error),x.noMore})})},n.prototype.toPromise=function(a){return this.last().firstToPromise(a)},x["try"]=function(a){return function(b){try{return x.once(a(b))}catch(c){return new x.Error(c)}}},x.update=function(a){function b(a){return function(){for(var b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];return function(b){return a.apply(void 0,[b].concat(c))}}}for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;c>e;e++)d[e-1]=arguments[e];for(var f=d.length-1;f>0;)d[f]instanceof Function||(d[f]=O.always(d[f])),d[f]=b(d[f]),f-=2;return S(new x.Desc(x,"update",[a].concat(d)),x.when.apply(x,d).scan(a,function(a,b){return b(a)}))},x.zipAsArray=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=oa(b);return S(new x.Desc(x,"zipAsArray",d),x.zipWith(d,function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];return b}))},x.zipWith=function(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];var d=pa(b),e=d[0],f=d[1];return e=O.map(function(a){return a.toEventStream()},e),S(new x.Desc(x,"zipWith",[f].concat(e)),x.when(e,f))},x.Observable.prototype.zip=function(a,b){return S(new x.Desc(this,"zip",[a]),x.zipWith([this,a],b||Array))},v.prototype.subscribe=function(a,b,c){var d="function"==typeof a?{next:a,error:b,complete:c}:a,e={closed:!1,unsubscribe:function(){e.closed=!0,f()}},f=this.observable.subscribe(function(a){a.isError()?(d.error&&d.error(a.error),e.unsubscribe()):a.isEnd()?(e.closed=!0,d.complete&&d.complete()):d.next&&d.next(a.value())});return e},v.prototype[N("observable")]=function(){return this},x.Observable.prototype.toESObservable=function(){return new v(this)},x.Observable.prototype[N("observable")]=x.Observable.prototype.toESObservable,x.fromESObservable=function(a){var b;b=a[N("observable")]?a[N("observable")]():a;var c=new x.Desc(x,"fromESObservable",[b]);return new x.EventStream(c,function(a){var c=b.subscribe({error:function(){a(new x.Error),a(new x.End)},next:function(b){a(new x.Next(b,!0))},complete:function(){a(new x.End)}});return c.unsubscribe?function(){c.unsubscribe()}:c})},"undefined"!=typeof a&&null!==a&&null!=a.amd?(a([],function(){return x}),"undefined"!=typeof this&&null!==this&&(this.Bacon=x)):"undefined"!=typeof c&&null!==c&&null!=c.exports?(c.exports=x,x.Bacon=x):this.Bacon=x}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(a,b,c){a("../../modules/es6.string.iterator"),a("../../modules/es6.array.from"),b.exports=a("../../modules/$.core").Array.from},{"../../modules/$.core":83,"../../modules/es6.array.from":135,"../../modules/es6.string.iterator":145}],62:[function(a,b,c){a("../modules/web.dom.iterable"),a("../modules/es6.string.iterator"),b.exports=a("../modules/core.get-iterator")},{"../modules/core.get-iterator":133,"../modules/es6.string.iterator":145,"../modules/web.dom.iterable":148}],63:[function(a,b,c){a("../modules/web.dom.iterable"),a("../modules/es6.string.iterator"),b.exports=a("../modules/core.is-iterable")},{"../modules/core.is-iterable":134,"../modules/es6.string.iterator":145,"../modules/web.dom.iterable":148}],64:[function(a,b,c){a("../modules/es6.object.to-string"),a("../modules/es6.string.iterator"),a("../modules/web.dom.iterable"),a("../modules/es6.map"),a("../modules/es7.map.to-json"),b.exports=a("../modules/$.core").Map},{"../modules/$.core":83,"../modules/es6.map":137,"../modules/es6.object.to-string":143,"../modules/es6.string.iterator":145,"../modules/es7.map.to-json":147,"../modules/web.dom.iterable":148}],65:[function(a,b,c){a("../../modules/es6.object.assign"),b.exports=a("../../modules/$.core").Object.assign},{"../../modules/$.core":83,"../../modules/es6.object.assign":138}],66:[function(a,b,c){var d=a("../../modules/$");b.exports=function(a,b){return d.create(a,b)}},{"../../modules/$":108}],67:[function(a,b,c){var d=a("../../modules/$");b.exports=function(a,b,c){return d.setDesc(a,b,c)}},{"../../modules/$":108}],68:[function(a,b,c){var d=a("../../modules/$");a("../../modules/es6.object.get-own-property-descriptor"),b.exports=function(a,b){return d.getDesc(a,b)}},{"../../modules/$":108,"../../modules/es6.object.get-own-property-descriptor":139}],69:[function(a,b,c){var d=a("../../modules/$");a("../../modules/es6.object.get-own-property-names"),b.exports=function(a){return d.getNames(a)}},{"../../modules/$":108,"../../modules/es6.object.get-own-property-names":140}],70:[function(a,b,c){a("../../modules/es6.object.keys"),b.exports=a("../../modules/$.core").Object.keys},{"../../modules/$.core":83,"../../modules/es6.object.keys":141}],71:[function(a,b,c){a("../../modules/es6.object.set-prototype-of"),b.exports=a("../../modules/$.core").Object.setPrototypeOf},{"../../modules/$.core":83,"../../modules/es6.object.set-prototype-of":142}],72:[function(a,b,c){a("../modules/es6.object.to-string"),a("../modules/es6.string.iterator"),a("../modules/web.dom.iterable"),a("../modules/es6.promise"),b.exports=a("../modules/$.core").Promise},{"../modules/$.core":83,"../modules/es6.object.to-string":143,"../modules/es6.promise":144,"../modules/es6.string.iterator":145,"../modules/web.dom.iterable":148}],73:[function(a,b,c){a("../../modules/es6.symbol"),a("../../modules/es6.object.to-string"),b.exports=a("../../modules/$.core").Symbol},{"../../modules/$.core":83,"../../modules/es6.object.to-string":143,"../../modules/es6.symbol":146}],74:[function(a,b,c){a("../../modules/es6.string.iterator"),a("../../modules/web.dom.iterable"),b.exports=a("../../modules/$.wks")("iterator")},{"../../modules/$.wks":131,"../../modules/es6.string.iterator":145,"../../modules/web.dom.iterable":148}],75:[function(a,b,c){b.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],76:[function(a,b,c){b.exports=function(){}},{}],77:[function(a,b,c){var d=a("./$.is-object");b.exports=function(a){if(!d(a))throw TypeError(a+" is not an object!");return a}},{"./$.is-object":101}],78:[function(a,b,c){var d=a("./$.cof"),e=a("./$.wks")("toStringTag"),f="Arguments"==d(function(){return arguments}());b.exports=function(a){var b,c,g;return void 0===a?"Undefined":null===a?"Null":"string"==typeof(c=(b=Object(a))[e])?c:f?d(b):"Object"==(g=d(b))&&"function"==typeof b.callee?"Arguments":g}},{"./$.cof":79,"./$.wks":131}],79:[function(a,b,c){var d={}.toString;b.exports=function(a){return d.call(a).slice(8,-1)}},{}],80:[function(a,b,c){"use strict";var d=a("./$"),e=a("./$.hide"),f=a("./$.redefine-all"),g=a("./$.ctx"),h=a("./$.strict-new"),i=a("./$.defined"),j=a("./$.for-of"),k=a("./$.iter-define"),l=a("./$.iter-step"),m=a("./$.uid")("id"),n=a("./$.has"),o=a("./$.is-object"),p=a("./$.set-species"),q=a("./$.descriptors"),r=Object.isExtensible||o,s=q?"_s":"size",t=0,u=function(a,b){if(!o(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!n(a,m)){if(!r(a))return"F";if(!b)return"E";e(a,m,++t)}return"O"+a[m]},v=function(a,b){var c,d=u(b);if("F"!==d)return a._i[d];for(c=a._f;c;c=c.n)if(c.k==b)return c};b.exports={getConstructor:function(a,b,c,e){var k=a(function(a,f){h(a,k,b),a._i=d.create(null),a._f=void 0,a._l=void 0,a[s]=0,void 0!=f&&j(f,c,a[e],a)});return f(k.prototype,{clear:function(){for(var a=this,b=a._i,c=a._f;c;c=c.n)c.r=!0,c.p&&(c.p=c.p.n=void 0),delete b[c.i];a._f=a._l=void 0,a[s]=0},"delete":function(a){var b=this,c=v(b,a);if(c){var d=c.n,e=c.p;delete b._i[c.i],c.r=!0,e&&(e.n=d),d&&(d.p=e),b._f==c&&(b._f=d),b._l==c&&(b._l=e),b[s]--}return!!c},forEach:function(a){for(var b,c=g(a,arguments.length>1?arguments[1]:void 0,3);b=b?b.n:this._f;)for(c(b.v,b.k,this);b&&b.r;)b=b.p},has:function(a){
return!!v(this,a)}}),q&&d.setDesc(k.prototype,"size",{get:function(){return i(this[s])}}),k},def:function(a,b,c){var d,e,f=v(a,b);return f?f.v=c:(a._l=f={i:e=u(b,!0),k:b,v:c,p:d=a._l,n:void 0,r:!1},a._f||(a._f=f),d&&(d.n=f),a[s]++,"F"!==e&&(a._i[e]=f)),a},getEntry:v,setStrong:function(a,b,c){k(a,b,function(a,b){this._t=a,this._k=b,this._l=void 0},function(){for(var a=this,b=a._k,c=a._l;c&&c.r;)c=c.p;return a._t&&(a._l=c=c?c.n:a._t._f)?"keys"==b?l(0,c.k):"values"==b?l(0,c.v):l(0,[c.k,c.v]):(a._t=void 0,l(1))},c?"entries":"values",!c,!0),p(b)}}},{"./$":108,"./$.ctx":84,"./$.defined":85,"./$.descriptors":86,"./$.for-of":91,"./$.has":94,"./$.hide":95,"./$.is-object":101,"./$.iter-define":104,"./$.iter-step":106,"./$.redefine-all":115,"./$.set-species":119,"./$.strict-new":123,"./$.uid":130}],81:[function(a,b,c){var d=a("./$.for-of"),e=a("./$.classof");b.exports=function(a){return function(){if(e(this)!=a)throw TypeError(a+"#toJSON isn't generic");var b=[];return d(this,!1,b.push,b),b}}},{"./$.classof":78,"./$.for-of":91}],82:[function(a,b,c){"use strict";var d=a("./$"),e=a("./$.global"),f=a("./$.export"),g=a("./$.fails"),h=a("./$.hide"),i=a("./$.redefine-all"),j=a("./$.for-of"),k=a("./$.strict-new"),l=a("./$.is-object"),m=a("./$.set-to-string-tag"),n=a("./$.descriptors");b.exports=function(a,b,c,o,p,q){var r=e[a],s=r,t=p?"set":"add",u=s&&s.prototype,v={};return n&&"function"==typeof s&&(q||u.forEach&&!g(function(){(new s).entries().next()}))?(s=b(function(b,c){k(b,s,a),b._c=new r,void 0!=c&&j(c,p,b[t],b)}),d.each.call("add,clear,delete,forEach,get,has,set,keys,values,entries".split(","),function(a){var b="add"==a||"set"==a;a in u&&(!q||"clear"!=a)&&h(s.prototype,a,function(c,d){if(!b&&q&&!l(c))return"get"==a?void 0:!1;var e=this._c[a](0===c?0:c,d);return b?this:e})}),"size"in u&&d.setDesc(s.prototype,"size",{get:function(){return this._c.size}})):(s=o.getConstructor(b,a,p,t),i(s.prototype,c)),m(s,a),v[a]=s,f(f.G+f.W+f.F,v),q||o.setStrong(s,a,p),s}},{"./$":108,"./$.descriptors":86,"./$.export":89,"./$.fails":90,"./$.for-of":91,"./$.global":93,"./$.hide":95,"./$.is-object":101,"./$.redefine-all":115,"./$.set-to-string-tag":120,"./$.strict-new":123}],83:[function(a,b,c){var d=b.exports={version:"1.2.6"};"number"==typeof __e&&(__e=d)},{}],84:[function(a,b,c){var d=a("./$.a-function");b.exports=function(a,b,c){if(d(a),void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)}}return function(){return a.apply(b,arguments)}}},{"./$.a-function":75}],85:[function(a,b,c){b.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a}},{}],86:[function(a,b,c){b.exports=!a("./$.fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./$.fails":90}],87:[function(a,b,c){var d=a("./$.is-object"),e=a("./$.global").document,f=d(e)&&d(e.createElement);b.exports=function(a){return f?e.createElement(a):{}}},{"./$.global":93,"./$.is-object":101}],88:[function(a,b,c){var d=a("./$");b.exports=function(a){var b=d.getKeys(a),c=d.getSymbols;if(c)for(var e,f=c(a),g=d.isEnum,h=0;f.length>h;)g.call(a,e=f[h++])&&b.push(e);return b}},{"./$":108}],89:[function(a,b,c){var d=a("./$.global"),e=a("./$.core"),f=a("./$.ctx"),g="prototype",h=function(a,b,c){var i,j,k,l=a&h.F,m=a&h.G,n=a&h.S,o=a&h.P,p=a&h.B,q=a&h.W,r=m?e:e[b]||(e[b]={}),s=m?d:n?d[b]:(d[b]||{})[g];m&&(c=b);for(i in c)j=!l&&s&&i in s,j&&i in r||(k=j?s[i]:c[i],r[i]=m&&"function"!=typeof s[i]?c[i]:p&&j?f(k,d):q&&s[i]==k?function(a){var b=function(b){return this instanceof a?new a(b):a(b)};return b[g]=a[g],b}(k):o&&"function"==typeof k?f(Function.call,k):k,o&&((r[g]||(r[g]={}))[i]=k))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,b.exports=h},{"./$.core":83,"./$.ctx":84,"./$.global":93}],90:[function(a,b,c){b.exports=function(a){try{return!!a()}catch(b){return!0}}},{}],91:[function(a,b,c){var d=a("./$.ctx"),e=a("./$.iter-call"),f=a("./$.is-array-iter"),g=a("./$.an-object"),h=a("./$.to-length"),i=a("./core.get-iterator-method");b.exports=function(a,b,c,j){var k,l,m,n=i(a),o=d(c,j,b?2:1),p=0;if("function"!=typeof n)throw TypeError(a+" is not iterable!");if(f(n))for(k=h(a.length);k>p;p++)b?o(g(l=a[p])[0],l[1]):o(a[p]);else for(m=n.call(a);!(l=m.next()).done;)e(m,o,l.value,b)}},{"./$.an-object":77,"./$.ctx":84,"./$.is-array-iter":99,"./$.iter-call":102,"./$.to-length":128,"./core.get-iterator-method":132}],92:[function(a,b,c){var d=a("./$.to-iobject"),e=a("./$").getNames,f={}.toString,g="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(a){try{return e(a)}catch(b){return g.slice()}};b.exports.get=function(a){return g&&"[object Window]"==f.call(a)?h(a):e(d(a))}},{"./$":108,"./$.to-iobject":127}],93:[function(a,b,c){var d=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=d)},{}],94:[function(a,b,c){var d={}.hasOwnProperty;b.exports=function(a,b){return d.call(a,b)}},{}],95:[function(a,b,c){var d=a("./$"),e=a("./$.property-desc");b.exports=a("./$.descriptors")?function(a,b,c){return d.setDesc(a,b,e(1,c))}:function(a,b,c){return a[b]=c,a}},{"./$":108,"./$.descriptors":86,"./$.property-desc":114}],96:[function(a,b,c){b.exports=a("./$.global").document&&document.documentElement},{"./$.global":93}],97:[function(a,b,c){b.exports=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)}},{}],98:[function(a,b,c){var d=a("./$.cof");b.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==d(a)?a.split(""):Object(a)}},{"./$.cof":79}],99:[function(a,b,c){var d=a("./$.iterators"),e=a("./$.wks")("iterator"),f=Array.prototype;b.exports=function(a){return void 0!==a&&(d.Array===a||f[e]===a)}},{"./$.iterators":107,"./$.wks":131}],100:[function(a,b,c){var d=a("./$.cof");b.exports=Array.isArray||function(a){return"Array"==d(a)}},{"./$.cof":79}],101:[function(a,b,c){b.exports=function(a){return"object"==typeof a?null!==a:"function"==typeof a}},{}],102:[function(a,b,c){var d=a("./$.an-object");b.exports=function(a,b,c,e){try{return e?b(d(c)[0],c[1]):b(c)}catch(f){var g=a["return"];throw void 0!==g&&d(g.call(a)),f}}},{"./$.an-object":77}],103:[function(a,b,c){"use strict";var d=a("./$"),e=a("./$.property-desc"),f=a("./$.set-to-string-tag"),g={};a("./$.hide")(g,a("./$.wks")("iterator"),function(){return this}),b.exports=function(a,b,c){a.prototype=d.create(g,{next:e(1,c)}),f(a,b+" Iterator")}},{"./$":108,"./$.hide":95,"./$.property-desc":114,"./$.set-to-string-tag":120,"./$.wks":131}],104:[function(a,b,c){"use strict";var d=a("./$.library"),e=a("./$.export"),f=a("./$.redefine"),g=a("./$.hide"),h=a("./$.has"),i=a("./$.iterators"),j=a("./$.iter-create"),k=a("./$.set-to-string-tag"),l=a("./$").getProto,m=a("./$.wks")("iterator"),n=!([].keys&&"next"in[].keys()),o="@@iterator",p="keys",q="values",r=function(){return this};b.exports=function(a,b,c,s,t,u,v){j(c,b,s);var w,x,y=function(a){if(!n&&a in C)return C[a];switch(a){case p:return function(){return new c(this,a)};case q:return function(){return new c(this,a)}}return function(){return new c(this,a)}},z=b+" Iterator",A=t==q,B=!1,C=a.prototype,D=C[m]||C[o]||t&&C[t],E=D||y(t);if(D){var F=l(E.call(new a));k(F,z,!0),!d&&h(C,o)&&g(F,m,r),A&&D.name!==q&&(B=!0,E=function(){return D.call(this)})}if(d&&!v||!n&&!B&&C[m]||g(C,m,E),i[b]=E,i[z]=r,t)if(w={values:A?E:y(q),keys:u?E:y(p),entries:A?y("entries"):E},v)for(x in w)x in C||f(C,x,w[x]);else e(e.P+e.F*(n||B),b,w);return w}},{"./$":108,"./$.export":89,"./$.has":94,"./$.hide":95,"./$.iter-create":103,"./$.iterators":107,"./$.library":110,"./$.redefine":116,"./$.set-to-string-tag":120,"./$.wks":131}],105:[function(a,b,c){var d=a("./$.wks")("iterator"),e=!1;try{var f=[7][d]();f["return"]=function(){e=!0},Array.from(f,function(){throw 2})}catch(g){}b.exports=function(a,b){if(!b&&!e)return!1;var c=!1;try{var f=[7],g=f[d]();g.next=function(){return{done:c=!0}},f[d]=function(){return g},a(f)}catch(h){}return c}},{"./$.wks":131}],106:[function(a,b,c){b.exports=function(a,b){return{value:b,done:!!a}}},{}],107:[function(a,b,c){b.exports={}},{}],108:[function(a,b,c){var d=Object;b.exports={create:d.create,getProto:d.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:d.getOwnPropertyDescriptor,setDesc:d.defineProperty,setDescs:d.defineProperties,getKeys:d.keys,getNames:d.getOwnPropertyNames,getSymbols:d.getOwnPropertySymbols,each:[].forEach}},{}],109:[function(a,b,c){var d=a("./$"),e=a("./$.to-iobject");b.exports=function(a,b){for(var c,f=e(a),g=d.getKeys(f),h=g.length,i=0;h>i;)if(f[c=g[i++]]===b)return c}},{"./$":108,"./$.to-iobject":127}],110:[function(a,b,c){b.exports=!0},{}],111:[function(a,b,c){var d,e,f,g=a("./$.global"),h=a("./$.task").set,i=g.MutationObserver||g.WebKitMutationObserver,j=g.process,k=g.Promise,l="process"==a("./$.cof")(j),m=function(){var a,b,c;for(l&&(a=j.domain)&&(j.domain=null,a.exit());d;)b=d.domain,c=d.fn,b&&b.enter(),c(),b&&b.exit(),d=d.next;e=void 0,a&&a.enter()};if(l)f=function(){j.nextTick(m)};else if(i){var n=1,o=document.createTextNode("");new i(m).observe(o,{characterData:!0}),f=function(){o.data=n=-n}}else f=k&&k.resolve?function(){k.resolve().then(m)}:function(){h.call(g,m)};b.exports=function(a){var b={fn:a,next:void 0,domain:l&&j.domain};e&&(e.next=b),d||(d=b,f()),e=b}},{"./$.cof":79,"./$.global":93,"./$.task":125}],112:[function(a,b,c){var d=a("./$"),e=a("./$.to-object"),f=a("./$.iobject");b.exports=a("./$.fails")(function(){var a=Object.assign,b={},c={},d=Symbol(),e="abcdefghijklmnopqrst";return b[d]=7,e.split("").forEach(function(a){c[a]=a}),7!=a({},b)[d]||Object.keys(a({},c)).join("")!=e})?function(a,b){for(var c=e(a),g=arguments,h=g.length,i=1,j=d.getKeys,k=d.getSymbols,l=d.isEnum;h>i;)for(var m,n=f(g[i++]),o=k?j(n).concat(k(n)):j(n),p=o.length,q=0;p>q;)l.call(n,m=o[q++])&&(c[m]=n[m]);return c}:Object.assign},{"./$":108,"./$.fails":90,"./$.iobject":98,"./$.to-object":129}],113:[function(a,b,c){var d=a("./$.export"),e=a("./$.core"),f=a("./$.fails");b.exports=function(a,b){var c=(e.Object||{})[a]||Object[a],g={};g[a]=b(c),d(d.S+d.F*f(function(){c(1)}),"Object",g)}},{"./$.core":83,"./$.export":89,"./$.fails":90}],114:[function(a,b,c){b.exports=function(a,b){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:b}}},{}],115:[function(a,b,c){var d=a("./$.redefine");b.exports=function(a,b){for(var c in b)d(a,c,b[c]);return a}},{"./$.redefine":116}],116:[function(a,b,c){b.exports=a("./$.hide")},{"./$.hide":95}],117:[function(a,b,c){b.exports=Object.is||function(a,b){return a===b?0!==a||1/a===1/b:a!=a&&b!=b}},{}],118:[function(a,b,c){var d=a("./$").getDesc,e=a("./$.is-object"),f=a("./$.an-object"),g=function(a,b){if(f(a),!e(b)&&null!==b)throw TypeError(b+": can't set as prototype!")};b.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,c,e){try{e=a("./$.ctx")(Function.call,d(Object.prototype,"__proto__").set,2),e(b,[]),c=!(b instanceof Array)}catch(f){c=!0}return function(a,b){return g(a,b),c?a.__proto__=b:e(a,b),a}}({},!1):void 0),check:g}},{"./$":108,"./$.an-object":77,"./$.ctx":84,"./$.is-object":101}],119:[function(a,b,c){"use strict";var d=a("./$.core"),e=a("./$"),f=a("./$.descriptors"),g=a("./$.wks")("species");b.exports=function(a){var b=d[a];f&&b&&!b[g]&&e.setDesc(b,g,{configurable:!0,get:function(){return this}})}},{"./$":108,"./$.core":83,"./$.descriptors":86,"./$.wks":131}],120:[function(a,b,c){var d=a("./$").setDesc,e=a("./$.has"),f=a("./$.wks")("toStringTag");b.exports=function(a,b,c){a&&!e(a=c?a:a.prototype,f)&&d(a,f,{configurable:!0,value:b})}},{"./$":108,"./$.has":94,"./$.wks":131}],121:[function(a,b,c){var d=a("./$.global"),e="__core-js_shared__",f=d[e]||(d[e]={});b.exports=function(a){return f[a]||(f[a]={})}},{"./$.global":93}],122:[function(a,b,c){var d=a("./$.an-object"),e=a("./$.a-function"),f=a("./$.wks")("species");b.exports=function(a,b){var c,g=d(a).constructor;return void 0===g||void 0==(c=d(g)[f])?b:e(c)}},{"./$.a-function":75,"./$.an-object":77,"./$.wks":131}],123:[function(a,b,c){b.exports=function(a,b,c){if(!(a instanceof b))throw TypeError(c+": use the 'new' operator!");return a}},{}],124:[function(a,b,c){var d=a("./$.to-integer"),e=a("./$.defined");b.exports=function(a){return function(b,c){var f,g,h=String(e(b)),i=d(c),j=h.length;return 0>i||i>=j?a?"":void 0:(f=h.charCodeAt(i),55296>f||f>56319||i+1===j||(g=h.charCodeAt(i+1))<56320||g>57343?a?h.charAt(i):f:a?h.slice(i,i+2):(f-55296<<10)+(g-56320)+65536)}}},{"./$.defined":85,"./$.to-integer":126}],125:[function(a,b,c){var d,e,f,g=a("./$.ctx"),h=a("./$.invoke"),i=a("./$.html"),j=a("./$.dom-create"),k=a("./$.global"),l=k.process,m=k.setImmediate,n=k.clearImmediate,o=k.MessageChannel,p=0,q={},r="onreadystatechange",s=function(){var a=+this;if(q.hasOwnProperty(a)){var b=q[a];delete q[a],b()}},t=function(a){s.call(a.data)};m&&n||(m=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);return q[++p]=function(){h("function"==typeof a?a:Function(a),b)},d(p),p},n=function(a){delete q[a]},"process"==a("./$.cof")(l)?d=function(a){l.nextTick(g(s,a,1))}:o?(e=new o,f=e.port2,e.port1.onmessage=t,d=g(f.postMessage,f,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(d=function(a){k.postMessage(a+"","*")},k.addEventListener("message",t,!1)):d=r in j("script")?function(a){i.appendChild(j("script"))[r]=function(){i.removeChild(this),s.call(a)}}:function(a){setTimeout(g(s,a,1),0)}),b.exports={set:m,clear:n}},{"./$.cof":79,"./$.ctx":84,"./$.dom-create":87,"./$.global":93,"./$.html":96,"./$.invoke":97}],126:[function(a,b,c){var d=Math.ceil,e=Math.floor;b.exports=function(a){return isNaN(a=+a)?0:(a>0?e:d)(a)}},{}],127:[function(a,b,c){var d=a("./$.iobject"),e=a("./$.defined");b.exports=function(a){return d(e(a))}},{"./$.defined":85,"./$.iobject":98}],128:[function(a,b,c){var d=a("./$.to-integer"),e=Math.min;b.exports=function(a){return a>0?e(d(a),9007199254740991):0}},{"./$.to-integer":126}],129:[function(a,b,c){var d=a("./$.defined");b.exports=function(a){return Object(d(a))}},{"./$.defined":85}],130:[function(a,b,c){var d=0,e=Math.random();b.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++d+e).toString(36))}},{}],131:[function(a,b,c){var d=a("./$.shared")("wks"),e=a("./$.uid"),f=a("./$.global").Symbol;b.exports=function(a){return d[a]||(d[a]=f&&f[a]||(f||e)("Symbol."+a))}},{"./$.global":93,"./$.shared":121,"./$.uid":130}],132:[function(a,b,c){var d=a("./$.classof"),e=a("./$.wks")("iterator"),f=a("./$.iterators");b.exports=a("./$.core").getIteratorMethod=function(a){return void 0!=a?a[e]||a["@@iterator"]||f[d(a)]:void 0}},{"./$.classof":78,"./$.core":83,"./$.iterators":107,"./$.wks":131}],133:[function(a,b,c){var d=a("./$.an-object"),e=a("./core.get-iterator-method");b.exports=a("./$.core").getIterator=function(a){var b=e(a);if("function"!=typeof b)throw TypeError(a+" is not iterable!");return d(b.call(a))}},{"./$.an-object":77,"./$.core":83,"./core.get-iterator-method":132}],134:[function(a,b,c){var d=a("./$.classof"),e=a("./$.wks")("iterator"),f=a("./$.iterators");b.exports=a("./$.core").isIterable=function(a){var b=Object(a);return void 0!==b[e]||"@@iterator"in b||f.hasOwnProperty(d(b))}},{"./$.classof":78,"./$.core":83,"./$.iterators":107,"./$.wks":131}],135:[function(a,b,c){"use strict";var d=a("./$.ctx"),e=a("./$.export"),f=a("./$.to-object"),g=a("./$.iter-call"),h=a("./$.is-array-iter"),i=a("./$.to-length"),j=a("./core.get-iterator-method");e(e.S+e.F*!a("./$.iter-detect")(function(a){Array.from(a)}),"Array",{from:function(a){var b,c,e,k,l=f(a),m="function"==typeof this?this:Array,n=arguments,o=n.length,p=o>1?n[1]:void 0,q=void 0!==p,r=0,s=j(l);if(q&&(p=d(p,o>2?n[2]:void 0,2)),void 0==s||m==Array&&h(s))for(b=i(l.length),c=new m(b);b>r;r++)c[r]=q?p(l[r],r):l[r];else for(k=s.call(l),c=new m;!(e=k.next()).done;r++)c[r]=q?g(k,p,[e.value,r],!0):e.value;return c.length=r,c}})},{"./$.ctx":84,"./$.export":89,"./$.is-array-iter":99,"./$.iter-call":102,"./$.iter-detect":105,"./$.to-length":128,"./$.to-object":129,"./core.get-iterator-method":132}],136:[function(a,b,c){"use strict";var d=a("./$.add-to-unscopables"),e=a("./$.iter-step"),f=a("./$.iterators"),g=a("./$.to-iobject");b.exports=a("./$.iter-define")(Array,"Array",function(a,b){this._t=g(a),this._i=0,this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,e(1)):"keys"==b?e(0,c):"values"==b?e(0,a[c]):e(0,[c,a[c]])},"values"),f.Arguments=f.Array,d("keys"),d("values"),d("entries")},{"./$.add-to-unscopables":76,"./$.iter-define":104,"./$.iter-step":106,"./$.iterators":107,"./$.to-iobject":127}],137:[function(a,b,c){"use strict";var d=a("./$.collection-strong");a("./$.collection")("Map",function(a){return function(){return a(this,arguments.length>0?arguments[0]:void 0)}},{get:function(a){var b=d.getEntry(this,a);return b&&b.v},set:function(a,b){return d.def(this,0===a?0:a,b)}},d,!0)},{"./$.collection":82,"./$.collection-strong":80}],138:[function(a,b,c){var d=a("./$.export");d(d.S+d.F,"Object",{assign:a("./$.object-assign")})},{"./$.export":89,"./$.object-assign":112}],139:[function(a,b,c){var d=a("./$.to-iobject");a("./$.object-sap")("getOwnPropertyDescriptor",function(a){return function(b,c){return a(d(b),c)}})},{"./$.object-sap":113,"./$.to-iobject":127}],140:[function(a,b,c){a("./$.object-sap")("getOwnPropertyNames",function(){return a("./$.get-names").get})},{"./$.get-names":92,"./$.object-sap":113}],141:[function(a,b,c){var d=a("./$.to-object");a("./$.object-sap")("keys",function(a){return function(b){return a(d(b))}})},{"./$.object-sap":113,"./$.to-object":129}],142:[function(a,b,c){var d=a("./$.export");d(d.S,"Object",{setPrototypeOf:a("./$.set-proto").set})},{"./$.export":89,"./$.set-proto":118}],143:[function(a,b,c){},{}],144:[function(a,b,c){"use strict";var d,e=a("./$"),f=a("./$.library"),g=a("./$.global"),h=a("./$.ctx"),i=a("./$.classof"),j=a("./$.export"),k=a("./$.is-object"),l=a("./$.an-object"),m=a("./$.a-function"),n=a("./$.strict-new"),o=a("./$.for-of"),p=a("./$.set-proto").set,q=a("./$.same-value"),r=a("./$.wks")("species"),s=a("./$.species-constructor"),t=a("./$.microtask"),u="Promise",v=g.process,w="process"==i(v),x=g[u],y=function(){},z=function(a){var b,c=new x(y);return a&&(c.constructor=function(a){a(y,y)}),(b=x.resolve(c))["catch"](y),b===c},A=function(){function b(a){var c=new x(a);return p(c,b.prototype),c}var c=!1;try{if(c=x&&x.resolve&&z(),p(b,x),b.prototype=e.create(x.prototype,{constructor:{value:b}}),b.resolve(5).then(function(){})instanceof b||(c=!1),c&&a("./$.descriptors")){var d=!1;x.resolve(e.setDesc({},"then",{get:function(){d=!0}})),c=d}}catch(f){c=!1}return c}(),B=function(a,b){return f&&a===x&&b===d?!0:q(a,b)},C=function(a){var b=l(a)[r];return void 0!=b?b:a},D=function(a){var b;return k(a)&&"function"==typeof(b=a.then)?b:!1},E=function(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw TypeError("Bad Promise constructor");b=a,c=d}),this.resolve=m(b),this.reject=m(c)},F=function(a){try{a()}catch(b){return{error:b}}},G=function(a,b){if(!a.n){a.n=!0;var c=a.c;t(function(){for(var d=a.v,e=1==a.s,f=0,h=function(b){var c,f,g=e?b.ok:b.fail,h=b.resolve,i=b.reject;try{g?(e||(a.h=!0),c=g===!0?d:g(d),c===b.promise?i(TypeError("Promise-chain cycle")):(f=D(c))?f.call(c,h,i):h(c)):i(d)}catch(j){i(j)}};c.length>f;)h(c[f++]);c.length=0,a.n=!1,b&&setTimeout(function(){var b,c,e=a.p;H(e)&&(w?v.emit("unhandledRejection",d,e):(b=g.onunhandledrejection)?b({promise:e,reason:d}):(c=g.console)&&c.error&&c.error("Unhandled promise rejection",d)),a.a=void 0},1)})}},H=function(a){var b,c=a._d,d=c.a||c.c,e=0;if(c.h)return!1;for(;d.length>e;)if(b=d[e++],b.fail||!H(b.promise))return!1;return!0},I=function(a){var b=this;b.d||(b.d=!0,b=b.r||b,b.v=a,b.s=2,b.a=b.c.slice(),G(b,!0))},J=function(a){var b,c=this;if(!c.d){c.d=!0,c=c.r||c;try{if(c.p===a)throw TypeError("Promise can't be resolved itself");(b=D(a))?t(function(){var d={r:c,d:!1};try{b.call(a,h(J,d,1),h(I,d,1))}catch(e){I.call(d,e)}}):(c.v=a,c.s=1,G(c,!1))}catch(d){I.call({r:c,d:!1},d)}}};A||(x=function(a){m(a);var b=this._d={p:n(this,x,u),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{a(h(J,b,1),h(I,b,1))}catch(c){I.call(b,c)}},a("./$.redefine-all")(x.prototype,{then:function(a,b){var c=new E(s(this,x)),d=c.promise,e=this._d;return c.ok="function"==typeof a?a:!0,c.fail="function"==typeof b&&b,e.c.push(c),e.a&&e.a.push(c),e.s&&G(e,!1),d},"catch":function(a){return this.then(void 0,a)}})),j(j.G+j.W+j.F*!A,{Promise:x}),a("./$.set-to-string-tag")(x,u),a("./$.set-species")(u),d=a("./$.core")[u],j(j.S+j.F*!A,u,{reject:function(a){var b=new E(this),c=b.reject;return c(a),b.promise}}),j(j.S+j.F*(!A||z(!0)),u,{resolve:function(a){if(a instanceof x&&B(a.constructor,this))return a;var b=new E(this),c=b.resolve;return c(a),b.promise}}),j(j.S+j.F*!(A&&a("./$.iter-detect")(function(a){x.all(a)["catch"](function(){})})),u,{all:function(a){var b=C(this),c=new E(b),d=c.resolve,f=c.reject,g=[],h=F(function(){o(a,!1,g.push,g);var c=g.length,h=Array(c);c?e.each.call(g,function(a,e){var g=!1;b.resolve(a).then(function(a){g||(g=!0,h[e]=a,--c||d(h))},f)}):d(h)});return h&&f(h.error),c.promise},race:function(a){var b=C(this),c=new E(b),d=c.reject,e=F(function(){o(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});return e&&d(e.error),c.promise}})},{"./$":108,"./$.a-function":75,"./$.an-object":77,"./$.classof":78,"./$.core":83,"./$.ctx":84,"./$.descriptors":86,"./$.export":89,"./$.for-of":91,"./$.global":93,"./$.is-object":101,"./$.iter-detect":105,"./$.library":110,"./$.microtask":111,"./$.redefine-all":115,"./$.same-value":117,"./$.set-proto":118,"./$.set-species":119,"./$.set-to-string-tag":120,"./$.species-constructor":122,"./$.strict-new":123,"./$.wks":131}],145:[function(a,b,c){"use strict";var d=a("./$.string-at")(!0);a("./$.iter-define")(String,"String",function(a){this._t=String(a),this._i=0},function(){var a,b=this._t,c=this._i;return c>=b.length?{value:void 0,done:!0}:(a=d(b,c),this._i+=a.length,{value:a,done:!1})})},{"./$.iter-define":104,"./$.string-at":124}],146:[function(a,b,c){"use strict";var d=a("./$"),e=a("./$.global"),f=a("./$.has"),g=a("./$.descriptors"),h=a("./$.export"),i=a("./$.redefine"),j=a("./$.fails"),k=a("./$.shared"),l=a("./$.set-to-string-tag"),m=a("./$.uid"),n=a("./$.wks"),o=a("./$.keyof"),p=a("./$.get-names"),q=a("./$.enum-keys"),r=a("./$.is-array"),s=a("./$.an-object"),t=a("./$.to-iobject"),u=a("./$.property-desc"),v=d.getDesc,w=d.setDesc,x=d.create,y=p.get,z=e.Symbol,A=e.JSON,B=A&&A.stringify,C=!1,D=n("_hidden"),E=d.isEnum,F=k("symbol-registry"),G=k("symbols"),H="function"==typeof z,I=Object.prototype,J=g&&j(function(){return 7!=x(w({},"a",{get:function(){return w(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=v(I,b);d&&delete I[b],w(a,b,c),d&&a!==I&&w(I,b,d)}:w,K=function(a){var b=G[a]=x(z.prototype);return b._k=a,g&&C&&J(I,a,{configurable:!0,set:function(b){f(this,D)&&f(this[D],a)&&(this[D][a]=!1),J(this,a,u(1,b))}}),b},L=function(a){return"symbol"==typeof a},M=function(a,b,c){return c&&f(G,b)?(c.enumerable?(f(a,D)&&a[D][b]&&(a[D][b]=!1),c=x(c,{enumerable:u(0,!1)})):(f(a,D)||w(a,D,u(1,{})),a[D][b]=!0),J(a,b,c)):w(a,b,c)},N=function(a,b){s(a);for(var c,d=q(b=t(b)),e=0,f=d.length;f>e;)M(a,c=d[e++],b[c]);return a},O=function(a,b){return void 0===b?x(a):N(x(a),b)},P=function(a){var b=E.call(this,a);return b||!f(this,a)||!f(G,a)||f(this,D)&&this[D][a]?b:!0},Q=function(a,b){var c=v(a=t(a),b);return!c||!f(G,b)||f(a,D)&&a[D][b]||(c.enumerable=!0),c},R=function(a){for(var b,c=y(t(a)),d=[],e=0;c.length>e;)f(G,b=c[e++])||b==D||d.push(b);return d},S=function(a){for(var b,c=y(t(a)),d=[],e=0;c.length>e;)f(G,b=c[e++])&&d.push(G[b]);return d},T=function(a){if(void 0!==a&&!L(a)){for(var b,c,d=[a],e=1,f=arguments;f.length>e;)d.push(f[e++]);return b=d[1],"function"==typeof b&&(c=b),(c||!r(b))&&(b=function(a,b){return c&&(b=c.call(this,a,b)),L(b)?void 0:b}),d[1]=b,B.apply(A,d)}},U=j(function(){var a=z();return"[null]"!=B([a])||"{}"!=B({a:a})||"{}"!=B(Object(a))});H||(z=function(){if(L(this))throw TypeError("Symbol is not a constructor");return K(m(arguments.length>0?arguments[0]:void 0))},i(z.prototype,"toString",function(){return this._k}),L=function(a){return a instanceof z},d.create=O,d.isEnum=P,d.getDesc=Q,d.setDesc=M,d.setDescs=N,d.getNames=p.get=R,d.getSymbols=S,g&&!a("./$.library")&&i(I,"propertyIsEnumerable",P,!0));var V={"for":function(a){return f(F,a+="")?F[a]:F[a]=z(a)},keyFor:function(a){return o(F,a)},useSetter:function(){C=!0},useSimple:function(){C=!1}};d.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),function(a){var b=n(a);V[a]=H?b:K(b)}),C=!0,h(h.G+h.W,{Symbol:z}),h(h.S,"Symbol",V),h(h.S+h.F*!H,"Object",{create:O,defineProperty:M,defineProperties:N,getOwnPropertyDescriptor:Q,getOwnPropertyNames:R,getOwnPropertySymbols:S}),A&&h(h.S+h.F*(!H||U),"JSON",{stringify:T}),l(z,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},{"./$":108,"./$.an-object":77,"./$.descriptors":86,"./$.enum-keys":88,"./$.export":89,"./$.fails":90,"./$.get-names":92,"./$.global":93,"./$.has":94,"./$.is-array":100,"./$.keyof":109,"./$.library":110,"./$.property-desc":114,"./$.redefine":116,"./$.set-to-string-tag":120,"./$.shared":121,"./$.to-iobject":127,"./$.uid":130,"./$.wks":131}],147:[function(a,b,c){var d=a("./$.export");d(d.P,"Map",{toJSON:a("./$.collection-to-json")("Map")})},{"./$.collection-to-json":81,"./$.export":89}],148:[function(a,b,c){a("./es6.array.iterator");var d=a("./$.iterators");d.NodeList=d.HTMLCollection=d.Array},{"./$.iterators":107,"./es6.array.iterator":136}],149:[function(b,c,d){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(a){"use strict";function b(a){return function(b,c){return g(a(b),c)}}function c(a,b){return[a,b]}function d(a,b,c){var d=(b-a)/Math.max(0,c),e=Math.floor(Math.log(d)/Math.LN10),f=d/Math.pow(10,e);return e>=0?(f>=y?10:f>=z?5:f>=A?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(f>=y?10:f>=z?5:f>=A?2:1)}function e(a,b,c){var d=Math.abs(b-a)/Math.max(0,c),e=Math.pow(10,Math.floor(Math.log(d)/Math.LN10)),f=d/e;return f>=y?e*=10:f>=z?e*=5:f>=A&&(e*=2),a>b?-e:e}function f(a){return a.length}var g=function(a,b){return b>a?-1:a>b?1:a>=b?0:NaN},h=function(a){return 1===a.length&&(a=b(a)),{left:function(b,c,d,e){for(null==d&&(d=0),null==e&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(null==d&&(d=0),null==e&&(e=b.length);e>d;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}},i=h(g),j=i.right,k=i.left,l=function(a,b){null==b&&(b=c);for(var d=0,e=a.length-1,f=a[0],g=new Array(0>e?0:e);e>d;)g[d]=b(f,f=a[++d]);return g},m=function(a,b,d){var e,f,g,h,i=a.length,j=b.length,k=new Array(i*j);for(null==d&&(d=c),e=g=0;i>e;++e)for(h=a[e],f=0;j>f;++f,++g)k[g]=d(h,b[f]);return k},n=function(a,b){return a>b?-1:b>a?1:b>=a?0:NaN},o=function(a){return null===a?NaN:+a},p=function(a,b){var c,d,e=a.length,f=0,g=-1,h=0,i=0;if(null==b)for(;++g<e;)isNaN(c=o(a[g]))||(d=c-h,h+=d/++f,i+=d*(c-h));else for(;++g<e;)isNaN(c=o(b(a[g],g,a)))||(d=c-h,h+=d/++f,i+=d*(c-h));return f>1?i/(f-1):void 0},q=function(a,b){var c=p(a,b);return c?Math.sqrt(c):c},r=function(a,b){var c,d,e,f=a.length,g=-1;if(null==b){for(;++g<f;)if(null!=(c=a[g])&&c>=c)for(d=e=c;++g<f;)null!=(c=a[g])&&(d>c&&(d=c),c>e&&(e=c))}else for(;++g<f;)if(null!=(c=b(a[g],g,a))&&c>=c)for(d=e=c;++g<f;)null!=(c=b(a[g],g,a))&&(d>c&&(d=c),c>e&&(e=c));return[d,e]},s=Array.prototype,t=s.slice,u=s.map,v=function(a){return function(){return a}},w=function(a){return a},x=function(a,b,c){a=+a,b=+b,c=(e=arguments.length)<2?(b=a,a=0,1):3>e?1:+c;for(var d=-1,e=0|Math.max(0,Math.ceil((b-a)/c)),f=new Array(e);++d<e;)f[d]=a+d*c;return f},y=Math.sqrt(50),z=Math.sqrt(10),A=Math.sqrt(2),B=function(a,b,c){var e,f,g,h=a>b,i=-1;if(h&&(e=a,a=b,b=e),0===(g=d(a,b,c))||!isFinite(g))return[];if(g>0)for(a=Math.ceil(a/g),b=Math.floor(b/g),f=new Array(e=Math.ceil(b-a+1));++i<e;)f[i]=(a+i)*g;else for(a=Math.floor(a*g),b=Math.ceil(b*g),f=new Array(e=Math.ceil(a-b+1));++i<e;)f[i]=(a-i)/g;return h&&f.reverse(),f},C=function(a){return Math.ceil(Math.log(a.length)/Math.LN2)+1},D=function(){function a(a){var f,g,h=a.length,i=new Array(h);for(f=0;h>f;++f)i[f]=b(a[f],f,a);var k=c(i),l=k[0],m=k[1],n=d(i,l,m);Array.isArray(n)||(n=e(l,m,n),n=x(Math.ceil(l/n)*n,Math.floor(m/n)*n,n));for(var o=n.length;n[0]<=l;)n.shift(),--o;for(;n[o-1]>m;)n.pop(),--o;var p,q=new Array(o+1);for(f=0;o>=f;++f)p=q[f]=[],p.x0=f>0?n[f-1]:l,p.x1=o>f?n[f]:m;for(f=0;h>f;++f)g=i[f],g>=l&&m>=g&&q[j(n,g,0,o)].push(a[f]);return q}var b=w,c=r,d=C;return a.value=function(c){return arguments.length?(b="function"==typeof c?c:v(c),a):b},a.domain=function(b){return arguments.length?(c="function"==typeof b?b:v([b[0],b[1]]),a):c},a.thresholds=function(b){return arguments.length?(d="function"==typeof b?b:v(Array.isArray(b)?t.call(b):b),a):d},a},E=function(a,b,c){if(null==c&&(c=o),d=a.length){if((b=+b)<=0||2>d)return+c(a[0],0,a);if(b>=1)return+c(a[d-1],d-1,a);var d,e=(d-1)*b,f=Math.floor(e),g=+c(a[f],f,a),h=+c(a[f+1],f+1,a);return g+(h-g)*(e-f)}},F=function(a,b,c){return a=u.call(a,o).sort(g),Math.ceil((c-b)/(2*(E(a,.75)-E(a,.25))*Math.pow(a.length,-1/3)))},G=function(a,b,c){return Math.ceil((c-b)/(3.5*q(a)*Math.pow(a.length,-1/3)))},H=function(a,b){var c,d,e=a.length,f=-1;if(null==b){for(;++f<e;)if(null!=(c=a[f])&&c>=c)for(d=c;++f<e;)null!=(c=a[f])&&c>d&&(d=c)}else for(;++f<e;)if(null!=(c=b(a[f],f,a))&&c>=c)for(d=c;++f<e;)null!=(c=b(a[f],f,a))&&c>d&&(d=c);return d},I=function(a,b){var c,d=a.length,e=d,f=-1,g=0;if(null==b)for(;++f<d;)isNaN(c=o(a[f]))?--e:g+=c;else for(;++f<d;)isNaN(c=o(b(a[f],f,a)))?--e:g+=c;return e?g/e:void 0},J=function(a,b){var c,d=a.length,e=-1,f=[];if(null==b)for(;++e<d;)isNaN(c=o(a[e]))||f.push(c);else for(;++e<d;)isNaN(c=o(b(a[e],e,a)))||f.push(c);return E(f.sort(g),.5)},K=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c},L=function(a,b){var c,d,e=a.length,f=-1;if(null==b){for(;++f<e;)if(null!=(c=a[f])&&c>=c)for(d=c;++f<e;)null!=(c=a[f])&&d>c&&(d=c)}else for(;++f<e;)if(null!=(c=b(a[f],f,a))&&c>=c)for(d=c;++f<e;)null!=(c=b(a[f],f,a))&&d>c&&(d=c);return d},M=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},N=function(a,b){if(c=a.length){var c,d,e=0,f=0,h=a[f];for(null==b&&(b=g);++e<c;)(b(d=a[e],h)<0||0!==b(h,h))&&(h=d,f=e);return 0===b(h,h)?f:void 0}},O=function(a,b,c){for(var d,e,f=(null==c?a.length:c)-(b=null==b?0:+b);f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},P=function(a,b){var c,d=a.length,e=-1,f=0;if(null==b)for(;++e<d;)(c=+a[e])&&(f+=c);else for(;++e<d;)(c=+b(a[e],e,a))&&(f+=c);return f},Q=function(a){if(!(e=a.length))return[];for(var b=-1,c=L(a,f),d=new Array(c);++b<c;)for(var e,g=-1,h=d[b]=new Array(e);++g<e;)h[g]=a[g][b];return d},R=function(){return Q(arguments)};a.bisect=j,a.bisectRight=j,a.bisectLeft=k,a.ascending=g,a.bisector=h,a.cross=m,a.descending=n,a.deviation=q,a.extent=r,a.histogram=D,a.thresholdFreedmanDiaconis=F,a.thresholdScott=G,a.thresholdSturges=C,a.max=H,a.mean=I,a.median=J,a.merge=K,a.min=L,a.pairs=l,a.permute=M,a.quantile=E,a.range=x,a.scan=N,a.shuffle=O,a.sum=P,a.ticks=B,a.tickIncrement=d,a.tickStep=e,a.transpose=Q,a.variance=p,a.zip=R,Object.defineProperty(a,"__esModule",{value:!0})})},{}],150:[function(b,c,d){!function(e,f){"object"==typeof d&&"undefined"!=typeof c?f(d,b("d3-dispatch"),b("d3-drag"),b("d3-interpolate"),b("d3-selection"),b("d3-transition")):"function"==typeof a&&a.amd?a(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],f):f(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3);
}(this,function(a,b,c,d,e,f){"use strict";function g(){e.event.stopImmediatePropagation()}function h(a){return{type:a}}function i(){return!e.event.button}function j(){var a=this.ownerSVGElement||this;return[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]}function k(a){for(;!a.__brush;)if(!(a=a.parentNode))return;return a.__brush}function l(a){return a[0][0]===a[1][0]||a[0][1]===a[1][1]}function m(a){var b=a.__brush;return b?b.dim.output(b.selection):null}function n(){return p(x)}function o(){return p(y)}function p(a){function m(b){var c=b.property("__brush",F).selectAll(".overlay").data([h("overlay")]);c.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",A.overlay).merge(c).each(function(){var a=k(this).extent;e.select(this).attr("x",a[0][0]).attr("y",a[0][1]).attr("width",a[1][0]-a[0][0]).attr("height",a[1][1]-a[0][1])}),b.selectAll(".selection").data([h("selection")]).enter().append("rect").attr("class","selection").attr("cursor",A.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var d=b.selectAll(".handle").data(a.handles,function(a){return a.type});d.exit().remove(),d.enter().append("rect").attr("class",function(a){return"handle handle--"+a.type}).attr("cursor",function(a){return A[a.type]}),b.each(n).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",z)}function n(){var a=e.select(this),b=k(this).selection;b?(a.selectAll(".selection").style("display",null).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1]),a.selectAll(".handle").style("display",null).attr("x",function(a){return"e"===a.type[a.type.length-1]?b[1][0]-K/2:b[0][0]-K/2}).attr("y",function(a){return"s"===a.type[0]?b[1][1]-K/2:b[0][1]-K/2}).attr("width",function(a){return"n"===a.type||"s"===a.type?b[1][0]-b[0][0]+K:K}).attr("height",function(a){return"e"===a.type||"w"===a.type?b[1][1]-b[0][1]+K:K})):a.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function o(a,b){return a.__brush.emitter||new p(a,b)}function p(a,b){this.that=a,this.args=b,this.state=a.__brush,this.active=0}function z(){function b(){var a=e.mouse(P);!_||N||O||(Math.abs(a[0]-ba[0])>Math.abs(a[1]-ba[1])?O=!0:N=!0),ba=a,M=!0,s(),d()}function d(){var a;switch(K=ba[0]-aa[0],L=ba[1]-aa[1],R){case u:case t:S&&(K=Math.max(X-m,Math.min(Z-z,K)),p=m+K,F=z+K),T&&(L=Math.max(Y-q,Math.min($-H,L)),r=q+L,J=H+L);break;case v:0>S?(K=Math.max(X-m,Math.min(Z-m,K)),p=m+K,F=z):S>0&&(K=Math.max(X-z,Math.min(Z-z,K)),p=m,F=z+K),0>T?(L=Math.max(Y-q,Math.min($-q,L)),r=q+L,J=H):T>0&&(L=Math.max(Y-H,Math.min($-H,L)),r=q,J=H+L);break;case w:S&&(p=Math.max(X,Math.min(Z,m-K*S)),F=Math.max(X,Math.min(Z,z+K*S))),T&&(r=Math.max(Y,Math.min($,q-L*T)),J=Math.max(Y,Math.min($,H+L*T)))}p>F&&(S*=-1,a=m,m=z,z=a,a=p,p=F,F=a,Q in B&&ea.attr("cursor",A[Q=B[Q]])),r>J&&(T*=-1,a=q,q=H,H=a,a=r,r=J,J=a,Q in C&&ea.attr("cursor",A[Q=C[Q]])),U.selection&&(W=U.selection),N&&(p=W[0][0],F=W[1][0]),O&&(r=W[0][1],J=W[1][1]),(W[0][0]!==p||W[0][1]!==r||W[1][0]!==F||W[1][1]!==J)&&(U.selection=[[p,r],[F,J]],n.call(P),ca.brush())}function h(){if(g(),e.event.touches){if(e.event.touches.length)return;G&&clearTimeout(G),G=setTimeout(function(){G=null},500),da.on("touchmove.brush touchend.brush touchcancel.brush",null)}else c.dragEnable(e.event.view,M),fa.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);da.attr("pointer-events","all"),ea.attr("cursor",A.overlay),U.selection&&(W=U.selection),l(W)&&(U.selection=null,n.call(P)),ca.end()}function i(){switch(e.event.keyCode){case 16:_=S&&T;break;case 18:R===v&&(S&&(z=F-K*S,m=p+K*S),T&&(H=J-L*T,q=r+L*T),R=w,d());break;case 32:(R===v||R===w)&&(0>S?z=F-K:S>0&&(m=p-K),0>T?H=J-L:T>0&&(q=r-L),R=u,ea.attr("cursor",A.selection),d());break;default:return}s()}function j(){switch(e.event.keyCode){case 16:_&&(N=O=_=!1,d());break;case 18:R===w&&(0>S?z=F:S>0&&(m=p),0>T?H=J:T>0&&(q=r),R=v,d());break;case 32:R===u&&(e.event.altKey?(S&&(z=F-K*S,m=p+K*S),T&&(H=J-L*T,q=r+L*T),R=w):(0>S?z=F:S>0&&(m=p),0>T?H=J:T>0&&(q=r),R=v),ea.attr("cursor",A[Q]),d());break;default:return}s()}if(e.event.touches){if(e.event.changedTouches.length<e.event.touches.length)return s()}else if(G)return;if(I.apply(this,arguments)){var m,p,q,r,z,F,H,J,K,L,M,N,O,P=this,Q=e.event.target.__data__.type,R="selection"===(e.event.metaKey?Q="overlay":Q)?t:e.event.altKey?w:v,S=a===y?null:D[Q],T=a===x?null:E[Q],U=k(P),V=U.extent,W=U.selection,X=V[0][0],Y=V[0][1],Z=V[1][0],$=V[1][1],_=!1,aa=e.mouse(P),ba=aa,ca=o(P,arguments).beforestart();"overlay"===Q?U.selection=W=[[m=a===y?X:aa[0],q=a===x?Y:aa[1]],[z=a===y?Z:m,H=a===x?$:q]]:(m=W[0][0],q=W[0][1],z=W[1][0],H=W[1][1]),p=m,r=q,F=z,J=H;var da=e.select(P).attr("pointer-events","none"),ea=da.selectAll(".overlay").attr("cursor",A[Q]);if(e.event.touches)da.on("touchmove.brush",b,!0).on("touchend.brush touchcancel.brush",h,!0);else{var fa=e.select(e.event.view).on("keydown.brush",i,!0).on("keyup.brush",j,!0).on("mousemove.brush",b,!0).on("mouseup.brush",h,!0);c.dragDisable(e.event.view)}g(),f.interrupt(P),n.call(P),ca.start()}}function F(){var b=this.__brush||{selection:null};return b.extent=H.apply(this,arguments),b.dim=a,b}var G,H=j,I=i,J=b.dispatch(m,"start","brush","end"),K=6;return m.move=function(b,c){b.selection?b.on("start.brush",function(){o(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){o(this,arguments).end()}).tween("brush",function(){function b(a){f.selection=1===a&&l(i)?null:j(a),n.call(e),g.brush()}var e=this,f=e.__brush,g=o(e,arguments),h=f.selection,i=a.input("function"==typeof c?c.apply(this,arguments):c,f.extent),j=d.interpolate(h,i);return h&&i?b:b(1)}):b.each(function(){var b=this,d=arguments,e=b.__brush,g=a.input("function"==typeof c?c.apply(b,d):c,e.extent),h=o(b,d).beforestart();f.interrupt(b),e.selection=null==g||l(g)?null:g,n.call(b),h.start().brush().end()})},p.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(b){e.customEvent(new r(m,b,a.output(this.state.selection)),J.apply,J,[b,this.that,this.args])}},m.extent=function(a){return arguments.length?(H="function"==typeof a?a:q([[+a[0][0],+a[0][1]],[+a[1][0],+a[1][1]]]),m):H},m.filter=function(a){return arguments.length?(I="function"==typeof a?a:q(!!a),m):I},m.handleSize=function(a){return arguments.length?(K=+a,m):K},m.on=function(){var a=J.on.apply(J,arguments);return a===J?m:a},m}var q=function(a){return function(){return a}},r=function(a,b,c){this.target=a,this.type=b,this.selection=c},s=function(){e.event.preventDefault(),e.event.stopImmediatePropagation()},t={name:"drag"},u={name:"space"},v={name:"handle"},w={name:"center"},x={name:"x",handles:["e","w"].map(h),input:function(a,b){return a&&[[a[0],b[0][1]],[a[1],b[1][1]]]},output:function(a){return a&&[a[0][0],a[1][0]]}},y={name:"y",handles:["n","s"].map(h),input:function(a,b){return a&&[[b[0][0],a[0]],[b[1][0],a[1]]]},output:function(a){return a&&[a[0][1],a[1][1]]}},z={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(h),input:function(a){return a},output:function(a){return a}},A={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},B={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},C={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},D={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},E={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},F=function(){return p(z)};a.brush=F,a.brushX=n,a.brushY=o,a.brushSelection=m,Object.defineProperty(a,"__esModule",{value:!0})})},{"d3-dispatch":153,"d3-drag":154,"d3-interpolate":158,"d3-selection":161,"d3-transition":165}],151:[function(b,c,d){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(a){"use strict";function b(){}function c(a,c){var d=new b;if(a instanceof b)a.each(function(a,b){d.set(b,a)});else if(Array.isArray(a)){var e,f=-1,g=a.length;if(null==c)for(;++f<g;)d.set(f,a[f]);else for(;++f<g;)d.set(c(e=a[f],f,a),e)}else if(a)for(var h in a)d.set(h,a[h]);return d}function d(){return{}}function e(a,b,c){a[b]=c}function f(){return c()}function g(a,b,c){a.set(b,c)}function h(){}function i(a,b){var c=new h;if(a instanceof h)a.each(function(a){c.add(a)});else if(a){var d=-1,e=a.length;if(null==b)for(;++d<e;)c.add(a[d]);else for(;++d<e;)c.add(b(a[d],d,a))}return c}var j="$";b.prototype=c.prototype={constructor:b,has:function(a){return j+a in this},get:function(a){return this[j+a]},set:function(a,b){return this[j+a]=b,this},remove:function(a){var b=j+a;return b in this&&delete this[b]},clear:function(){for(var a in this)a[0]===j&&delete this[a]},keys:function(){var a=[];for(var b in this)b[0]===j&&a.push(b.slice(1));return a},values:function(){var a=[];for(var b in this)b[0]===j&&a.push(this[b]);return a},entries:function(){var a=[];for(var b in this)b[0]===j&&a.push({key:b.slice(1),value:this[b]});return a},size:function(){var a=0;for(var b in this)b[0]===j&&++a;return a},empty:function(){for(var a in this)if(a[0]===j)return!1;return!0},each:function(a){for(var b in this)b[0]===j&&a(this[b],b.slice(1),this)}};var k=function(){function a(b,d,e,f){if(d>=k.length)return null!=h&&b.sort(h),null!=i?i(b):b;for(var g,j,l,m=-1,n=b.length,o=k[d++],p=c(),q=e();++m<n;)(l=p.get(g=o(j=b[m])+""))?l.push(j):p.set(g,[j]);return p.each(function(b,c){f(q,c,a(b,d,e,f))}),q}function b(a,c){if(++c>k.length)return a;var d,e=l[c-1];return null!=i&&c>=k.length?d=a.entries():(d=[],a.each(function(a,e){d.push({key:e,values:b(a,c)})})),null!=e?d.sort(function(a,b){return e(a.key,b.key)}):d}var h,i,j,k=[],l=[];return j={object:function(b){return a(b,0,d,e)},map:function(b){return a(b,0,f,g)},entries:function(c){return b(a(c,0,f,g),0)},key:function(a){return k.push(a),j},sortKeys:function(a){return l[k.length-1]=a,j},sortValues:function(a){return h=a,j},rollup:function(a){return i=a,j}}},l=c.prototype;h.prototype=i.prototype={constructor:h,has:l.has,add:function(a){return a+="",this[j+a]=a,this},remove:l.remove,clear:l.clear,values:l.keys,size:l.size,empty:l.empty,each:l.each};var m=function(a){var b=[];for(var c in a)b.push(c);return b},n=function(a){var b=[];for(var c in a)b.push(a[c]);return b},o=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b};a.nest=k,a.set=i,a.map=c,a.keys=m,a.values=n,a.entries=o,Object.defineProperty(a,"__esModule",{value:!0})})},{}],152:[function(b,c,d){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(a){"use strict";function b(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function c(){}function d(a){var b;return a=(a+"").trim().toLowerCase(),(b=H.exec(a))?(b=parseInt(b[1],16),new i(b>>8&15|b>>4&240,b>>4&15|240&b,(15&b)<<4|15&b,1)):(b=I.exec(a))?e(parseInt(b[1],16)):(b=J.exec(a))?new i(b[1],b[2],b[3],1):(b=K.exec(a))?new i(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=L.exec(a))?f(b[1],b[2],b[3],b[4]):(b=M.exec(a))?f(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=N.exec(a))?j(b[1],b[2]/100,b[3]/100,1):(b=O.exec(a))?j(b[1],b[2]/100,b[3]/100,b[4]):P.hasOwnProperty(a)?e(P[a]):"transparent"===a?new i(NaN,NaN,NaN,0):null}function e(a){return new i(a>>16&255,a>>8&255,255&a,1)}function f(a,b,c,d){return 0>=d&&(a=b=c=NaN),new i(a,b,c,d)}function g(a){return a instanceof c||(a=d(a)),a?(a=a.rgb(),new i(a.r,a.g,a.b,a.opacity)):new i}function h(a,b,c,d){return 1===arguments.length?g(a):new i(a,b,c,null==d?1:d)}function i(a,b,c,d){this.r=+a,this.g=+b,this.b=+c,this.opacity=+d}function j(a,b,c,d){return 0>=d?a=b=c=NaN:0>=c||c>=1?a=b=NaN:0>=b&&(a=NaN),new m(a,b,c,d)}function k(a){if(a instanceof m)return new m(a.h,a.s,a.l,a.opacity);if(a instanceof c||(a=d(a)),!a)return new m;if(a instanceof m)return a;a=a.rgb();var b=a.r/255,e=a.g/255,f=a.b/255,g=Math.min(b,e,f),h=Math.max(b,e,f),i=NaN,j=h-g,k=(h+g)/2;return j?(i=b===h?(e-f)/j+6*(f>e):e===h?(f-b)/j+2:(b-e)/j+4,j/=.5>k?h+g:2-h-g,i*=60):j=k>0&&1>k?0:i,new m(i,j,k,a.opacity)}function l(a,b,c,d){return 1===arguments.length?k(a):new m(a,b,c,null==d?1:d)}function m(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}function n(a,b,c){return 255*(60>a?b+(c-b)*a/60:180>a?c:240>a?b+(c-b)*(240-a)/60:b)}function o(a){if(a instanceof q)return new q(a.l,a.a,a.b,a.opacity);if(a instanceof x){var b=a.h*Q;return new q(a.l,Math.cos(b)*a.c,Math.sin(b)*a.c,a.opacity)}a instanceof i||(a=g(a));var c=u(a.r),d=u(a.g),e=u(a.b),f=r((.4124564*c+.3575761*d+.1804375*e)/T),h=r((.2126729*c+.7151522*d+.072175*e)/U),j=r((.0193339*c+.119192*d+.9503041*e)/V);return new q(116*h-16,500*(f-h),200*(h-j),a.opacity)}function p(a,b,c,d){return 1===arguments.length?o(a):new q(a,b,c,null==d?1:d)}function q(a,b,c,d){this.l=+a,this.a=+b,this.b=+c,this.opacity=+d}function r(a){return a>Z?Math.pow(a,1/3):a/Y+W}function s(a){return a>X?a*a*a:Y*(a-W)}function t(a){return 255*(.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function u(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function v(a){if(a instanceof x)return new x(a.h,a.c,a.l,a.opacity);a instanceof q||(a=o(a));var b=Math.atan2(a.b,a.a)*R;return new x(0>b?b+360:b,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function w(a,b,c,d){return 1===arguments.length?v(a):new x(a,b,c,null==d?1:d)}function x(a,b,c,d){this.h=+a,this.c=+b,this.l=+c,this.opacity=+d}function y(a){if(a instanceof A)return new A(a.h,a.s,a.l,a.opacity);a instanceof i||(a=g(a));var b=a.r/255,c=a.g/255,d=a.b/255,e=(fa*d+da*b-ea*c)/(fa+da-ea),f=d-e,h=(ca*(c-e)-aa*f)/ba,j=Math.sqrt(h*h+f*f)/(ca*e*(1-e)),k=j?Math.atan2(h,f)*R-120:NaN;return new A(0>k?k+360:k,j,e,a.opacity)}function z(a,b,c,d){return 1===arguments.length?y(a):new A(a,b,c,null==d?1:d)}function A(a,b,c,d){this.h=+a,this.s=+b,this.l=+c,this.opacity=+d}var B=function(a,b,c){a.prototype=b.prototype=c,c.constructor=a},C=.7,D=1/C,E="\\s*([+-]?\\d+)\\s*",F="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",G="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",H=/^#([0-9a-f]{3})$/,I=/^#([0-9a-f]{6})$/,J=new RegExp("^rgb\\("+[E,E,E]+"\\)$"),K=new RegExp("^rgb\\("+[G,G,G]+"\\)$"),L=new RegExp("^rgba\\("+[E,E,E,F]+"\\)$"),M=new RegExp("^rgba\\("+[G,G,G,F]+"\\)$"),N=new RegExp("^hsl\\("+[F,G,G]+"\\)$"),O=new RegExp("^hsla\\("+[F,G,G,F]+"\\)$"),P={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};B(c,d,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),B(i,h,b(c,{brighter:function(a){return a=null==a?D:Math.pow(D,a),new i(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){return a=null==a?C:Math.pow(C,a),new i(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var a=this.opacity;return a=isNaN(a)?1:Math.max(0,Math.min(1,a)),(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}})),B(m,l,b(c,{brighter:function(a){return a=null==a?D:Math.pow(D,a),new m(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?C:Math.pow(C,a),new m(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+360*(this.h<0),b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(.5>c?c:1-c)*b,e=2*c-d;return new i(n(a>=240?a-240:a+120,e,d),n(a,e,d),n(120>a?a+240:a-120,e,d),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Q=Math.PI/180,R=180/Math.PI,S=18,T=.95047,U=1,V=1.08883,W=4/29,X=6/29,Y=3*X*X,Z=X*X*X;B(q,p,b(c,{brighter:function(a){return new q(this.l+S*(null==a?1:a),this.a,this.b,this.opacity)},darker:function(a){return new q(this.l-S*(null==a?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,b=isNaN(this.a)?a:a+this.a/500,c=isNaN(this.b)?a:a-this.b/200;return a=U*s(a),b=T*s(b),c=V*s(c),new i(t(3.2404542*b-1.5371385*a-.4985314*c),t(-.969266*b+1.8760108*a+.041556*c),t(.0556434*b-.2040259*a+1.0572252*c),this.opacity)}})),B(x,w,b(c,{brighter:function(a){return new x(this.h,this.c,this.l+S*(null==a?1:a),this.opacity)},darker:function(a){return new x(this.h,this.c,this.l-S*(null==a?1:a),this.opacity)},rgb:function(){return o(this).rgb()}}));var $=-.14861,_=1.78277,aa=-.29227,ba=-.90649,ca=1.97294,da=ca*ba,ea=ca*_,fa=_*aa-ba*$;B(A,z,b(c,{brighter:function(a){return a=null==a?D:Math.pow(D,a),new A(this.h,this.s,this.l*a,this.opacity)},darker:function(a){return a=null==a?C:Math.pow(C,a),new A(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*Q,b=+this.l,c=isNaN(this.s)?0:this.s*b*(1-b),d=Math.cos(a),e=Math.sin(a);return new i(255*(b+c*($*d+_*e)),255*(b+c*(aa*d+ba*e)),255*(b+c*(ca*d)),this.opacity)}})),a.color=d,a.rgb=h,a.hsl=l,a.lab=p,a.hcl=w,a.cubehelix=z,Object.defineProperty(a,"__esModule",{value:!0})})},{}],153:[function(b,c,d){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(a){"use strict";function b(){for(var a,b=0,d=arguments.length,e={};d>b;++b){if(!(a=arguments[b]+"")||a in e)throw new Error("illegal type: "+a);e[a]=[]}return new c(e)}function c(a){this._=a}function d(a,b){return a.trim().split(/^|\s+/).map(function(a){var c="",d=a.indexOf(".");if(d>=0&&(c=a.slice(d+1),a=a.slice(0,d)),a&&!b.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:c}})}function e(a,b){for(var c,d=0,e=a.length;e>d;++d)if((c=a[d]).name===b)return c.value}function f(a,b,c){for(var d=0,e=a.length;e>d;++d)if(a[d].name===b){a[d]=g,a=a.slice(0,d).concat(a.slice(d+1));break}return null!=c&&a.push({name:b,value:c}),a}var g={value:function(){}};c.prototype=b.prototype={constructor:c,on:function(a,b){var c,g=this._,h=d(a+"",g),i=-1,j=h.length;{if(!(arguments.length<2)){if(null!=b&&"function"!=typeof b)throw new Error("invalid callback: "+b);for(;++i<j;)if(c=(a=h[i]).type)g[c]=f(g[c],a.name,b);else if(null==b)for(c in g)g[c]=f(g[c],a.name,null);return this}for(;++i<j;)if((c=(a=h[i]).type)&&(c=e(g[c],a.name)))return c}},copy:function(){var a={},b=this._;for(var d in b)a[d]=b[d].slice();return new c(a)},call:function(a,b){if((c=arguments.length-2)>0)for(var c,d,e=new Array(c),f=0;c>f;++f)e[f]=arguments[f+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(d=this._[a],f=0,c=d.length;c>f;++f)d[f].value.apply(b,e)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var d=this._[a],e=0,f=d.length;f>e;++e)d[e].value.apply(b,c)}},a.dispatch=b,Object.defineProperty(a,"__esModule",{value:!0})})},{}],154:[function(b,c,d){!function(e,f){"object"==typeof d&&"undefined"!=typeof c?f(d,b("d3-dispatch"),b("d3-selection")):"function"==typeof a&&a.amd?a(["exports","d3-dispatch","d3-selection"],f):f(e.d3=e.d3||{},e.d3,e.d3)}(this,function(a,b,c){"use strict";function d(){c.event.stopImmediatePropagation()}function e(a,b){var d=a.document.documentElement,e=c.select(a).on("dragstart.drag",null);b&&(e.on("click.drag",j,!0),setTimeout(function(){e.on("click.drag",null)},0)),"onselectstart"in d?e.on("selectstart.drag",null):(d.style.MozUserSelect=d.__noselect,delete d.__noselect)}function f(a,b,c,d,e,f,g,h,i,j){this.target=a,this.type=b,this.subject=c,this.identifier=d,this.active=e,this.x=f,this.y=g,this.dx=h,this.dy=i,this._=j}function g(){return!c.event.button}function h(){return this.parentNode}function i(a){return null==a?{x:c.event.x,y:c.event.y}:a}var j=function(){c.event.preventDefault(),c.event.stopImmediatePropagation()},k=function(a){var b=a.document.documentElement,d=c.select(a).on("dragstart.drag",j,!0);"onselectstart"in b?d.on("selectstart.drag",j,!0):(b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none")},l=function(a){return function(){return a}};f.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};var m=function(){function a(a){a.on("mousedown.drag",m).on("touchstart.drag",p).on("touchmove.drag",q).on("touchend.drag touchcancel.drag",r).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(){if(!w&&x.apply(this,arguments)){var a=s("mouse",y.apply(this,arguments),c.mouse,this,arguments);a&&(c.select(c.event.view).on("mousemove.drag",n,!0).on("mouseup.drag",o,!0),k(c.event.view),d(),v=!1,t=c.event.clientX,u=c.event.clientY,a("start"))}}function n(){if(j(),!v){var a=c.event.clientX-t,b=c.event.clientY-u;v=a*a+b*b>D}A.mouse("drag")}function o(){c.select(c.event.view).on("mousemove.drag mouseup.drag",null),e(c.event.view,v),j(),A.mouse("end")}function p(){if(x.apply(this,arguments)){var a,b,e=c.event.changedTouches,f=y.apply(this,arguments),g=e.length;for(a=0;g>a;++a)(b=s(e[a].identifier,f,c.touch,this,arguments))&&(d(),b("start"))}}function q(){var a,b,d=c.event.changedTouches,e=d.length;for(a=0;e>a;++a)(b=A[d[a].identifier])&&(j(),b("drag"))}function r(){var a,b,e=c.event.changedTouches,f=e.length;for(w&&clearTimeout(w),w=setTimeout(function(){w=null},500),a=0;f>a;++a)(b=A[e[a].identifier])&&(d(),b("end"))}function s(b,d,e,g,h){var i,j,k,l=e(d,b),m=B.copy();if(c.customEvent(new f(a,"beforestart",i,b,C,l[0],l[1],0,0,m),function(){return null==(c.event.subject=i=z.apply(g,h))?!1:(j=i.x-l[0]||0,k=i.y-l[1]||0,!0)}))return function n(o){var p,q=l;switch(o){case"start":A[b]=n,p=C++;break;case"end":delete A[b],--C;case"drag":l=e(d,b),p=C}c.customEvent(new f(a,o,i,b,p,l[0]+j,l[1]+k,l[0]-q[0],l[1]-q[1],m),m.apply,m,[o,g,h])}}var t,u,v,w,x=g,y=h,z=i,A={},B=b.dispatch("start","drag","end"),C=0,D=0;return a.filter=function(b){return arguments.length?(x="function"==typeof b?b:l(!!b),a):x},a.container=function(b){return arguments.length?(y="function"==typeof b?b:l(b),a):y},a.subject=function(b){return arguments.length?(z="function"==typeof b?b:l(b),a):z},a.on=function(){var b=B.on.apply(B,arguments);return b===B?a:b},a.clickDistance=function(b){return arguments.length?(D=(b=+b)*b,a):Math.sqrt(D)},a};a.drag=m,a.dragDisable=k,a.dragEnable=e,Object.defineProperty(a,"__esModule",{value:!0})})},{"d3-dispatch":153,"d3-selection":161}],155:[function(b,c,d){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(a){"use strict";function b(a){return new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function c(a,c){var d=b(a);return function(b,e){return c(d(b),e,a)}}function d(a){var b=Object.create(null),c=[];return a.forEach(function(a){for(var d in a)d in b||c.push(b[d]=d)}),c}var e=function(a){function e(a,d){var e,g,h=f(a,function(a,f){return e?e(a,f-1):(g=a,void(e=d?c(a,d):b(a)))});return h.columns=g,h}function f(a,b){function c(){if(j>=i)return g;if(e)return e=!1,f;var b,c=j;if(34===a.charCodeAt(c)){for(var d=c;d++<i;)if(34===a.charCodeAt(d)){if(34!==a.charCodeAt(d+1))break;++d}return j=d+2,b=a.charCodeAt(d+1),13===b?(e=!0,10===a.charCodeAt(d+2)&&++j):10===b&&(e=!0),a.slice(c+1,d).replace(/""/g,'"')}for(;i>j;){var h=1;if(b=a.charCodeAt(j++),10===b)e=!0;else if(13===b)e=!0,10===a.charCodeAt(j)&&(++j,++h);else if(b!==l)continue;return a.slice(c,j-h)}return a.slice(c)}for(var d,e,f={},g={},h=[],i=a.length,j=0,k=0;(d=c())!==g;){for(var m=[];d!==f&&d!==g;)m.push(d),d=c();b&&null==(m=b(m,k++))||h.push(m)}return h}function g(b,c){return null==c&&(c=d(b)),[c.map(j).join(a)].concat(b.map(function(b){return c.map(function(a){return j(b[a])}).join(a)})).join("\n")}function h(a){return a.map(i).join("\n")}function i(b){return b.map(j).join(a)}function j(a){return null==a?"":k.test(a+="")?'"'+a.replace(/\"/g,'""')+'"':a}var k=new RegExp('["'+a+"\n\r]"),l=a.charCodeAt(0);return{parse:e,parseRows:f,format:g,formatRows:h}},f=e(","),g=f.parse,h=f.parseRows,i=f.format,j=f.formatRows,k=e("	"),l=k.parse,m=k.parseRows,n=k.format,o=k.formatRows;a.dsvFormat=e,a.csvParse=g,a.csvParseRows=h,a.csvFormat=i,a.csvFormatRows=j,a.tsvParse=l,a.tsvParseRows=m,a.tsvFormat=n,a.tsvFormatRows=o,Object.defineProperty(a,"__esModule",{value:!0})})},{}],156:[function(b,c,d){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(a){"use strict";function b(a){return+a}function c(a){return a*a}function d(a){return a*(2-a)}function e(a){return((a*=2)<=1?a*a:--a*(2-a)+1)/2}function f(a){return a*a*a}function g(a){return--a*a*a+1}function h(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}function i(a){return 1-Math.cos(a*z)}function j(a){return Math.sin(a*z)}function k(a){return(1-Math.cos(y*a))/2}function l(a){return Math.pow(2,10*a-10)}function m(a){return 1-Math.pow(2,-10*a)}function n(a){return((a*=2)<=1?Math.pow(2,10*a-10):2-Math.pow(2,10-10*a))/2}function o(a){return 1-Math.sqrt(1-a*a)}function p(a){return Math.sqrt(1- --a*a)}function q(a){return((a*=2)<=1?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}function r(a){return 1-s(1-a)}function s(a){return(a=+a)<A?J*a*a:C>a?J*(a-=B)*a+D:F>a?J*(a-=E)*a+G:J*(a-=H)*a+I}function t(a){return((a*=2)<=1?1-s(1-a):s(a-1)+1)/2}var u=3,v=function U(a){function b(b){return Math.pow(b,a)}return a=+a,b.exponent=U,b}(u),w=function V(a){function b(b){return 1-Math.pow(1-b,a)}return a=+a,b.exponent=V,b}(u),x=function W(a){function b(b){return((b*=2)<=1?Math.pow(b,a):2-Math.pow(2-b,a))/2}return a=+a,b.exponent=W,b}(u),y=Math.PI,z=y/2,A=4/11,B=6/11,C=8/11,D=.75,E=9/11,F=10/11,G=.9375,H=21/22,I=63/64,J=1/A/A,K=1.70158,L=function X(a){function b(b){return b*b*((a+1)*b-a)}return a=+a,b.overshoot=X,b}(K),M=function Y(a){function b(b){return--b*b*((a+1)*b+a)+1}return a=+a,b.overshoot=Y,b}(K),N=function Z(a){function b(b){return((b*=2)<1?b*b*((a+1)*b-a):(b-=2)*b*((a+1)*b+a)+2)/2}return a=+a,b.overshoot=Z,b}(K),O=2*Math.PI,P=1,Q=.3,R=function $(a,b){function c(c){return a*Math.pow(2,10*--c)*Math.sin((d-c)/b)}var d=Math.asin(1/(a=Math.max(1,a)))*(b/=O);return c.amplitude=function(a){return $(a,b*O)},c.period=function(b){return $(a,b)},c}(P,Q),S=function _(a,b){function c(c){return 1-a*Math.pow(2,-10*(c=+c))*Math.sin((c+d)/b)}var d=Math.asin(1/(a=Math.max(1,a)))*(b/=O);return c.amplitude=function(a){return _(a,b*O)},c.period=function(b){return _(a,b)},c}(P,Q),T=function aa(a,b){function c(c){return((c=2*c-1)<0?a*Math.pow(2,10*c)*Math.sin((d-c)/b):2-a*Math.pow(2,-10*c)*Math.sin((d+c)/b))/2}var d=Math.asin(1/(a=Math.max(1,a)))*(b/=O);return c.amplitude=function(a){return aa(a,b*O)},c.period=function(b){return aa(a,b)},c}(P,Q);a.easeLinear=b,a.easeQuad=e,a.easeQuadIn=c,a.easeQuadOut=d,a.easeQuadInOut=e,a.easeCubic=h,a.easeCubicIn=f,a.easeCubicOut=g,a.easeCubicInOut=h,a.easePoly=x,a.easePolyIn=v,a.easePolyOut=w,a.easePolyInOut=x,a.easeSin=k,a.easeSinIn=i,a.easeSinOut=j,a.easeSinInOut=k,a.easeExp=n,a.easeExpIn=l,a.easeExpOut=m,a.easeExpInOut=n,a.easeCircle=q,a.easeCircleIn=o,a.easeCircleOut=p,a.easeCircleInOut=q,a.easeBounce=s,a.easeBounceIn=r,a.easeBounceOut=s,a.easeBounceInOut=t,a.easeBack=N,a.easeBackIn=L,a.easeBackOut=M,a.easeBackInOut=N,a.easeElastic=S,a.easeElasticIn=R,a.easeElasticOut=S,a.easeElasticInOut=T,Object.defineProperty(a,"__esModule",{value:!0})})},{}],157:[function(b,c,d){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(a){"use strict";function b(a){return new c(a)}function c(a){if(!(b=n.exec(a)))throw new Error("invalid format: "+a);var b,c=b[1]||" ",d=b[2]||">",e=b[3]||"-",f=b[4]||"",g=!!b[5],h=b[6]&&+b[6],i=!!b[7],j=b[8]&&+b[8].slice(1),k=b[9]||"";"n"===k?(i=!0,k="g"):m[k]||(k=""),(g||"0"===c&&"="===d)&&(g=!0,c="0",d="="),this.fill=c,this.align=d,this.sign=e,this.symbol=f,this.zero=g,this.width=h,this.comma=i,this.precision=j,this.type=k}function d(b){return o=r(b),a.format=o.format,a.formatPrefix=o.formatPrefix,o}var e,f=function(a,b){if((c=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e"))<0)return null;var c,d=a.slice(0,c);return[d.length>1?d[0]+d.slice(2):d,+a.slice(c+1)]},g=function(a){return a=f(Math.abs(a)),a?a[1]:NaN},h=function(a,b){return function(c,d){for(var e=c.length,f=[],g=0,h=a[0],i=0;e>0&&h>0&&(i+h+1>d&&(h=Math.max(1,d-i)),f.push(c.substring(e-=h,e+h)),!((i+=h+1)>d));)h=a[g=(g+1)%a.length];return f.reverse().join(b)}},i=function(a){return function(b){return b.replace(/[0-9]/g,function(b){return a[+b]})}},j=function(a,b){a=a.toPrecision(b);a:for(var c,d=a.length,e=1,f=-1;d>e;++e)switch(a[e]){case".":f=c=e;break;case"0":0===f&&(f=e),c=e;break;case"e":break a;default:f>0&&(f=0)}return f>0?a.slice(0,f)+a.slice(c+1):a},k=function(a,b){var c=f(a,b);if(!c)return a+"";var d=c[0],g=c[1],h=g-(e=3*Math.max(-8,Math.min(8,Math.floor(g/3))))+1,i=d.length;return h===i?d:h>i?d+new Array(h-i+1).join("0"):h>0?d.slice(0,h)+"."+d.slice(h):"0."+new Array(1-h).join("0")+f(a,Math.max(0,b+h-1))[0];
},l=function(a,b){var c=f(a,b);if(!c)return a+"";var d=c[0],e=c[1];return 0>e?"0."+new Array(-e).join("0")+d:d.length>e+1?d.slice(0,e+1)+"."+d.slice(e+1):d+new Array(e-d.length+2).join("0")},m={"":j,"%":function(a,b){return(100*a).toFixed(b)},b:function(a){return Math.round(a).toString(2)},c:function(a){return a+""},d:function(a){return Math.round(a).toString(10)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},g:function(a,b){return a.toPrecision(b)},o:function(a){return Math.round(a).toString(8)},p:function(a,b){return l(100*a,b)},r:l,s:k,X:function(a){return Math.round(a).toString(16).toUpperCase()},x:function(a){return Math.round(a).toString(16)}},n=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;b.prototype=c.prototype,c.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var o,p=function(a){return a},q=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],r=function(a){function c(a){function c(a){var b,c,i,j=u,m=v;if("c"===t)m=w(a)+m,a="";else{a=+a;var n=0>a;if(a=w(Math.abs(a),s),n&&0===+a&&(n=!1),j=(n?"("===h?h:"-":"-"===h||"("===h?"":h)+j,m=m+("s"===t?q[8+e/3]:"")+(n&&"("===h?")":""),x)for(b=-1,c=a.length;++b<c;)if(i=a.charCodeAt(b),48>i||i>57){m=(46===i?k+a.slice(b+1):a.slice(b))+m,a=a.slice(0,b);break}}r&&!o&&(a=f(a,1/0));var y=j.length+a.length+m.length,z=p>y?new Array(p-y+1).join(d):"";switch(r&&o&&(a=f(z+a,z.length?p-m.length:1/0),z=""),g){case"<":a=j+a+m+z;break;case"=":a=j+z+a+m;break;case"^":a=z.slice(0,y=z.length>>1)+j+a+m+z.slice(y);break;default:a=z+j+a+m}return l(a)}a=b(a);var d=a.fill,g=a.align,h=a.sign,i=a.symbol,o=a.zero,p=a.width,r=a.comma,s=a.precision,t=a.type,u="$"===i?j[0]:"#"===i&&/[boxX]/.test(t)?"0"+t.toLowerCase():"",v="$"===i?j[1]:/[%p]/.test(t)?n:"",w=m[t],x=!t||/[defgprs%]/.test(t);return s=null==s?t?6:12:/[gprs]/.test(t)?Math.max(1,Math.min(21,s)):Math.max(0,Math.min(20,s)),c.toString=function(){return a+""},c}function d(a,d){var e=c((a=b(a),a.type="f",a)),f=3*Math.max(-8,Math.min(8,Math.floor(g(d)/3))),h=Math.pow(10,-f),i=q[8+f/3];return function(a){return e(h*a)+i}}var f=a.grouping&&a.thousands?h(a.grouping,a.thousands):p,j=a.currency,k=a.decimal,l=a.numerals?i(a.numerals):p,n=a.percent||"%";return{format:c,formatPrefix:d}};d({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var s=function(a){return Math.max(0,-g(Math.abs(a)))},t=function(a,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(g(b)/3)))-g(Math.abs(a)))},u=function(a,b){return a=Math.abs(a),b=Math.abs(b)-a,Math.max(0,g(b)-g(a))+1};a.formatDefaultLocale=d,a.formatLocale=r,a.formatSpecifier=b,a.precisionFixed=s,a.precisionPrefix=t,a.precisionRound=u,Object.defineProperty(a,"__esModule",{value:!0})})},{}],158:[function(b,c,d){!function(e,f){"object"==typeof d&&"undefined"!=typeof c?f(d,b("d3-color")):"function"==typeof a&&a.amd?a(["exports","d3-color"],f):f(e.d3=e.d3||{},e.d3)}(this,function(a,b){"use strict";function c(a,b,c,d,e){var f=a*a,g=f*a;return((1-3*a+3*f-g)*b+(4-6*f+3*g)*c+(1+3*a+3*f-3*g)*d+g*e)/6}function d(a,b){return function(c){return a+c*b}}function e(a,b,c){return a=Math.pow(a,c),b=Math.pow(b,c)-a,c=1/c,function(d){return Math.pow(a+d*b,c)}}function f(a,b){var c=b-a;return c?d(a,c>180||-180>c?c-360*Math.round(c/360):c):B(isNaN(a)?b:a)}function g(a){return 1===(a=+a)?h:function(b,c){return c-b?e(b,c,a):B(isNaN(b)?c:b)}}function h(a,b){var c=b-a;return c?d(a,c):B(isNaN(a)?b:a)}function i(a){return function(c){var d,e,f=c.length,g=new Array(f),h=new Array(f),i=new Array(f);for(d=0;f>d;++d)e=b.rgb(c[d]),g[d]=e.r||0,h[d]=e.g||0,i[d]=e.b||0;return g=a(g),h=a(h),i=a(i),e.opacity=1,function(a){return e.r=g(a),e.g=h(a),e.b=i(a),e+""}}}function j(a){return function(){return a}}function k(a){return function(b){return a(b)+""}}function l(a){return"none"===a?P:(v||(v=document.createElement("DIV"),w=document.documentElement,x=document.defaultView),v.style.transform=a,a=x.getComputedStyle(w.appendChild(v),null).getPropertyValue("transform"),w.removeChild(v),a=a.slice(7,-1).split(","),Q(+a[0],+a[1],+a[2],+a[3],+a[4],+a[5]))}function m(a){return null==a?P:(y||(y=document.createElementNS("http://www.w3.org/2000/svg","g")),y.setAttribute("transform",a),(a=y.transform.baseVal.consolidate())?(a=a.matrix,Q(a.a,a.b,a.c,a.d,a.e,a.f)):P)}function n(a,b,c,d){function e(a){return a.length?a.pop()+" ":""}function f(a,d,e,f,g,h){if(a!==e||d!==f){var i=g.push("translate(",null,b,null,c);h.push({i:i-4,x:H(a,e)},{i:i-2,x:H(d,f)})}else(e||f)&&g.push("translate("+e+b+f+c)}function g(a,b,c,f){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),f.push({i:c.push(e(c)+"rotate(",null,d)-2,x:H(a,b)})):b&&c.push(e(c)+"rotate("+b+d)}function h(a,b,c,f){a!==b?f.push({i:c.push(e(c)+"skewX(",null,d)-2,x:H(a,b)}):b&&c.push(e(c)+"skewX("+b+d)}function i(a,b,c,d,f,g){if(a!==c||b!==d){var h=f.push(e(f)+"scale(",null,",",null,")");g.push({i:h-4,x:H(a,c)},{i:h-2,x:H(b,d)})}else(1!==c||1!==d)&&f.push(e(f)+"scale("+c+","+d+")")}return function(b,c){var d=[],e=[];return b=a(b),c=a(c),f(b.translateX,b.translateY,c.translateX,c.translateY,d,e),g(b.rotate,c.rotate,d,e),h(b.skewX,c.skewX,d,e),i(b.scaleX,b.scaleY,c.scaleX,c.scaleY,d,e),b=c=null,function(a){for(var b,c=-1,f=e.length;++c<f;)d[(b=e[c]).i]=b.x(a);return d.join("")}}}function o(a){return((a=Math.exp(a))+1/a)/2}function p(a){return((a=Math.exp(a))-1/a)/2}function q(a){return((a=Math.exp(2*a))-1)/(a+1)}function r(a){return function(c,d){var e=a((c=b.hsl(c)).h,(d=b.hsl(d)).h),f=h(c.s,d.s),g=h(c.l,d.l),i=h(c.opacity,d.opacity);return function(a){return c.h=e(a),c.s=f(a),c.l=g(a),c.opacity=i(a),c+""}}}function s(a,c){var d=h((a=b.lab(a)).l,(c=b.lab(c)).l),e=h(a.a,c.a),f=h(a.b,c.b),g=h(a.opacity,c.opacity);return function(b){return a.l=d(b),a.a=e(b),a.b=f(b),a.opacity=g(b),a+""}}function t(a){return function(c,d){var e=a((c=b.hcl(c)).h,(d=b.hcl(d)).h),f=h(c.c,d.c),g=h(c.l,d.l),i=h(c.opacity,d.opacity);return function(a){return c.h=e(a),c.c=f(a),c.l=g(a),c.opacity=i(a),c+""}}}function u(a){return function c(d){function e(c,e){var f=a((c=b.cubehelix(c)).h,(e=b.cubehelix(e)).h),g=h(c.s,e.s),i=h(c.l,e.l),j=h(c.opacity,e.opacity);return function(a){return c.h=f(a),c.s=g(a),c.l=i(Math.pow(a,d)),c.opacity=j(a),c+""}}return d=+d,e.gamma=c,e}(1)}var v,w,x,y,z=function(a){var b=a.length-1;return function(d){var e=0>=d?d=0:d>=1?(d=1,b-1):Math.floor(d*b),f=a[e],g=a[e+1],h=e>0?a[e-1]:2*f-g,i=b-1>e?a[e+2]:2*g-f;return c((d-e/b)*b,h,f,g,i)}},A=function(a){var b=a.length;return function(d){var e=Math.floor(((d%=1)<0?++d:d)*b),f=a[(e+b-1)%b],g=a[e%b],h=a[(e+1)%b],i=a[(e+2)%b];return c((d-e/b)*b,f,g,h,i)}},B=function(a){return function(){return a}},C=function da(a){function c(a,c){var e=d((a=b.rgb(a)).r,(c=b.rgb(c)).r),f=d(a.g,c.g),g=d(a.b,c.b),i=h(a.opacity,c.opacity);return function(b){return a.r=e(b),a.g=f(b),a.b=g(b),a.opacity=i(b),a+""}}var d=g(a);return c.gamma=da,c}(1),D=i(z),E=i(A),F=function(a,b){var c,d=b?b.length:0,e=a?Math.min(d,a.length):0,f=new Array(d),g=new Array(d);for(c=0;e>c;++c)f[c]=M(a[c],b[c]);for(;d>c;++c)g[c]=b[c];return function(a){for(c=0;e>c;++c)g[c]=f[c](a);return g}},G=function(a,b){var c=new Date;return a=+a,b-=a,function(d){return c.setTime(a+b*d),c}},H=function(a,b){return a=+a,b-=a,function(c){return a+b*c}},I=function(a,b){var c,d={},e={};(null===a||"object"!=typeof a)&&(a={}),(null===b||"object"!=typeof b)&&(b={});for(c in b)c in a?d[c]=M(a[c],b[c]):e[c]=b[c];return function(a){for(c in d)e[c]=d[c](a);return e}},J=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K=new RegExp(J.source,"g"),L=function(a,b){var c,d,e,f=J.lastIndex=K.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=J.exec(a))&&(d=K.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:H(c,d)})),f=K.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?k(i[0].x):j(b):(b=i.length,function(a){for(var c,d=0;b>d;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})},M=function(a,c){var d,e=typeof c;return null==c||"boolean"===e?B(c):("number"===e?H:"string"===e?(d=b.color(c))?(c=d,C):L:c instanceof b.color?C:c instanceof Date?G:Array.isArray(c)?F:"function"!=typeof c.valueOf&&"function"!=typeof c.toString||isNaN(c)?I:H)(a,c)},N=function(a,b){return a=+a,b-=a,function(c){return Math.round(a+b*c)}},O=180/Math.PI,P={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Q=function(a,b,c,d,e,f){var g,h,i;return(g=Math.sqrt(a*a+b*b))&&(a/=g,b/=g),(i=a*c+b*d)&&(c-=a*i,d-=b*i),(h=Math.sqrt(c*c+d*d))&&(c/=h,d/=h,i/=h),b*c>a*d&&(a=-a,b=-b,i=-i,g=-g),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*O,skewX:Math.atan(i)*O,scaleX:g,scaleY:h}},R=n(l,"px, ","px)","deg)"),S=n(m,", ",")",")"),T=Math.SQRT2,U=2,V=4,W=1e-12,X=function(a,b){var c,d,e=a[0],f=a[1],g=a[2],h=b[0],i=b[1],j=b[2],k=h-e,l=i-f,m=k*k+l*l;if(W>m)d=Math.log(j/g)/T,c=function(a){return[e+a*k,f+a*l,g*Math.exp(T*a*d)]};else{var n=Math.sqrt(m),r=(j*j-g*g+V*m)/(2*g*U*n),s=(j*j-g*g-V*m)/(2*j*U*n),t=Math.log(Math.sqrt(r*r+1)-r),u=Math.log(Math.sqrt(s*s+1)-s);d=(u-t)/T,c=function(a){var b=a*d,c=o(t),h=g/(U*n)*(c*q(T*b+t)-p(t));return[e+h*k,f+h*l,g*c/o(T*b+t)]}}return c.duration=1e3*d,c},Y=r(f),Z=r(h),$=t(f),_=t(h),aa=u(f),ba=u(h),ca=function(a,b){for(var c=new Array(b),d=0;b>d;++d)c[d]=a(d/(b-1));return c};a.interpolate=M,a.interpolateArray=F,a.interpolateBasis=z,a.interpolateBasisClosed=A,a.interpolateDate=G,a.interpolateNumber=H,a.interpolateObject=I,a.interpolateRound=N,a.interpolateString=L,a.interpolateTransformCss=R,a.interpolateTransformSvg=S,a.interpolateZoom=X,a.interpolateRgb=C,a.interpolateRgbBasis=D,a.interpolateRgbBasisClosed=E,a.interpolateHsl=Y,a.interpolateHslLong=Z,a.interpolateLab=s,a.interpolateHcl=$,a.interpolateHclLong=_,a.interpolateCubehelix=aa,a.interpolateCubehelixLong=ba,a.quantize=ca,Object.defineProperty(a,"__esModule",{value:!0})})},{"d3-color":152}],159:[function(b,c,d){!function(e,f){"object"==typeof d&&"undefined"!=typeof c?f(d,b("d3-collection"),b("d3-dispatch"),b("d3-dsv")):"function"==typeof a&&a.amd?a(["exports","d3-collection","d3-dispatch","d3-dsv"],f):f(e.d3=e.d3||{},e.d3,e.d3,e.d3)}(this,function(a,b,c,d){"use strict";function e(a){return function(b,c){a(null==b?c:null)}}function f(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function g(a,b){return function(c){return a(c.responseText,b)}}var h=function(a,d){function g(a){var b,c=n.status;if(!c&&f(n)||c>=200&&300>c||304===c){if(j)try{b=j.call(h,n)}catch(d){return void l.call("error",h,d)}else b=n;l.call("load",h,b)}else l.call("error",h,a)}var h,i,j,k,l=c.dispatch("beforesend","progress","load","error"),m=b.map(),n=new XMLHttpRequest,o=null,p=null,q=0;if("undefined"==typeof XDomainRequest||"withCredentials"in n||!/^(http(s)?:)?\/\//.test(a)||(n=new XDomainRequest),"onload"in n?n.onload=n.onerror=n.ontimeout=g:n.onreadystatechange=function(a){n.readyState>3&&g(a)},n.onprogress=function(a){l.call("progress",h,a)},h={header:function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?m.get(a):(null==b?m.remove(a):m.set(a,b+""),h)},mimeType:function(a){return arguments.length?(i=null==a?null:a+"",h):i},responseType:function(a){return arguments.length?(k=a,h):k},timeout:function(a){return arguments.length?(q=+a,h):q},user:function(a){return arguments.length<1?o:(o=null==a?null:a+"",h)},password:function(a){return arguments.length<1?p:(p=null==a?null:a+"",h)},response:function(a){return j=a,h},get:function(a,b){return h.send("GET",a,b)},post:function(a,b){return h.send("POST",a,b)},send:function(b,c,d){return n.open(b,a,!0,o,p),null==i||m.has("accept")||m.set("accept",i+",*/*"),n.setRequestHeader&&m.each(function(a,b){n.setRequestHeader(b,a)}),null!=i&&n.overrideMimeType&&n.overrideMimeType(i),null!=k&&(n.responseType=k),q>0&&(n.timeout=q),null==d&&"function"==typeof c&&(d=c,c=null),null!=d&&1===d.length&&(d=e(d)),null!=d&&h.on("error",d).on("load",function(a){d(null,a)}),l.call("beforesend",h,n),n.send(null==c?null:c),h},abort:function(){return n.abort(),h},on:function(){var a=l.on.apply(l,arguments);return a===l?h:a}},null!=d){if("function"!=typeof d)throw new Error("invalid callback: "+d);return h.get(d)}return h},i=function(a,b){return function(c,d){var e=h(c).mimeType(a).response(b);if(null!=d){if("function"!=typeof d)throw new Error("invalid callback: "+d);return e.get(d)}return e}},j=i("text/html",function(a){return document.createRange().createContextualFragment(a.responseText)}),k=i("application/json",function(a){return JSON.parse(a.responseText)}),l=i("text/plain",function(a){return a.responseText}),m=i("application/xml",function(a){var b=a.responseXML;if(!b)throw new Error("parse error");return b}),n=function(a,b){return function(c,d,e){arguments.length<3&&(e=d,d=null);var f=h(c).mimeType(a);return f.row=function(a){return arguments.length?f.response(g(b,d=a)):d},f.row(d),e?f.get(e):f}},o=n("text/csv",d.csvParse),p=n("text/tab-separated-values",d.tsvParse);a.request=h,a.html=j,a.json=k,a.text=l,a.xml=m,a.csv=o,a.tsv=p,Object.defineProperty(a,"__esModule",{value:!0})})},{"d3-collection":151,"d3-dispatch":153,"d3-dsv":155}],160:[function(b,c,d){!function(e,f){"object"==typeof d&&"undefined"!=typeof c?f(d,b("d3-array"),b("d3-collection"),b("d3-interpolate"),b("d3-format"),b("d3-time"),b("d3-time-format"),b("d3-color")):"function"==typeof a&&a.amd?a(["exports","d3-array","d3-collection","d3-interpolate","d3-format","d3-time","d3-time-format","d3-color"],f):f(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3)}(this,function(a,b,c,d,e,f,g,h){"use strict";function i(a){function b(b){var c=b+"",g=d.get(c);if(!g){if(f!==R)return f;d.set(c,g=e.push(b))}return a[(g-1)%a.length]}var d=c.map(),e=[],f=R;return a=null==a?[]:Q.call(a),b.domain=function(a){if(!arguments.length)return e.slice();e=[],d=c.map();for(var f,g,h=-1,i=a.length;++h<i;)d.has(g=(f=a[h])+"")||d.set(g,e.push(f));return b},b.range=function(c){return arguments.length?(a=Q.call(c),b):a.slice()},b.unknown=function(a){return arguments.length?(f=a,b):f},b.copy=function(){return i().domain(e).range(a).unknown(f)},b}function j(){function a(){var a=f().length,e=h[1]<h[0],i=h[e-0],j=h[1-e];c=(j-i)/Math.max(1,a-l+2*m),k&&(c=Math.floor(c)),i+=(j-i-c*(a-l))*n,d=c*(1-l),k&&(i=Math.round(i),d=Math.round(d));var o=b.range(a).map(function(a){return i+c*a});return g(e?o.reverse():o)}var c,d,e=i().unknown(void 0),f=e.domain,g=e.range,h=[0,1],k=!1,l=0,m=0,n=.5;return delete e.unknown,e.domain=function(b){return arguments.length?(f(b),a()):f()},e.range=function(b){return arguments.length?(h=[+b[0],+b[1]],a()):h.slice()},e.rangeRound=function(b){return h=[+b[0],+b[1]],k=!0,a()},e.bandwidth=function(){return d},e.step=function(){return c},e.round=function(b){return arguments.length?(k=!!b,a()):k},e.padding=function(b){return arguments.length?(l=m=Math.max(0,Math.min(1,b)),a()):l},e.paddingInner=function(b){return arguments.length?(l=Math.max(0,Math.min(1,b)),a()):l},e.paddingOuter=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),a()):m},e.align=function(b){return arguments.length?(n=Math.max(0,Math.min(1,b)),a()):n},e.copy=function(){return j().domain(f()).range(h).round(k).paddingInner(l).paddingOuter(m).align(n)},a()}function k(a){var b=a.copy;return a.padding=a.paddingOuter,delete a.paddingInner,delete a.paddingOuter,a.copy=function(){return k(b())},a}function l(){return k(j().paddingInner(1))}function m(a,b){return(b-=a=+a)?function(c){return(c-a)/b}:S(b)}function n(a){return function(b,c){var d=a(b=+b,c=+c);return function(a){return b>=a?0:a>=c?1:d(a)}}}function o(a){return function(b,c){var d=a(b=+b,c=+c);return function(a){return 0>=a?b:a>=1?c:d(a)}}}function p(a,b,c,d){var e=a[0],f=a[1],g=b[0],h=b[1];return e>f?(e=c(f,e),g=d(h,g)):(e=c(e,f),g=d(g,h)),function(a){return g(e(a))}}function q(a,c,d,e){var f=Math.min(a.length,c.length)-1,g=new Array(f),h=new Array(f),i=-1;for(a[f]<a[0]&&(a=a.slice().reverse(),c=c.slice().reverse());++i<f;)g[i]=d(a[i],a[i+1]),h[i]=e(c[i],c[i+1]);return function(c){var d=b.bisect(a,c,1,f)-1;return h[d](g[d](c))}}function r(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp())}function s(a,b){function c(){return f=Math.min(i.length,j.length)>2?q:p,g=h=null,e}function e(b){return(g||(g=f(i,j,l?n(a):a,k)))(+b)}var f,g,h,i=U,j=U,k=d.interpolate,l=!1;return e.invert=function(a){return(h||(h=f(j,i,m,l?o(b):b)))(+a)},e.domain=function(a){return arguments.length?(i=P.call(a,T),c()):i.slice()},e.range=function(a){return arguments.length?(j=Q.call(a),c()):j.slice()},e.rangeRound=function(a){return j=Q.call(a),k=d.interpolateRound,c()},e.clamp=function(a){return arguments.length?(l=!!a,c()):l},e.interpolate=function(a){return arguments.length?(k=a,c()):k},c()}function t(a){var c=a.domain;return a.ticks=function(a){var d=c();return b.ticks(d[0],d[d.length-1],null==a?10:a)},a.tickFormat=function(a,b){return V(c(),a,b)},a.nice=function(d){null==d&&(d=10);var e,f=c(),g=0,h=f.length-1,i=f[g],j=f[h];return i>j&&(e=i,i=j,j=e,e=g,g=h,h=e),e=b.tickIncrement(i,j,d),e>0?(i=Math.floor(i/e)*e,j=Math.ceil(j/e)*e,e=b.tickIncrement(i,j,d)):0>e&&(i=Math.ceil(i*e)/e,j=Math.floor(j*e)/e,e=b.tickIncrement(i,j,d)),e>0?(f[g]=Math.floor(i/e)*e,f[h]=Math.ceil(j/e)*e,c(f)):0>e&&(f[g]=Math.ceil(i*e)/e,f[h]=Math.floor(j*e)/e,c(f)),a},a}function u(){var a=s(m,d.interpolateNumber);return a.copy=function(){return r(a,u())},t(a)}function v(){function a(a){return+a}var b=[0,1];return a.invert=a,a.domain=a.range=function(c){return arguments.length?(b=P.call(c,T),a):b.slice()},a.copy=function(){return v().domain(b)},t(a)}function w(a,b){return(b=Math.log(b/a))?function(c){return Math.log(c/a)/b}:S(b)}function x(a,b){return 0>a?function(c){return-Math.pow(-b,c)*Math.pow(-a,1-c)}:function(c){return Math.pow(b,c)*Math.pow(a,1-c)}}function y(a){return isFinite(a)?+("1e"+a):0>a?0:a}function z(a){return 10===a?y:a===Math.E?Math.exp:function(b){return Math.pow(a,b)}}function A(a){return a===Math.E?Math.log:10===a&&Math.log10||2===a&&Math.log2||(a=Math.log(a),function(b){return Math.log(b)/a})}function B(a){return function(b){return-a(-b)}}function C(){function a(){return g=A(f),h=z(f),d()[0]<0&&(g=B(g),h=B(h)),c}var c=s(w,x).domain([1,10]),d=c.domain,f=10,g=A(10),h=z(10);return c.base=function(b){return arguments.length?(f=+b,a()):f},c.domain=function(b){return arguments.length?(d(b),a()):d()},c.ticks=function(a){var c,e=d(),i=e[0],j=e[e.length-1];(c=i>j)&&(n=i,i=j,j=n);var k,l,m,n=g(i),o=g(j),p=null==a?10:+a,q=[];if(!(f%1)&&p>o-n){if(n=Math.round(n)-1,o=Math.round(o)+1,i>0){for(;o>n;++n)for(l=1,k=h(n);f>l;++l)if(m=k*l,!(i>m)){if(m>j)break;q.push(m)}}else for(;o>n;++n)for(l=f-1,k=h(n);l>=1;--l)if(m=k*l,!(i>m)){if(m>j)break;q.push(m)}}else q=b.ticks(n,o,Math.min(o-n,p)).map(h);return c?q.reverse():q},c.tickFormat=function(a,b){if(null==b&&(b=10===f?".0e":","),"function"!=typeof b&&(b=e.format(b)),a===1/0)return b;null==a&&(a=10);var d=Math.max(1,f*a/c.ticks().length);return function(a){var c=a/h(Math.round(g(a)));return f-.5>c*f&&(c*=f),d>=c?b(a):""}},c.nice=function(){return d(W(d(),{floor:function(a){return h(Math.floor(g(a)))},ceil:function(a){return h(Math.ceil(g(a)))}}))},c.copy=function(){return r(c,C().base(f))},c}function D(a,b){return 0>a?-Math.pow(-a,b):Math.pow(a,b)}function E(){function a(a,b){return(b=D(b,c)-(a=D(a,c)))?function(d){return(D(d,c)-a)/b}:S(b)}function b(a,b){return b=D(b,c)-(a=D(a,c)),function(d){return D(a+b*d,1/c)}}var c=1,d=s(a,b),e=d.domain;return d.exponent=function(a){return arguments.length?(c=+a,e(e())):c},d.copy=function(){return r(d,E().exponent(c))},t(d)}function F(){return E().exponent(.5)}function G(){function a(){var a=0,g=Math.max(1,e.length);for(f=new Array(g-1);++a<g;)f[a-1]=b.quantile(d,a/g);return c}function c(a){return isNaN(a=+a)?void 0:e[b.bisect(f,a)]}var d=[],e=[],f=[];return c.invertExtent=function(a){var b=e.indexOf(a);return 0>b?[NaN,NaN]:[b>0?f[b-1]:d[0],b<f.length?f[b]:d[d.length-1]]},c.domain=function(c){if(!arguments.length)return d.slice();d=[];for(var e,f=0,g=c.length;g>f;++f)e=c[f],null==e||isNaN(e=+e)||d.push(e);return d.sort(b.ascending),a()},c.range=function(b){return arguments.length?(e=Q.call(b),a()):e.slice()},c.quantiles=function(){return f.slice()},c.copy=function(){return G().domain(d).range(e)},c}function H(){function a(a){return a>=a?h[b.bisect(g,a,0,f)]:void 0}function c(){var b=-1;for(g=new Array(f);++b<f;)g[b]=((b+1)*e-(b-f)*d)/(f+1);return a}var d=0,e=1,f=1,g=[.5],h=[0,1];return a.domain=function(a){return arguments.length?(d=+a[0],e=+a[1],c()):[d,e]},a.range=function(a){return arguments.length?(f=(h=Q.call(a)).length-1,c()):h.slice()},a.invertExtent=function(a){var b=h.indexOf(a);return 0>b?[NaN,NaN]:1>b?[d,g[0]]:b>=f?[g[f-1],e]:[g[b-1],g[b]]},a.copy=function(){return H().domain([d,e]).range(h)},t(a)}function I(){function a(a){return a>=a?d[b.bisect(c,a,0,e)]:void 0}var c=[.5],d=[0,1],e=1;return a.domain=function(b){return arguments.length?(c=Q.call(b),e=Math.min(c.length,d.length-1),a):c.slice()},a.range=function(b){return arguments.length?(d=Q.call(b),e=Math.min(c.length,d.length-1),a):d.slice()},a.invertExtent=function(a){var b=d.indexOf(a);return[c[b-1],c[b]]},a.copy=function(){return I().domain(c).range(d)},a}function J(a){return new Date(a)}function K(a){return a instanceof Date?+a:+new Date(+a)}function L(a,c,e,f,g,h,i,j,k){function l(b){return(i(b)<b?t:h(b)<b?u:g(b)<b?v:f(b)<b?w:c(b)<b?e(b)<b?x:y:a(b)<b?z:A)(b)}function n(c,d,e,f){if(null==c&&(c=10),"number"==typeof c){var g=Math.abs(e-d)/c,h=b.bisector(function(a){return a[2]}).right(B,g);h===B.length?(f=b.tickStep(d/ba,e/ba,c),c=a):h?(h=B[g/B[h-1][2]<B[h][2]/g?h-1:h],f=h[1],c=h[0]):(f=b.tickStep(d,e,c),c=j)}return null==f?c:c.every(f)}var o=s(m,d.interpolateNumber),p=o.invert,q=o.domain,t=k(".%L"),u=k(":%S"),v=k("%I:%M"),w=k("%I %p"),x=k("%a %d"),y=k("%b %d"),z=k("%B"),A=k("%Y"),B=[[i,1,X],[i,5,5*X],[i,15,15*X],[i,30,30*X],[h,1,Y],[h,5,5*Y],[h,15,15*Y],[h,30,30*Y],[g,1,Z],[g,3,3*Z],[g,6,6*Z],[g,12,12*Z],[f,1,$],[f,2,2*$],[e,1,_],[c,1,aa],[c,3,3*aa],[a,1,ba]];return o.invert=function(a){return new Date(p(a))},o.domain=function(a){return arguments.length?q(P.call(a,K)):q().map(J)},o.ticks=function(a,b){var c,d=q(),e=d[0],f=d[d.length-1],g=e>f;return g&&(c=e,e=f,f=c),c=n(a,e,f,b),c=c?c.range(e,f+1):[],g?c.reverse():c},o.tickFormat=function(a,b){return null==b?l:k(b)},o.nice=function(a,b){var c=q();return(a=n(a,c[0],c[c.length-1],b))?q(W(c,a)):o},o.copy=function(){return r(o,L(a,c,e,f,g,h,i,j,k))},o}function M(a){var b=a.length;return function(c){return a[Math.max(0,Math.min(b-1,Math.floor(c*b)))]}}function N(a){function b(b){var f=(b-c)/(d-c);return a(e?Math.max(0,Math.min(1,f)):f)}var c=0,d=1,e=!1;return b.domain=function(a){return arguments.length?(c=+a[0],d=+a[1],b):[c,d]},b.clamp=function(a){return arguments.length?(e=!!a,b):e},b.interpolator=function(c){return arguments.length?(a=c,b):a},b.copy=function(){return N(a).domain([c,d]).clamp(e)},t(b)}var O=Array.prototype,P=O.map,Q=O.slice,R={name:"implicit"},S=function(a){return function(){return a}},T=function(a){return+a},U=[0,1],V=function(a,c,d){var f,g=a[0],h=a[a.length-1],i=b.tickStep(g,h,null==c?10:c);switch(d=e.formatSpecifier(null==d?",f":d),d.type){case"s":var j=Math.max(Math.abs(g),Math.abs(h));return null!=d.precision||isNaN(f=e.precisionPrefix(i,j))||(d.precision=f),e.formatPrefix(d,j);case"":case"e":case"g":case"p":case"r":null!=d.precision||isNaN(f=e.precisionRound(i,Math.max(Math.abs(g),Math.abs(h))))||(d.precision=f-("e"===d.type));break;case"f":case"%":null!=d.precision||isNaN(f=e.precisionFixed(i))||(d.precision=f-2*("%"===d.type))}return e.format(d)},W=function(a,b){a=a.slice();var c,d=0,e=a.length-1,f=a[d],g=a[e];return f>g&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a},X=1e3,Y=60*X,Z=60*Y,$=24*Z,_=7*$,aa=30*$,ba=365*$,ca=function(){return L(f.timeYear,f.timeMonth,f.timeWeek,f.timeDay,f.timeHour,f.timeMinute,f.timeSecond,f.timeMillisecond,g.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},da=function(){return L(f.utcYear,f.utcMonth,f.utcWeek,f.utcDay,f.utcHour,f.utcMinute,f.utcSecond,f.utcMillisecond,g.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},ea=function(a){return a.match(/.{6}/g).map(function(a){return"#"+a})},fa=ea("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ga=ea("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ha=ea("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),ia=ea("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ja=d.interpolateCubehelixLong(h.cubehelix(300,.5,0),h.cubehelix(-240,.5,1)),ka=d.interpolateCubehelixLong(h.cubehelix(-100,.75,.35),h.cubehelix(80,1.5,.8)),la=d.interpolateCubehelixLong(h.cubehelix(260,.75,.35),h.cubehelix(80,1.5,.8)),ma=h.cubehelix(),na=function(a){(0>a||a>1)&&(a-=Math.floor(a));var b=Math.abs(a-.5);return ma.h=360*a-100,ma.s=1.5-1.5*b,ma.l=.8-.9*b,ma+""},oa=M(ea("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),pa=M(ea("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),qa=M(ea("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ra=M(ea("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));a.scaleBand=j,a.scalePoint=l,a.scaleIdentity=v,a.scaleLinear=u,a.scaleLog=C,a.scaleOrdinal=i,a.scaleImplicit=R,a.scalePow=E,a.scaleSqrt=F,a.scaleQuantile=G,a.scaleQuantize=H,a.scaleThreshold=I,a.scaleTime=ca,a.scaleUtc=da,a.schemeCategory10=fa,a.schemeCategory20b=ga,a.schemeCategory20c=ha,a.schemeCategory20=ia,a.interpolateCubehelixDefault=ja,a.interpolateRainbow=na,a.interpolateWarm=ka,a.interpolateCool=la,a.interpolateViridis=oa,a.interpolateMagma=pa,a.interpolateInferno=qa,a.interpolatePlasma=ra,a.scaleSequential=N,Object.defineProperty(a,"__esModule",{value:!0
})})},{"d3-array":149,"d3-collection":151,"d3-color":152,"d3-format":157,"d3-interpolate":158,"d3-time":163,"d3-time-format":162}],161:[function(b,c,d){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(a){"use strict";function b(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===_&&b.documentElement.namespaceURI===_?b.createElement(a):b.createElementNS(c,a)}}function c(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function d(){return new e}function e(){this._="@"+(++da).toString(36)}function f(a,b,c){return a=g(a,b,c),function(b){var c=b.relatedTarget;c&&(c===this||8&c.compareDocumentPosition(this))||a.call(this,b)}}function g(b,c,d){return function(e){var f=a.event;a.event=e;try{b.call(this,this.__data__,c,d)}finally{a.event=f}}}function h(a){return a.trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");return c>=0&&(b=a.slice(c+1),a=a.slice(0,c)),{type:a,name:b}})}function i(a){return function(){var b=this.__on;if(b){for(var c,d=0,e=-1,f=b.length;f>d;++d)c=b[d],a.type&&c.type!==a.type||c.name!==a.name?b[++e]=c:this.removeEventListener(c.type,c.listener,c.capture);++e?b.length=e:delete this.__on}}}function j(a,b,c){var d=ia.hasOwnProperty(a.type)?f:g;return function(e,f,g){var h,i=this.__on,j=d(b,f,g);if(i)for(var k=0,l=i.length;l>k;++k)if((h=i[k]).type===a.type&&h.name===a.name)return this.removeEventListener(h.type,h.listener,h.capture),this.addEventListener(h.type,h.listener=j,h.capture=c),void(h.value=b);this.addEventListener(a.type,j,c),h={type:a.type,name:a.name,value:b,listener:j,capture:c},i?i.push(h):this.__on=[h]}}function k(b,c,d,e){var f=a.event;b.sourceEvent=a.event,a.event=b;try{return c.apply(d,e)}finally{a.event=f}}function l(){}function m(){return[]}function n(a,b){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=b}function o(a,b,c,d,e,f){for(var g,h=0,i=b.length,j=f.length;j>h;++h)(g=b[h])?(g.__data__=f[h],d[h]=g):c[h]=new n(a,f[h]);for(;i>h;++h)(g=b[h])&&(e[h]=g)}function p(a,b,c,d,e,f,g){var h,i,j,k={},l=b.length,m=f.length,o=new Array(l);for(h=0;l>h;++h)(i=b[h])&&(o[h]=j=wa+g.call(i,i.__data__,h,b),j in k?e[h]=i:k[j]=i);for(h=0;m>h;++h)j=wa+g.call(a,f[h],h,f),(i=k[j])?(d[h]=i,i.__data__=f[h],k[j]=null):c[h]=new n(a,f[h]);for(h=0;l>h;++h)(i=b[h])&&k[o[h]]===i&&(e[h]=i)}function q(a,b){return b>a?-1:a>b?1:a>=b?0:NaN}function r(a){return function(){this.removeAttribute(a)}}function s(a){return function(){this.removeAttributeNS(a.space,a.local)}}function t(a,b){return function(){this.setAttribute(a,b)}}function u(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function v(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}}function w(a,b){return function(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}function x(a){return function(){this.style.removeProperty(a)}}function y(a,b,c){return function(){this.style.setProperty(a,b,c)}}function z(a,b,c){return function(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}function A(a,b){return a.style.getPropertyValue(b)||Ja(a).getComputedStyle(a,null).getPropertyValue(b)}function B(a){return function(){delete this[a]}}function C(a,b){return function(){this[a]=b}}function D(a,b){return function(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}}function E(a){return a.trim().split(/^|\s+/)}function F(a){return a.classList||new G(a)}function G(a){this._node=a,this._names=E(a.getAttribute("class")||"")}function H(a,b){for(var c=F(a),d=-1,e=b.length;++d<e;)c.add(b[d])}function I(a,b){for(var c=F(a),d=-1,e=b.length;++d<e;)c.remove(b[d])}function J(a){return function(){H(this,a)}}function K(a){return function(){I(this,a)}}function L(a,b){return function(){(b.apply(this,arguments)?H:I)(this,a)}}function M(){this.textContent=""}function N(a){return function(){this.textContent=a}}function O(a){return function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}}function P(){this.innerHTML=""}function Q(a){return function(){this.innerHTML=a}}function R(a){return function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}}function S(){this.nextSibling&&this.parentNode.appendChild(this)}function T(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U(){return null}function V(){var a=this.parentNode;a&&a.removeChild(this)}function W(a,b,c){var d=Ja(a),e=d.CustomEvent;"function"==typeof e?e=new e(b,c):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable),e.detail=c.detail):e.initEvent(b,!1,!1)),a.dispatchEvent(e)}function X(a,b){return function(){return W(this,a,b)}}function Y(a,b){return function(){return W(this,a,b.apply(this,arguments))}}function Z(a,b){this._groups=a,this._parents=b}function $(){return new Z([[document.documentElement]],Wa)}var _="http://www.w3.org/1999/xhtml",aa={svg:"http://www.w3.org/2000/svg",xhtml:_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ba=function(a){var b=a+="",c=b.indexOf(":");return c>=0&&"xmlns"!==(b=a.slice(0,c))&&(a=a.slice(c+1)),aa.hasOwnProperty(b)?{space:aa[b],local:a}:a},ca=function(a){var d=ba(a);return(d.local?c:b)(d)},da=0;e.prototype=d.prototype={constructor:e,get:function(a){for(var b=this._;!(b in a);)if(!(a=a.parentNode))return;return a[b]},set:function(a,b){return a[this._]=b},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};var ea=function(a){return function(){return this.matches(a)}};if("undefined"!=typeof document){var fa=document.documentElement;if(!fa.matches){var ga=fa.webkitMatchesSelector||fa.msMatchesSelector||fa.mozMatchesSelector||fa.oMatchesSelector;ea=function(a){return function(){return ga.call(this,a)}}}}var ha=ea,ia={};if(a.event=null,"undefined"!=typeof document){var ja=document.documentElement;"onmouseenter"in ja||(ia={mouseenter:"mouseover",mouseleave:"mouseout"})}var ka=function(a,b,c){var d,e,f=h(a+""),g=f.length;{if(!(arguments.length<2)){for(k=b?j:i,null==c&&(c=!1),d=0;g>d;++d)this.each(k(f[d],b,c));return this}var k=this.node().__on;if(k)for(var l,m=0,n=k.length;n>m;++m)for(d=0,l=k[m];g>d;++d)if((e=f[d]).type===l.type&&e.name===l.name)return l.value}},la=function(){for(var b,c=a.event;b=c.sourceEvent;)c=b;return c},ma=function(a,b){var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();return d.x=b.clientX,d.y=b.clientY,d=d.matrixTransform(a.getScreenCTM().inverse()),[d.x,d.y]}var e=a.getBoundingClientRect();return[b.clientX-e.left-a.clientLeft,b.clientY-e.top-a.clientTop]},na=function(a){var b=la();return b.changedTouches&&(b=b.changedTouches[0]),ma(a,b)},oa=function(a){return null==a?l:function(){return this.querySelector(a)}},pa=function(a){"function"!=typeof a&&(a=oa(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;c>e;++e)for(var f,g,h=b[e],i=h.length,j=d[e]=new Array(i),k=0;i>k;++k)(f=h[k])&&(g=a.call(f,f.__data__,k,h))&&("__data__"in f&&(g.__data__=f.__data__),j[k]=g);return new Z(d,this._parents)},qa=function(a){return null==a?m:function(){return this.querySelectorAll(a)}},ra=function(a){"function"!=typeof a&&(a=qa(a));for(var b=this._groups,c=b.length,d=[],e=[],f=0;c>f;++f)for(var g,h=b[f],i=h.length,j=0;i>j;++j)(g=h[j])&&(d.push(a.call(g,g.__data__,j,h)),e.push(g));return new Z(d,e)},sa=function(a){"function"!=typeof a&&(a=ha(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;c>e;++e)for(var f,g=b[e],h=g.length,i=d[e]=[],j=0;h>j;++j)(f=g[j])&&a.call(f,f.__data__,j,g)&&i.push(f);return new Z(d,this._parents)},ta=function(a){return new Array(a.length)},ua=function(){return new Z(this._enter||this._groups.map(ta),this._parents)};n.prototype={constructor:n,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var va=function(a){return function(){return a}},wa="$",xa=function(a,b){if(!a)return n=new Array(this.size()),j=-1,this.each(function(a){n[++j]=a}),n;var c=b?p:o,d=this._parents,e=this._groups;"function"!=typeof a&&(a=va(a));for(var f=e.length,g=new Array(f),h=new Array(f),i=new Array(f),j=0;f>j;++j){var k=d[j],l=e[j],m=l.length,n=a.call(k,k&&k.__data__,j,d),q=n.length,r=h[j]=new Array(q),s=g[j]=new Array(q),t=i[j]=new Array(m);c(k,l,r,s,t,n,b);for(var u,v,w=0,x=0;q>w;++w)if(u=r[w]){for(w>=x&&(x=w+1);!(v=s[x])&&++x<q;);u._next=v||null}}return g=new Z(g,d),g._enter=h,g._exit=i,g},ya=function(){return new Z(this._exit||this._groups.map(ta),this._parents)},za=function(a){for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=new Array(d),h=0;f>h;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=new Array(l),n=0;l>n;++n)(i=j[n]||k[n])&&(m[n]=i);for(;d>h;++h)g[h]=b[h];return new Z(g,this._parents)},Aa=function(){for(var a=this._groups,b=-1,c=a.length;++b<c;)for(var d,e=a[b],f=e.length-1,g=e[f];--f>=0;)(d=e[f])&&(g&&g!==d.nextSibling&&g.parentNode.insertBefore(d,g),g=d);return this},Ba=function(a){function b(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}a||(a=q);for(var c=this._groups,d=c.length,e=new Array(d),f=0;d>f;++f){for(var g,h=c[f],i=h.length,j=e[f]=new Array(i),k=0;i>k;++k)(g=h[k])&&(j[k]=g);j.sort(b)}return new Z(e,this._parents).order()},Ca=function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},Da=function(){var a=new Array(this.size()),b=-1;return this.each(function(){a[++b]=this}),a},Ea=function(){for(var a=this._groups,b=0,c=a.length;c>b;++b)for(var d=a[b],e=0,f=d.length;f>e;++e){var g=d[e];if(g)return g}return null},Fa=function(){var a=0;return this.each(function(){++a}),a},Ga=function(){return!this.node()},Ha=function(a){for(var b=this._groups,c=0,d=b.length;d>c;++c)for(var e,f=b[c],g=0,h=f.length;h>g;++g)(e=f[g])&&a.call(e,e.__data__,g,f);return this},Ia=function(a,b){var c=ba(a);if(arguments.length<2){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((null==b?c.local?s:r:"function"==typeof b?c.local?w:v:c.local?u:t)(c,b))},Ja=function(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView},Ka=function(a,b,c){return arguments.length>1?this.each((null==b?x:"function"==typeof b?z:y)(a,b,null==c?"":c)):A(this.node(),a)},La=function(a,b){return arguments.length>1?this.each((null==b?B:"function"==typeof b?D:C)(a,b)):this.node()[a]};G.prototype={add:function(a){var b=this._names.indexOf(a);0>b&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var Ma=function(a,b){var c=E(a+"");if(arguments.length<2){for(var d=F(this.node()),e=-1,f=c.length;++e<f;)if(!d.contains(c[e]))return!1;return!0}return this.each(("function"==typeof b?L:b?J:K)(c,b))},Na=function(a){return arguments.length?this.each(null==a?M:("function"==typeof a?O:N)(a)):this.node().textContent},Oa=function(a){return arguments.length?this.each(null==a?P:("function"==typeof a?R:Q)(a)):this.node().innerHTML},Pa=function(){return this.each(S)},Qa=function(){return this.each(T)},Ra=function(a){var b="function"==typeof a?a:ca(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})},Sa=function(a,b){var c="function"==typeof a?a:ca(a),d=null==b?U:"function"==typeof b?b:oa(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})},Ta=function(){return this.each(V)},Ua=function(a){return arguments.length?this.property("__data__",a):this.node().__data__},Va=function(a,b){return this.each(("function"==typeof b?Y:X)(a,b))},Wa=[null];Z.prototype=$.prototype={constructor:Z,select:pa,selectAll:ra,filter:sa,data:xa,enter:ua,exit:ya,merge:za,order:Aa,sort:Ba,call:Ca,nodes:Da,node:Ea,size:Fa,empty:Ga,each:Ha,attr:Ia,style:Ka,property:La,classed:Ma,text:Na,html:Oa,raise:Pa,lower:Qa,append:Ra,insert:Sa,remove:Ta,datum:Ua,on:ka,dispatch:Va};var Xa=function(a){return"string"==typeof a?new Z([[document.querySelector(a)]],[document.documentElement]):new Z([[a]],Wa)},Ya=function(a){return"string"==typeof a?new Z([document.querySelectorAll(a)],[document.documentElement]):new Z([null==a?[]:a],Wa)},Za=function(a,b,c){arguments.length<3&&(c=b,b=la().changedTouches);for(var d,e=0,f=b?b.length:0;f>e;++e)if((d=b[e]).identifier===c)return ma(a,d);return null},$a=function(a,b){null==b&&(b=la().touches);for(var c=0,d=b?b.length:0,e=new Array(d);d>c;++c)e[c]=ma(a,b[c]);return e};a.creator=ca,a.local=d,a.matcher=ha,a.mouse=na,a.namespace=ba,a.namespaces=aa,a.select=Xa,a.selectAll=Ya,a.selection=$,a.selector=oa,a.selectorAll=qa,a.style=A,a.touch=Za,a.touches=$a,a.window=Ja,a.customEvent=k,Object.defineProperty(a,"__esModule",{value:!0})})},{}],162:[function(b,c,d){!function(e,f){"object"==typeof d&&"undefined"!=typeof c?f(d,b("d3-time")):"function"==typeof a&&a.amd?a(["exports","d3-time"],f):f(e.d3=e.d3||{},e.d3)}(this,function(a,b){"use strict";function c(a){if(0<=a.y&&a.y<100){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return b.setFullYear(a.y),b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function d(a){if(0<=a.y&&a.y<100){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return b.setUTCFullYear(a.y),b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function e(a){return{y:a,m:0,d:1,H:0,M:0,S:0,L:0}}function f(a){function b(a,b){return function(c){var d,e,f,g=[],h=-1,i=0,j=a.length;for(c instanceof Date||(c=new Date(+c));++h<j;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=da[d=a.charAt(++h)])?d=a.charAt(++h):e="e"===d?" ":"0",(f=b[d])&&(d=f(c,e)),g.push(d),i=h+1);return g.push(a.slice(i,h)),g.join("")}}function f(a,b){return function(c){var f=e(1900),h=g(f,a,c+="",0);if(h!=c.length)return null;if("p"in f&&(f.H=f.H%12+12*f.p),"W"in f||"U"in f){"w"in f||(f.w="W"in f?1:0);var i="Z"in f?d(e(f.y)).getUTCDay():b(e(f.y)).getDay();f.m=0,f.d="W"in f?(f.w+6)%7+7*f.W-(i+5)%7:f.w+7*f.U-(i+6)%7}return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,d(f)):b(f)}}function g(a,b,c,d){for(var e,f,g=0,h=b.length,i=c.length;h>g;){if(d>=i)return-1;if(e=b.charCodeAt(g++),37===e){if(e=b.charAt(g++),f=La[e in da?b.charAt(g++):e],!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function h(a,b,c){var d=za.exec(b.slice(c));return d?(a.p=Aa[d[0].toLowerCase()],c+d[0].length):-1}function _(a,b,c){var d=Da.exec(b.slice(c));return d?(a.w=Ea[d[0].toLowerCase()],c+d[0].length):-1}function aa(a,b,c){var d=Ba.exec(b.slice(c));return d?(a.w=Ca[d[0].toLowerCase()],c+d[0].length):-1}function ba(a,b,c){var d=Ha.exec(b.slice(c));return d?(a.m=Ia[d[0].toLowerCase()],c+d[0].length):-1}function ca(a,b,c){var d=Fa.exec(b.slice(c));return d?(a.m=Ga[d[0].toLowerCase()],c+d[0].length):-1}function ea(a,b,c){return g(a,ra,b,c)}function fa(a,b,c){return g(a,sa,b,c)}function ga(a,b,c){return g(a,ta,b,c)}function ha(a){return wa[a.getDay()]}function ia(a){return va[a.getDay()]}function ja(a){return ya[a.getMonth()]}function ka(a){return xa[a.getMonth()]}function la(a){return ua[+(a.getHours()>=12)]}function ma(a){return wa[a.getUTCDay()]}function na(a){return va[a.getUTCDay()]}function oa(a){return ya[a.getUTCMonth()]}function pa(a){return xa[a.getUTCMonth()]}function qa(a){return ua[+(a.getUTCHours()>=12)]}var ra=a.dateTime,sa=a.date,ta=a.time,ua=a.periods,va=a.days,wa=a.shortDays,xa=a.months,ya=a.shortMonths,za=i(ua),Aa=j(ua),Ba=i(va),Ca=j(va),Da=i(wa),Ea=j(wa),Fa=i(xa),Ga=j(xa),Ha=i(ya),Ia=j(ya),Ja={a:ha,A:ia,b:ja,B:ka,c:null,d:y,e:y,H:z,I:A,j:B,L:C,m:D,M:E,p:la,S:F,U:G,w:H,W:I,x:null,X:null,y:J,Y:K,Z:L,"%":$},Ka={a:ma,A:na,b:oa,B:pa,c:null,d:M,e:M,H:N,I:O,j:P,L:Q,m:R,M:S,p:qa,S:T,U:U,w:V,W:W,x:null,X:null,y:X,Y:Y,Z:Z,"%":$},La={a:_,A:aa,b:ba,B:ca,c:ea,d:r,e:r,H:t,I:t,j:s,L:w,m:q,M:u,p:h,S:v,U:l,w:k,W:m,x:fa,X:ga,y:o,Y:n,Z:p,"%":x};return Ja.x=b(sa,Ja),Ja.X=b(ta,Ja),Ja.c=b(ra,Ja),Ka.x=b(sa,Ka),Ka.X=b(ta,Ka),Ka.c=b(ra,Ka),{format:function(a){var c=b(a+="",Ja);return c.toString=function(){return a},c},parse:function(a){var b=f(a+="",c);return b.toString=function(){return a},b},utcFormat:function(a){var c=b(a+="",Ka);return c.toString=function(){return a},c},utcParse:function(a){var b=f(a,d);return b.toString=function(){return a},b}}}function g(a,b,c){var d=0>a?"-":"",e=(d?-a:a)+"",f=e.length;return d+(c>f?new Array(c-f+1).join(b)+e:e)}function h(a){return a.replace(ga,"\\$&")}function i(a){return new RegExp("^(?:"+a.map(h).join("|")+")","i")}function j(a){for(var b={},c=-1,d=a.length;++c<d;)b[a[c].toLowerCase()]=c;return b}function k(a,b,c){var d=ea.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function l(a,b,c){var d=ea.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function m(a,b,c){var d=ea.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function n(a,b,c){var d=ea.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function o(a,b,c){var d=ea.exec(b.slice(c,c+2));return d?(a.y=+d[0]+(+d[0]>68?1900:2e3),c+d[0].length):-1}function p(a,b,c){var d=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(b.slice(c,c+6));return d?(a.Z=d[1]?0:-(d[2]+(d[3]||"00")),c+d[0].length):-1}function q(a,b,c){var d=ea.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function r(a,b,c){var d=ea.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function s(a,b,c){var d=ea.exec(b.slice(c,c+3));return d?(a.m=0,a.d=+d[0],c+d[0].length):-1}function t(a,b,c){var d=ea.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function u(a,b,c){var d=ea.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function v(a,b,c){var d=ea.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function w(a,b,c){var d=ea.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function x(a,b,c){var d=fa.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function y(a,b){return g(a.getDate(),b,2)}function z(a,b){return g(a.getHours(),b,2)}function A(a,b){return g(a.getHours()%12||12,b,2)}function B(a,c){return g(1+b.timeDay.count(b.timeYear(a),a),c,3)}function C(a,b){return g(a.getMilliseconds(),b,3)}function D(a,b){return g(a.getMonth()+1,b,2)}function E(a,b){return g(a.getMinutes(),b,2)}function F(a,b){return g(a.getSeconds(),b,2)}function G(a,c){return g(b.timeSunday.count(b.timeYear(a),a),c,2)}function H(a){return a.getDay()}function I(a,c){return g(b.timeMonday.count(b.timeYear(a),a),c,2)}function J(a,b){return g(a.getFullYear()%100,b,2)}function K(a,b){return g(a.getFullYear()%1e4,b,4)}function L(a){var b=a.getTimezoneOffset();return(b>0?"-":(b*=-1,"+"))+g(b/60|0,"0",2)+g(b%60,"0",2)}function M(a,b){return g(a.getUTCDate(),b,2)}function N(a,b){return g(a.getUTCHours(),b,2)}function O(a,b){return g(a.getUTCHours()%12||12,b,2)}function P(a,c){return g(1+b.utcDay.count(b.utcYear(a),a),c,3)}function Q(a,b){return g(a.getUTCMilliseconds(),b,3)}function R(a,b){return g(a.getUTCMonth()+1,b,2)}function S(a,b){return g(a.getUTCMinutes(),b,2)}function T(a,b){return g(a.getUTCSeconds(),b,2)}function U(a,c){return g(b.utcSunday.count(b.utcYear(a),a),c,2)}function V(a){return a.getUTCDay()}function W(a,c){return g(b.utcMonday.count(b.utcYear(a),a),c,2)}function X(a,b){return g(a.getUTCFullYear()%100,b,2)}function Y(a,b){return g(a.getUTCFullYear()%1e4,b,4)}function Z(){return"+0000"}function $(){return"%"}function _(b){return ca=f(b),a.timeFormat=ca.format,a.timeParse=ca.parse,a.utcFormat=ca.utcFormat,a.utcParse=ca.utcParse,ca}function aa(a){return a.toISOString()}function ba(a){var b=new Date(a);return isNaN(b)?null:b}var ca,da={"-":"",_:" ",0:"0"},ea=/^\s*\d+/,fa=/^%/,ga=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var ha="%Y-%m-%dT%H:%M:%S.%LZ",ia=Date.prototype.toISOString?aa:a.utcFormat(ha),ja=+new Date("2000-01-01T00:00:00.000Z")?ba:a.utcParse(ha);a.timeFormatDefaultLocale=_,a.timeFormatLocale=f,a.isoFormat=ia,a.isoParse=ja,Object.defineProperty(a,"__esModule",{value:!0})})},{"d3-time":163}],163:[function(b,c,d){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(a){"use strict";function b(a,c,d,g){function h(b){return a(b=new Date(+b)),b}return h.floor=h,h.ceil=function(b){return a(b=new Date(b-1)),c(b,1),a(b),b},h.round=function(a){var b=h(a),c=h.ceil(a);return c-a>a-b?b:c},h.offset=function(a,b){return c(a=new Date(+a),null==b?1:Math.floor(b)),a},h.range=function(b,d,e){var f=[];if(b=h.ceil(b),e=null==e?1:Math.floor(e),!(d>b&&e>0))return f;do f.push(new Date(+b));while(c(b,e),a(b),d>b);return f},h.filter=function(d){return b(function(b){if(b>=b)for(;a(b),!d(b);)b.setTime(b-1)},function(a,b){if(a>=a)if(0>b)for(;++b<=0;)for(;c(a,-1),!d(a););else for(;--b>=0;)for(;c(a,1),!d(a););})},d&&(h.count=function(b,c){return e.setTime(+b),f.setTime(+c),a(e),a(f),Math.floor(d(e,f))},h.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?h.filter(g?function(b){return g(b)%a===0}:function(b){return h.count(0,b)%a===0}):h:null}),h}function c(a){return b(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7),b.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+7*b)},function(a,b){return(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*j)/m})}function d(a){return b(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7),b.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+7*b)},function(a,b){return(b-a)/m})}var e=new Date,f=new Date,g=b(function(){},function(a,b){a.setTime(+a+b)},function(a,b){return b-a});g.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?b(function(b){b.setTime(Math.floor(b/a)*a)},function(b,c){b.setTime(+b+c*a)},function(b,c){return(c-b)/a}):g:null};var h=g.range,i=1e3,j=6e4,k=36e5,l=864e5,m=6048e5,n=b(function(a){a.setTime(Math.floor(a/i)*i)},function(a,b){a.setTime(+a+b*i)},function(a,b){return(b-a)/i},function(a){return a.getUTCSeconds()}),o=n.range,p=b(function(a){a.setTime(Math.floor(a/j)*j)},function(a,b){a.setTime(+a+b*j)},function(a,b){return(b-a)/j},function(a){return a.getMinutes()}),q=p.range,r=b(function(a){var b=a.getTimezoneOffset()*j%k;0>b&&(b+=k),a.setTime(Math.floor((+a-b)/k)*k+b)},function(a,b){a.setTime(+a+b*k)},function(a,b){return(b-a)/k},function(a){return a.getHours()}),s=r.range,t=b(function(a){a.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+b)},function(a,b){return(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*j)/l},function(a){return a.getDate()-1}),u=t.range,v=c(0),w=c(1),x=c(2),y=c(3),z=c(4),A=c(5),B=c(6),C=v.range,D=w.range,E=x.range,F=y.range,G=z.range,H=A.range,I=B.range,J=b(function(a){a.setDate(1),a.setHours(0,0,0,0)},function(a,b){a.setMonth(a.getMonth()+b)},function(a,b){return b.getMonth()-a.getMonth()+12*(b.getFullYear()-a.getFullYear())},function(a){return a.getMonth()}),K=J.range,L=b(function(a){a.setMonth(0,1),a.setHours(0,0,0,0)},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a,b){return b.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});L.every=function(a){return isFinite(a=Math.floor(a))&&a>0?b(function(b){b.setFullYear(Math.floor(b.getFullYear()/a)*a),b.setMonth(0,1),b.setHours(0,0,0,0)},function(b,c){b.setFullYear(b.getFullYear()+c*a)}):null};var M=L.range,N=b(function(a){a.setUTCSeconds(0,0)},function(a,b){a.setTime(+a+b*j)},function(a,b){return(b-a)/j},function(a){return a.getUTCMinutes()}),O=N.range,P=b(function(a){a.setUTCMinutes(0,0,0)},function(a,b){a.setTime(+a+b*k)},function(a,b){return(b-a)/k},function(a){return a.getUTCHours()}),Q=P.range,R=b(function(a){a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+b)},function(a,b){return(b-a)/l},function(a){return a.getUTCDate()-1}),S=R.range,T=d(0),U=d(1),V=d(2),W=d(3),X=d(4),Y=d(5),Z=d(6),$=T.range,_=U.range,aa=V.range,ba=W.range,ca=X.range,da=Y.range,ea=Z.range,fa=b(function(a){a.setUTCDate(1),a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCMonth(a.getUTCMonth()+b)},function(a,b){return b.getUTCMonth()-a.getUTCMonth()+12*(b.getUTCFullYear()-a.getUTCFullYear())},function(a){return a.getUTCMonth()}),ga=fa.range,ha=b(function(a){a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCFullYear(a.getUTCFullYear()+b)},function(a,b){return b.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});ha.every=function(a){return isFinite(a=Math.floor(a))&&a>0?b(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a),b.setUTCMonth(0,1),b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCFullYear(b.getUTCFullYear()+c*a)}):null};var ia=ha.range;a.timeInterval=b,a.timeMillisecond=g,a.timeMilliseconds=h,a.utcMillisecond=g,a.utcMilliseconds=h,a.timeSecond=n,a.timeSeconds=o,a.utcSecond=n,a.utcSeconds=o,a.timeMinute=p,a.timeMinutes=q,a.timeHour=r,a.timeHours=s,a.timeDay=t,a.timeDays=u,a.timeWeek=v,a.timeWeeks=C,a.timeSunday=v,a.timeSundays=C,a.timeMonday=w,a.timeMondays=D,a.timeTuesday=x,a.timeTuesdays=E,a.timeWednesday=y,a.timeWednesdays=F,a.timeThursday=z,a.timeThursdays=G,a.timeFriday=A,a.timeFridays=H,a.timeSaturday=B,a.timeSaturdays=I,a.timeMonth=J,a.timeMonths=K,a.timeYear=L,a.timeYears=M,a.utcMinute=N,a.utcMinutes=O,a.utcHour=P,a.utcHours=Q,a.utcDay=R,a.utcDays=S,a.utcWeek=T,a.utcWeeks=$,a.utcSunday=T,a.utcSundays=$,a.utcMonday=U,a.utcMondays=_,a.utcTuesday=V,a.utcTuesdays=aa,a.utcWednesday=W,a.utcWednesdays=ba,a.utcThursday=X,a.utcThursdays=ca,a.utcFriday=Y,a.utcFridays=da,a.utcSaturday=Z,a.utcSaturdays=ea,a.utcMonth=fa,a.utcMonths=ga,a.utcYear=ha,a.utcYears=ia,Object.defineProperty(a,"__esModule",{value:!0})})},{}],164:[function(b,c,d){!function(b,e){"object"==typeof d&&"undefined"!=typeof c?e(d):"function"==typeof a&&a.amd?a(["exports"],e):e(b.d3=b.d3||{})}(this,function(a){"use strict";function b(){return r||(u(c),r=t.now()+s)}function c(){r=0}function d(){this._call=this._time=this._next=null}function e(a,b,c){var e=new d;return e.restart(a,b,c),e}function f(){b(),++m;for(var a,c=k;c;)(a=r-c._time)>=0&&c._call.call(null,a),c=c._next;--m}function g(){r=(q=t.now())+s,m=n=0;try{f()}finally{m=0,i(),r=0}}function h(){var a=t.now(),b=a-q;b>p&&(s-=b,q=a)}function i(){for(var a,b,c=k,d=1/0;c;)c._call?(d>c._time&&(d=c._time),a=c,c=c._next):(b=c._next,c._next=null,c=a?a._next=b:k=b);l=a,j(d)}function j(a){if(!m){n&&(n=clearTimeout(n));var b=a-r;b>24?(1/0>a&&(n=setTimeout(g,b)),o&&(o=clearInterval(o))):(o||(q=r,o=setInterval(h,p)),m=1,u(g))}}var k,l,m=0,n=0,o=0,p=1e3,q=0,r=0,s=0,t="object"==typeof performance&&performance.now?performance:Date,u="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};d.prototype=e.prototype={constructor:d,restart:function(a,c,d){if("function"!=typeof a)throw new TypeError("callback is not a function");d=(null==d?b():+d)+(null==c?0:+c),this._next||l===this||(l?l._next=this:k=this,l=this),this._call=a,this._time=d,j()},stop:function(){this._call&&(this._call=null,this._time=1/0,j())}};var v=function(a,b,c){var e=new d;return b=null==b?0:+b,e.restart(function(c){e.stop(),a(c+b)},b,c),e},w=function(a,c,e){var f=new d,g=c;return null==c?(f.restart(a,c,e),f):(c=+c,e=null==e?b():+e,f.restart(function h(b){b+=g,f.restart(h,g+=c,e),a(b)},c,e),f)};a.now=b,a.timer=e,a.timerFlush=f,a.timeout=v,a.interval=w,Object.defineProperty(a,"__esModule",{value:!0})})},{}],165:[function(b,c,d){!function(e,f){"object"==typeof d&&"undefined"!=typeof c?f(d,b("d3-selection"),b("d3-dispatch"),b("d3-timer"),b("d3-interpolate"),b("d3-color"),b("d3-ease")):"function"==typeof a&&a.amd?a(["exports","d3-selection","d3-dispatch","d3-timer","d3-interpolate","d3-color","d3-ease"],f):f(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3)}(this,function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=a.__transition;if(!c||!(c=c[b])||c.state>R)throw new Error("too late");return c}function i(a,b){var c=a.__transition;if(!c||!(c=c[b])||c.state>T)throw new Error("too late");return c}function j(a,b){var c=a.__transition;if(!c||!(c=c[b]))throw new Error("too late");return c}function k(a,b,c){function e(a){c.state=S,c.timer.restart(f,c.delay,c.time),c.delay<=a&&f(a-c.delay)}function f(e){var k,l,m,n;if(c.state!==S)return h();for(k in j)if(n=j[k],n.name===c.name){if(n.state===U)return d.timeout(f);n.state===V?(n.state=X,n.timer.stop(),n.on.call("interrupt",a,a.__data__,n.index,n.group),delete j[k]):b>+k&&(n.state=X,n.timer.stop(),delete j[k])}if(d.timeout(function(){c.state===U&&(c.state=V,c.timer.restart(g,c.delay,c.time),g(e))}),c.state=T,c.on.call("start",a,a.__data__,c.index,c.group),c.state===T){for(c.state=U,i=new Array(m=c.tween.length),k=0,l=-1;m>k;++k)(n=c.tween[k].value.call(a,a.__data__,c.index,c.group))&&(i[++l]=n);i.length=l+1}}function g(b){for(var d=b<c.duration?c.ease.call(null,b/c.duration):(c.timer.restart(h),c.state=W,1),e=-1,f=i.length;++e<f;)i[e].call(null,d);c.state===W&&(c.on.call("end",a,a.__data__,c.index,c.group),h())}function h(){c.state=X,c.timer.stop(),delete j[b];for(var d in j)return;delete a.__transition}var i,j=a.__transition;j[b]=c,c.timer=d.timer(e,0,c.time)}function l(a,b){var c,d;return function(){var e=i(this,a),f=e.tween;if(f!==c){d=c=f;for(var g=0,h=d.length;h>g;++g)if(d[g].name===b){d=d.slice(),d.splice(g,1);break}}e.tween=d}}function m(a,b,c){var d,e;if("function"!=typeof c)throw new Error;return function(){var f=i(this,a),g=f.tween;if(g!==d){e=(d=g).slice();for(var h={name:b,value:c},j=0,k=e.length;k>j;++j)if(e[j].name===b){e[j]=h;break}j===k&&e.push(h)}f.tween=e}}function n(a,b,c){var d=a._id;return a.each(function(){var a=i(this,d);(a.value||(a.value={}))[b]=c.apply(this,arguments)}),function(a){return j(a,d).value[b]}}function o(a){return function(){this.removeAttribute(a)}}function p(a){return function(){this.removeAttributeNS(a.space,a.local)}}function q(a,b,c){var d,e;return function(){var f=this.getAttribute(a);return f===c?null:f===d?e:e=b(d=f,c)}}function r(a,b,c){var d,e;return function(){var f=this.getAttributeNS(a.space,a.local);return f===c?null:f===d?e:e=b(d=f,c)}}function s(a,b,c){var d,e,f;return function(){var g,h=c(this);return null==h?void this.removeAttribute(a):(g=this.getAttribute(a),g===h?null:g===d&&h===e?f:f=b(d=g,e=h))}}function t(a,b,c){var d,e,f;return function(){var g,h=c(this);return null==h?void this.removeAttributeNS(a.space,a.local):(g=this.getAttributeNS(a.space,a.local),g===h?null:g===d&&h===e?f:f=b(d=g,e=h))}}function u(a,b){function c(){var c=this,d=b.apply(c,arguments);return d&&function(b){c.setAttributeNS(a.space,a.local,d(b))}}return c._value=b,c}function v(a,b){function c(){var c=this,d=b.apply(c,arguments);return d&&function(b){c.setAttribute(a,d(b))}}return c._value=b,c}function w(a,b){return function(){h(this,a).delay=+b.apply(this,arguments)}}function x(a,b){return b=+b,function(){h(this,a).delay=b}}function y(a,b){return function(){i(this,a).duration=+b.apply(this,arguments)}}function z(a,b){return b=+b,function(){i(this,a).duration=b}}function A(a,b){if("function"!=typeof b)throw new Error;return function(){i(this,a).ease=b}}function B(a){return(a+"").trim().split(/^|\s+/).every(function(a){var b=a.indexOf(".");return b>=0&&(a=a.slice(0,b)),!a||"start"===a})}function C(a,b,c){var d,e,f=B(b)?h:i;return function(){var g=f(this,a),h=g.on;h!==d&&(e=(d=h).copy()).on(b,c),g.on=e}}function D(a){return function(){
var b=this.parentNode;for(var c in this.__transition)if(+c!==a)return;b&&b.removeChild(this)}}function E(a,c){var d,e,f;return function(){var g=b.style(this,a),h=(this.style.removeProperty(a),b.style(this,a));return g===h?null:g===d&&h===e?f:f=c(d=g,e=h)}}function F(a){return function(){this.style.removeProperty(a)}}function G(a,c,d){var e,f;return function(){var g=b.style(this,a);return g===d?null:g===e?f:f=c(e=g,d)}}function H(a,c,d){var e,f,g;return function(){var h=b.style(this,a),i=d(this);return null==i&&(this.style.removeProperty(a),i=b.style(this,a)),h===i?null:h===e&&i===f?g:g=c(e=h,f=i)}}function I(a,b,c){function d(){var d=this,e=b.apply(d,arguments);return e&&function(b){d.style.setProperty(a,e(b),c)}}return d._value=b,d}function J(a){return function(){this.textContent=a}}function K(a){return function(){var b=a(this);this.textContent=null==b?"":b}}function L(a,b,c,d){this._groups=a,this._parents=b,this._name=c,this._id=d}function M(a){return b.selection().transition(a)}function N(){return++sa}function O(a,b){for(var c;!(c=a.__transition)||!(c=c[b]);)if(!(a=a.parentNode))return ua.time=d.now(),ua;return c}var P=c.dispatch("start","end","interrupt"),Q=[],R=0,S=1,T=2,U=3,V=4,W=5,X=6,Y=function(a,b,c,d,e,f){var g=a.__transition;if(g){if(c in g)return}else a.__transition={};k(a,c,{name:b,index:d,group:e,on:P,tween:Q,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:R})},Z=function(a,b){var c,d,e,f=a.__transition,g=!0;if(f){b=null==b?null:b+"";for(e in f)(c=f[e]).name===b?(d=c.state>T&&c.state<W,c.state=X,c.timer.stop(),d&&c.on.call("interrupt",a,a.__data__,c.index,c.group),delete f[e]):g=!1;g&&delete a.__transition}},$=function(a){return this.each(function(){Z(this,a)})},_=function(a,b){var c=this._id;if(a+="",arguments.length<2){for(var d,e=j(this.node(),c).tween,f=0,g=e.length;g>f;++f)if((d=e[f]).name===a)return d.value;return null}return this.each((null==b?l:m)(c,a,b))},aa=function(a,b){var c;return("number"==typeof b?e.interpolateNumber:b instanceof f.color?e.interpolateRgb:(c=f.color(b))?(b=c,e.interpolateRgb):e.interpolateString)(a,b)},ba=function(a,c){var d=b.namespace(a),f="transform"===d?e.interpolateTransformSvg:aa;return this.attrTween(a,"function"==typeof c?(d.local?t:s)(d,f,n(this,"attr."+a,c)):null==c?(d.local?p:o)(d):(d.local?r:q)(d,f,c+""))},ca=function(a,c){var d="attr."+a;if(arguments.length<2)return(d=this.tween(d))&&d._value;if(null==c)return this.tween(d,null);if("function"!=typeof c)throw new Error;var e=b.namespace(a);return this.tween(d,(e.local?u:v)(e,c))},da=function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?w:x)(b,a)):j(this.node(),b).delay},ea=function(a){var b=this._id;return arguments.length?this.each(("function"==typeof a?y:z)(b,a)):j(this.node(),b).duration},fa=function(a){var b=this._id;return arguments.length?this.each(A(b,a)):j(this.node(),b).ease},ga=function(a){"function"!=typeof a&&(a=b.matcher(a));for(var c=this._groups,d=c.length,e=new Array(d),f=0;d>f;++f)for(var g,h=c[f],i=h.length,j=e[f]=[],k=0;i>k;++k)(g=h[k])&&a.call(g,g.__data__,k,h)&&j.push(g);return new L(e,this._parents,this._name,this._id)},ha=function(a){if(a._id!==this._id)throw new Error;for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=new Array(d),h=0;f>h;++h)for(var i,j=b[h],k=c[h],l=j.length,m=g[h]=new Array(l),n=0;l>n;++n)(i=j[n]||k[n])&&(m[n]=i);for(;d>h;++h)g[h]=b[h];return new L(g,this._parents,this._name,this._id)},ia=function(a,b){var c=this._id;return arguments.length<2?j(this.node(),c).on.on(a):this.each(C(c,a,b))},ja=function(){return this.on("end.remove",D(this._id))},ka=function(a){var c=this._name,d=this._id;"function"!=typeof a&&(a=b.selector(a));for(var e=this._groups,f=e.length,g=new Array(f),h=0;f>h;++h)for(var i,k,l=e[h],m=l.length,n=g[h]=new Array(m),o=0;m>o;++o)(i=l[o])&&(k=a.call(i,i.__data__,o,l))&&("__data__"in i&&(k.__data__=i.__data__),n[o]=k,Y(n[o],c,d,o,n,j(i,d)));return new L(g,this._parents,c,d)},la=function(a){var c=this._name,d=this._id;"function"!=typeof a&&(a=b.selectorAll(a));for(var e=this._groups,f=e.length,g=[],h=[],i=0;f>i;++i)for(var k,l=e[i],m=l.length,n=0;m>n;++n)if(k=l[n]){for(var o,p=a.call(k,k.__data__,n,l),q=j(k,d),r=0,s=p.length;s>r;++r)(o=p[r])&&Y(o,c,d,r,p,q);g.push(p),h.push(k)}return new L(g,h,c,d)},ma=b.selection.prototype.constructor,na=function(){return new ma(this._groups,this._parents)},oa=function(a,b,c){var d="transform"==(a+="")?e.interpolateTransformCss:aa;return null==b?this.styleTween(a,E(a,d)).on("end.style."+a,F(a)):this.styleTween(a,"function"==typeof b?H(a,d,n(this,"style."+a,b)):G(a,d,b+""),c)},pa=function(a,b,c){var d="style."+(a+="");if(arguments.length<2)return(d=this.tween(d))&&d._value;if(null==b)return this.tween(d,null);if("function"!=typeof b)throw new Error;return this.tween(d,I(a,b,null==c?"":c))},qa=function(a){return this.tween("text","function"==typeof a?K(n(this,"text",a)):J(null==a?"":a+""))},ra=function(){for(var a=this._name,b=this._id,c=N(),d=this._groups,e=d.length,f=0;e>f;++f)for(var g,h=d[f],i=h.length,k=0;i>k;++k)if(g=h[k]){var l=j(g,b);Y(g,a,c,k,h,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new L(d,this._parents,a,c)},sa=0,ta=b.selection.prototype;L.prototype=M.prototype={constructor:L,select:ka,selectAll:la,filter:ga,merge:ha,selection:na,transition:ra,call:ta.call,nodes:ta.nodes,node:ta.node,size:ta.size,empty:ta.empty,each:ta.each,on:ia,attr:ba,attrTween:ca,style:oa,styleTween:pa,text:qa,remove:ja,tween:_,delay:da,duration:ea,ease:fa};var ua={time:null,delay:0,duration:250,ease:g.easeCubicInOut},va=function(a){var b,c;a instanceof L?(b=a._id,a=a._name):(b=N(),(c=ua).time=d.now(),a=null==a?null:a+"");for(var e=this._groups,f=e.length,g=0;f>g;++g)for(var h,i=e[g],j=i.length,k=0;j>k;++k)(h=i[k])&&Y(h,a,b,k,i,c||O(h,b));return new L(e,this._parents,a,b)};b.selection.prototype.interrupt=$,b.selection.prototype.transition=va;var wa=[null],xa=function(a,b){var c,d,e=a.__transition;if(e){b=null==b?null:b+"";for(d in e)if((c=e[d]).state>S&&c.name===b)return new L([[a]],wa,b,+d)}return null};a.transition=M,a.active=xa,a.interrupt=Z,Object.defineProperty(a,"__esModule",{value:!0})})},{"d3-color":152,"d3-dispatch":153,"d3-ease":156,"d3-interpolate":158,"d3-selection":161,"d3-timer":164}],166:[function(b,c,d){!function(e,f){"object"==typeof d&&"undefined"!=typeof c?f(d,b("d3-dispatch"),b("d3-drag"),b("d3-interpolate"),b("d3-selection"),b("d3-transition")):"function"==typeof a&&a.amd?a(["exports","d3-dispatch","d3-drag","d3-interpolate","d3-selection","d3-transition"],f):f(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3)}(this,function(a,b,c,d,e,f){"use strict";function g(a,b,c){this.target=a,this.type=b,this.transform=c}function h(a,b,c){this.k=a,this.x=b,this.y=c}function i(a){return a.__zoom||p}function j(){e.event.stopImmediatePropagation()}function k(){return!e.event.button}function l(){var a,b,c=this;return c instanceof SVGElement?(c=c.ownerSVGElement||c,a=c.width.baseVal.value,b=c.height.baseVal.value):(a=c.clientWidth,b=c.clientHeight),[[0,0],[a,b]]}function m(){return this.__zoom||p}function n(){return-e.event.deltaY*(e.event.deltaMode?120:1)/500}var o=function(a){return function(){return a}};h.prototype={constructor:h,scale:function(a){return 1===a?this:new h(this.k*a,this.x,this.y)},translate:function(a,b){return 0===a&0===b?this:new h(this.k,this.x+this.k*a,this.y+this.k*b)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var p=new h(1,0,0);i.prototype=h.prototype;var q=function(){e.event.preventDefault(),e.event.stopImmediatePropagation()},r=function(){function a(a){a.on("wheel.zoom",w).on("mousedown.zoom",x).on("dblclick.zoom",y).on("touchstart.zoom",z).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",m)}function i(a,b){return b=Math.max(H,Math.min(I,b)),b===a.k?a:new h(b,a.x,a.y)}function p(a,b,c){var d=b[0]-c[0]*a.k,e=b[1]-c[1]*a.k;return d===a.x&&e===a.y?a:new h(a.k,d,e)}function r(a,b){var c=a.invertX(b[0][0])-J,d=a.invertX(b[1][0])-K,e=a.invertY(b[0][1])-L,f=a.invertY(b[1][1])-M;return a.translate(d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d),f>e?(e+f)/2:Math.min(0,e)||Math.max(0,f))}function s(a){return[(+a[0][0]+ +a[1][0])/2,(+a[0][1]+ +a[1][1])/2]}function t(a,b,c){a.on("start.zoom",function(){u(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){u(this,arguments).end()}).tween("zoom",function(){var a=this,d=arguments,e=u(a,d),f=F.apply(a,d),g=c||s(f),i=Math.max(f[1][0]-f[0][0],f[1][1]-f[0][1]),j=a.__zoom,k="function"==typeof b?b.apply(a,d):b,l=O(j.invert(g).concat(i/j.k),k.invert(g).concat(i/k.k));return function(a){if(1===a)a=k;else{var b=l(a),c=i/b[2];a=new h(c,g[0]-b[0]*c,g[1]-b[1]*c)}e.zoom(null,a)}})}function u(a,b){for(var c,d=0,e=P.length;e>d;++d)if((c=P[d]).that===a)return c;return new v(a,b)}function v(a,b){this.that=a,this.args=b,this.index=-1,this.active=0,this.extent=F.apply(a,b)}function w(){function a(){b.wheel=null,b.end()}if(E.apply(this,arguments)){var b=u(this,arguments),c=this.__zoom,d=Math.max(H,Math.min(I,c.k*Math.pow(2,G.apply(this,arguments)))),g=e.mouse(this);if(b.wheel)(b.mouse[0][0]!==g[0]||b.mouse[0][1]!==g[1])&&(b.mouse[1]=c.invert(b.mouse[0]=g)),clearTimeout(b.wheel);else{if(c.k===d)return;b.mouse=[g,c.invert(g)],f.interrupt(this),b.start()}q(),b.wheel=setTimeout(a,S),b.zoom("mouse",r(p(i(c,d),b.mouse[0],b.mouse[1]),b.extent))}}function x(){function a(){if(q(),!d.moved){var a=e.event.clientX-i,b=e.event.clientY-k;d.moved=a*a+b*b>T}d.zoom("mouse",r(p(d.that.__zoom,d.mouse[0]=e.mouse(d.that),d.mouse[1]),d.extent))}function b(){g.on("mousemove.zoom mouseup.zoom",null),c.dragEnable(e.event.view,d.moved),q(),d.end()}if(!D&&E.apply(this,arguments)){var d=u(this,arguments),g=e.select(e.event.view).on("mousemove.zoom",a,!0).on("mouseup.zoom",b,!0),h=e.mouse(this),i=e.event.clientX,k=e.event.clientY;c.dragDisable(e.event.view),j(),d.mouse=[h,this.__zoom.invert(h)],f.interrupt(this),d.start()}}function y(){if(E.apply(this,arguments)){var b=this.__zoom,c=e.mouse(this),d=b.invert(c),f=b.k*(e.event.shiftKey?.5:2),g=r(p(i(b,f),c,d),F.apply(this,arguments));q(),N>0?e.select(this).transition().duration(N).call(t,g,c):e.select(this).call(a.transform,g)}}function z(){if(E.apply(this,arguments)){var a,b,c,d,g=u(this,arguments),h=e.event.changedTouches,i=h.length;for(j(),b=0;i>b;++b)c=h[b],d=e.touch(this,h,c.identifier),d=[d,this.__zoom.invert(d),c.identifier],g.touch0?g.touch1||(g.touch1=d):(g.touch0=d,a=!0);return C&&(C=clearTimeout(C),!g.touch1)?(g.end(),d=e.select(this).on("dblclick.zoom"),void(d&&d.apply(this,arguments))):void(a&&(C=setTimeout(function(){C=null},R),f.interrupt(this),g.start()))}}function A(){var a,b,c,d,f=u(this,arguments),g=e.event.changedTouches,h=g.length;for(q(),C&&(C=clearTimeout(C)),a=0;h>a;++a)b=g[a],c=e.touch(this,g,b.identifier),f.touch0&&f.touch0[2]===b.identifier?f.touch0[0]=c:f.touch1&&f.touch1[2]===b.identifier&&(f.touch1[0]=c);if(b=f.that.__zoom,f.touch1){var j=f.touch0[0],k=f.touch0[1],l=f.touch1[0],m=f.touch1[1],n=(n=l[0]-j[0])*n+(n=l[1]-j[1])*n,o=(o=m[0]-k[0])*o+(o=m[1]-k[1])*o;b=i(b,Math.sqrt(n/o)),c=[(j[0]+l[0])/2,(j[1]+l[1])/2],d=[(k[0]+m[0])/2,(k[1]+m[1])/2]}else{if(!f.touch0)return;c=f.touch0[0],d=f.touch0[1]}f.zoom("touch",r(p(b,c,d),f.extent))}function B(){var a,b,c=u(this,arguments),d=e.event.changedTouches,f=d.length;for(j(),D&&clearTimeout(D),D=setTimeout(function(){D=null},R),a=0;f>a;++a)b=d[a],c.touch0&&c.touch0[2]===b.identifier?delete c.touch0:c.touch1&&c.touch1[2]===b.identifier&&delete c.touch1;c.touch1&&!c.touch0&&(c.touch0=c.touch1,delete c.touch1),c.touch0?c.touch0[1]=this.__zoom.invert(c.touch0[0]):c.end()}var C,D,E=k,F=l,G=n,H=0,I=1/0,J=-I,K=I,L=J,M=K,N=250,O=d.interpolateZoom,P=[],Q=b.dispatch("start","zoom","end"),R=500,S=150,T=0;return a.transform=function(a,b){var c=a.selection?a.selection():a;c.property("__zoom",m),a!==c?t(a,b):c.interrupt().each(function(){u(this,arguments).start().zoom(null,"function"==typeof b?b.apply(this,arguments):b).end()})},a.scaleBy=function(b,c){a.scaleTo(b,function(){var a=this.__zoom.k,b="function"==typeof c?c.apply(this,arguments):c;return a*b})},a.scaleTo=function(b,c){a.transform(b,function(){var a=F.apply(this,arguments),b=this.__zoom,d=s(a),e=b.invert(d),f="function"==typeof c?c.apply(this,arguments):c;return r(p(i(b,f),d,e),a)})},a.translateBy=function(b,c,d){a.transform(b,function(){return r(this.__zoom.translate("function"==typeof c?c.apply(this,arguments):c,"function"==typeof d?d.apply(this,arguments):d),F.apply(this,arguments))})},v.prototype={start:function(){return 1===++this.active&&(this.index=P.push(this)-1,this.emit("start")),this},zoom:function(a,b){return this.mouse&&"mouse"!==a&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&"touch"!==a&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&"touch"!==a&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return 0===--this.active&&(P.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(b){e.customEvent(new g(a,b,this.that.__zoom),Q.apply,Q,[b,this.that,this.args])}},a.wheelDelta=function(b){return arguments.length?(G="function"==typeof b?b:o(+b),a):G},a.filter=function(b){return arguments.length?(E="function"==typeof b?b:o(!!b),a):E},a.extent=function(b){return arguments.length?(F="function"==typeof b?b:o([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),a):F},a.scaleExtent=function(b){return arguments.length?(H=+b[0],I=+b[1],a):[H,I]},a.translateExtent=function(b){return arguments.length?(J=+b[0][0],K=+b[1][0],L=+b[0][1],M=+b[1][1],a):[[J,L],[K,M]]},a.duration=function(b){return arguments.length?(N=+b,a):N},a.interpolate=function(b){return arguments.length?(O=b,a):O},a.on=function(){var b=Q.on.apply(Q,arguments);return b===Q?a:b},a.clickDistance=function(b){return arguments.length?(T=(b=+b)*b,a):Math.sqrt(T)},a};a.zoom=r,a.zoomTransform=i,a.zoomIdentity=p,Object.defineProperty(a,"__esModule",{value:!0})})},{"d3-dispatch":153,"d3-drag":154,"d3-interpolate":158,"d3-selection":161,"d3-transition":165}],167:[function(b,c,d){var e=e||function(a){"use strict";if(!("undefined"==typeof a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},g=/constructor/i.test(a.HTMLElement)||a.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=4e4,l=function(a){var b=function(){"string"==typeof a?c().revokeObjectURL(a):a.remove()};setTimeout(b,k)},m=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(f){i(f)}}},n=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},o=function(b,i,k){k||(b=n(b));var o,p=this,q=b.type,r=q===j,s=function(){m(p,"writestart progress write writeend".split(" "))},t=function(){if((h||r&&g)&&a.FileReader){var d=new FileReader;return d.onloadend=function(){var b=h?d.result:d.result.replace(/^data:[^;]*;/,"data:attachment/file;"),c=a.open(b,"_blank");c||(a.location.href=b),b=void 0,p.readyState=p.DONE,s()},d.readAsDataURL(b),void(p.readyState=p.INIT)}if(o||(o=c().createObjectURL(b)),r)a.location.href=o;else{var e=a.open(o,"_blank");e||(a.location.href=o)}p.readyState=p.DONE,s(),l(o)};return p.readyState=p.INIT,e?(o=c().createObjectURL(b),void setTimeout(function(){d.href=o,d.download=i,f(d),s(),l(o),p.readyState=p.DONE})):void t()},p=o.prototype,q=function(a,b,c){return new o(a,b||a.name||"download",c)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,c){return b=b||a.name||"download",c||(a=n(a)),navigator.msSaveOrOpenBlob(a,b)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,q)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof c&&c.exports?c.exports.saveAs=e:"undefined"!=typeof a&&null!==a&&null!==a.amd&&a("FileSaver.js",function(){return e})},{}],168:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]={workerPath:"{{JSNETWORKX_BUNDLE}}"},b.exports=c["default"]},{}],169:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("lodash/collection/shuffle"),f=d(e),g=a("lodash/collection/sample"),h=d(g);c["default"]={shuffle:f["default"],sample:h["default"]},b.exports=c["default"]},{"babel-runtime/helpers/interop-require-default":55,"lodash/collection/sample":254,"lodash/collection/shuffle":255}],170:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/create-class")["default"],e=a("babel-runtime/helpers/class-call-check")["default"],f=a("babel-runtime/helpers/sliced-to-array")["default"],g=a("babel-runtime/core-js/object/create")["default"],h=a("babel-runtime/core-js/get-iterator")["default"],i=a("babel-runtime/regenerator")["default"],j=a("babel-runtime/core-js/symbol/iterator")["default"],k=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var l=a("./clear"),m=k(l),n=a("./isIterable"),o=k(n),p=a("lodash/lang/isFunction"),q=k(p),r=a("lodash/lang/isObject"),s=k(r),t=a("./isArrayLike"),u=k(t),v=a("lodash/collection/size"),w=k(v),x=function(){function a(b){if(e(this,a),this._stringValues=g(null),this._numberValues=g(null),this._values=g(null),this._keys=g(null),null!=b)if(o["default"](b)){var c=!0,d=!1,i=void 0;try{for(var j,k=h(b);!(c=(j=k.next()).done);c=!0){var l=f(j.value,2),m=l[0],n=l[1];this.set(m,n)}}catch(p){d=!0,i=p}finally{try{!c&&k["return"]&&k["return"]()}finally{if(d)throw i}}}else if(u["default"](b))for(var q=0;q<b.length;q++){var r=f(b[q],2),m=r[0],n=r[1];this.set(m,n)}else if(s["default"](b))for(var m in b)this.set(isNaN(+m)?m:+m,b[m])}return d(a,[{key:"_getStorage",value:function(a){switch(typeof a){case"number":return this._numberValues;case"string":return this._stringValues;default:return this._values}}},{key:"get",value:function(a,b){var c=this._getStorage(a);return a in c?c[a]:b}},{key:"has",value:function(a){return a in this._getStorage(a)}},{key:"set",value:function(a,b){var c=this._getStorage(a);return c[a]=b,c===this._values&&(this._keys[a]=a),this}},{key:"delete",value:function(a){var b=this._getStorage(a);return a in b?(delete b[a],b===this._values&&delete this._keys[a],!0):!1}},{key:"entries",value:i.mark(function b(){var a;return i.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:b.t0=i.keys(this._numberValues);case 1:if((b.t1=b.t0()).done){b.next=7;break}return a=b.t1.value,b.next=5,[+a,this._numberValues[a]];case 5:b.next=1;break;case 7:b.t2=i.keys(this._stringValues);case 8:if((b.t3=b.t2()).done){b.next=14;break}return a=b.t3.value,b.next=12,[a,this._stringValues[a]];case 12:b.next=8;break;case 14:b.t4=i.keys(this._values);case 15:if((b.t5=b.t4()).done){b.next=21;break}return a=b.t5.value,b.next=19,[this._keys[a],this._values[a]];case 19:b.next=15;break;case 21:case"end":return b.stop()}},b,this)})},{key:"keys",value:i.mark(function c(){var a;return i.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:b.t0=i.keys(this._numberValues);case 1:if((b.t1=b.t0()).done){b.next=7;break}return a=b.t1.value,b.next=5,+a;case 5:b.next=1;break;case 7:b.t2=i.keys(this._stringValues);case 8:if((b.t3=b.t2()).done){b.next=14;break}return a=b.t3.value,b.next=12,a;case 12:b.next=8;break;case 14:b.t4=i.keys(this._values);case 15:if((b.t5=b.t4()).done){b.next=21;break}return a=b.t5.value,b.next=19,this._keys[a];case 19:b.next=15;break;case 21:case"end":return b.stop()}},c,this)})},{key:"values",value:i.mark(function k(){var a;return i.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:b.t0=i.keys(this._numberValues);case 1:if((b.t1=b.t0()).done){b.next=7;break}return a=b.t1.value,b.next=5,this._numberValues[a];case 5:b.next=1;break;case 7:b.t2=i.keys(this._stringValues);case 8:if((b.t3=b.t2()).done){b.next=14;break}return a=b.t3.value,b.next=12,this._stringValues[a];case 12:b.next=8;break;case 14:b.t4=i.keys(this._values);case 15:if((b.t5=b.t4()).done){b.next=21;break}return a=b.t5.value,b.next=19,this._values[a];case 19:b.next=15;break;case 21:case"end":return b.stop()}},k,this)})},{key:"clear",value:function(){m["default"](this._stringValues),m["default"](this._numberValues),m["default"](this._values),m["default"](this._keys)}},{key:"forEach",value:function(a,b){if(!q["default"](a))throw new TypeError("callback must be a function");var c=!0,d=!1,e=void 0;try{for(var f,g=h(this.entries());!(c=(f=g.next()).done);c=!0){var i=f.value;a.call(b,i[1],i[0],this)}}catch(j){d=!0,e=j}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}}},{key:j,value:function(){return this.entries()}},{key:"size",get:function(){return w["default"](this._values)+w["default"](this._numberValues)+w["default"](this._stringValues)}}]),a}();c["default"]=x,b.exports=c["default"]},{"./clear":174,"./isArrayLike":188,"./isIterable":191,"babel-runtime/core-js/get-iterator":36,"babel-runtime/core-js/object/create":40,"babel-runtime/core-js/symbol/iterator":48,"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/create-class":50,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57,"babel-runtime/regenerator":58,"lodash/collection/size":256,"lodash/lang/isFunction":311,"lodash/lang/isObject":313}],171:[function(a,b,c){"use strict";function d(a,b){return b[0]-a[0]}var e=a("babel-runtime/helpers/create-class")["default"],f=a("babel-runtime/helpers/class-call-check")["default"],g=a("babel-runtime/helpers/sliced-to-array")["default"],h=a("babel-runtime/core-js/get-iterator")["default"];Object.defineProperty(c,"__esModule",{value:!0});var i=function(){function a(b){if(f(this,a),this._values=[],null!=b){var c=!0,e=!1,i=void 0;try{for(var j,k=h(b);!(c=(j=k.next()).done);c=!0){var l=g(j.value,2),m=l[0],n=l[1];this._values.push([m,n])}}catch(o){e=!0,i=o}finally{try{!c&&k["return"]&&k["return"]()}finally{if(e)throw i}}this._values.sort(d)}}return e(a,[{key:"enqueue",value:function(a,b){this._values.push([a,b]),this._values.sort(d)}},{key:"dequeue",value:function(){return this._values.pop()}},{key:"size",get:function(){return this._values.length}}]),a}();c["default"]=i,b.exports=c["default"]},{"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/create-class":50,"babel-runtime/helpers/sliced-to-array":57}],172:[function(a,b,c){"use strict";function d(a,b){var c=new p(a),d=!0,e=!1,f=void 0;try{for(var g,i=h(b);!(d=(g=i.next()).done);d=!0){var j=g.value;a.has(j)?c["delete"](j):c.add(j)}}catch(k){e=!0,f=k}finally{try{!d&&i["return"]&&i["return"]()}finally{if(e)throw f}}return c}function e(a,b){var c=new p(a),d=!0,e=!1,f=void 0;try{for(var g,i=h(b);!(d=(g=i.next()).done);d=!0){var j=g.value;c.add(j)}}catch(k){e=!0,f=k}finally{try{!d&&i["return"]&&i["return"]()}finally{if(e)throw f}}return c}var f=a("babel-runtime/helpers/create-class")["default"],g=a("babel-runtime/helpers/class-call-check")["default"],h=a("babel-runtime/core-js/get-iterator")["default"],i=a("babel-runtime/regenerator")["default"],j=a("babel-runtime/core-js/symbol/iterator")["default"],k=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.symmetricDifference=d,c.union=e;var l=a("./Map"),m=k(l),n=a("./toIterator"),o=k(n),p=function(){function a(b){if(g(this,a),this._map=new m["default"],null!=b){var c=!0,d=!1,e=void 0;try{for(var f,i=h(o["default"](b));!(c=(f=i.next()).done);c=!0){var j=f.value;this.add(j)}}catch(k){d=!0,e=k}finally{try{!c&&i["return"]&&i["return"]()}finally{if(d)throw e}}}}return f(a,[{key:"has",value:function(a){return this._map.has(a)}},{key:"add",value:function(a){this._map.set(a,!0)}},{key:"delete",value:function(a){return this._map["delete"](a)}},{key:"values",value:function(){return this._map.keys()}},{key:"keys",value:function(){return this.values()}},{key:"entries",value:i.mark(function b(){var a,c,d,e,f,g;return i.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:a=!0,c=!1,d=void 0,b.prev=3,e=h(this.values());case 5:if(a=(f=e.next()).done){b.next=12;break}return g=f.value,b.next=9,[g,g];case 9:a=!0,b.next=5;break;case 12:b.next=18;break;case 14:b.prev=14,b.t0=b["catch"](3),c=!0,d=b.t0;case 18:b.prev=18,b.prev=19,!a&&e["return"]&&e["return"]();case 21:if(b.prev=21,!c){b.next=24;break}throw d;case 24:return b.finish(21);case 25:return b.finish(18);case 26:case"end":return b.stop()}},b,this,[[3,14,18,26],[19,,21,25]])})},{key:"clear",value:function(){this._map.clear()}},{key:"forEach",value:function(a,b){var c=!0,d=!1,e=void 0;try{for(var f,g=h(this.values());!(c=(f=g.next()).done);c=!0){var i=f.value;a.call(b,i,i,this)}}catch(j){d=!0,e=j}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}}},{key:"difference",value:function(){for(var b=new a(this),c=arguments.length,d=Array(c),e=0;c>e;e++)d[e]=arguments[e];for(var f=0,g=d.length;g>f;f++){var i=!0,j=!1,k=void 0;try{for(var l,m=h(d[f]);!(i=(l=m.next()).done);i=!0){var n=l.value;b["delete"](n)}}catch(o){j=!0,k=o}finally{try{!i&&m["return"]&&m["return"]()}finally{if(j)throw k}}}return b}},{key:"intersection",value:function(){var b=new a,c=!0,d=!1,e=void 0;try{for(var f,g=h(this);!(c=(f=g.next()).done);c=!0){for(var i=f.value,j=arguments.length,k=Array(j),l=0;j>l;l++)k[l]=arguments[l];k.every(function(a){return a.has(i)})&&b.add(i)}}catch(m){d=!0,e=m}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}return b}},{key:"pop",value:function(){try{var a=this.values().next().value;return this["delete"](a),a}catch(b){}}},{key:j,value:function(){return this.values()}},{key:"size",get:function(){return this._map.size}}]),a}();c["default"]=p},{"./Map":170,"./toIterator":206,"babel-runtime/core-js/get-iterator":36,"babel-runtime/core-js/symbol/iterator":48,"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/create-class":50,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/regenerator":58}],173:[function(a,b,c){(function(a){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=a.Worker,b.exports=c["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],174:[function(a,b,c){"use strict";function d(a){for(var b in a)delete a[b]}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],175:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("lodash/lang/clone"),f=d(e);c["default"]=f["default"],b.exports=c["default"]},{"babel-runtime/helpers/interop-require-default":55,"lodash/lang/clone":307}],176:[function(a,b,c){"use strict";function d(a,b,c){var d=function(){};d.prototype=a.constructor.prototype;var f,g,h={};for(f in a)a.hasOwnProperty(f)&&(h[f]=a[f]);h=e(h,b,c),g=new d;for(f in h)g[f]=h[f];return g}function e(a,b,c){return i["default"](a,!0,function(a){if(m["default"](a)||o["default"](a)||k["default"](a)){var e=d(a,b,c);return b.push(a),c.push(e),e}},null,null,b,c)}function f(a){return e(a,[],[])}var g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=f;var h=a("lodash/internal/baseClone"),i=g(h),j=a("./isGraph"),k=g(j),l=a("./isMap"),m=g(l),n=a("./isSet"),o=g(n);b.exports=c["default"]},{"./isGraph":190,"./isMap":193,"./isSet":195,"babel-runtime/helpers/interop-require-default":55,"lodash/internal/baseClone":263}],177:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("lodash/object/merge"),f=d(e);c["default"]=f["default"],b.exports=c["default"]},{"babel-runtime/helpers/interop-require-default":55,"lodash/object/merge":322}],178:[function(a,b,c){"use strict";function d(a,b){return new e(function(c,d){try{var e=i["default"].methodLookupFunction(a).apply(null,b);k["default"](e)&&(e=f(e)),c(e)}catch(g){d(g)}})}var e=a("babel-runtime/core-js/promise")["default"],f=a("babel-runtime/core-js/array/from")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var h=a("../WorkerSettings"),i=g(h),j=a("./isIterator"),k=g(j);b.exports=c["default"]},{"../WorkerSettings":168,"./isIterator":192,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/promise":46,"babel-runtime/helpers/interop-require-default":55}],179:[function(a,b,c){"use strict";function d(a,b){return g(a,b)}var e=a("babel-runtime/core-js/promise")["default"],f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g,h=a("./Worker"),i=f(h),j=a("../WorkerSettings"),k=f(j),l=a("./delegateSync"),m=f(l),n=a("./message");g="function"==typeof i["default"]?function(a,b){var c=n.serializeAll(b),d=c.serializable,f=c.serializedValues;return d?new e(function(b,c){var d=new i["default"](k["default"].workerPath);d.addEventListener("message",function(a){return b(n.deserialize(a.data))},!1),d.addEventListener("error",c,!1),d.postMessage({method:a,args:f})}):(console.info("At least one argument can't be serialized and sent to the worker. "+("We will run "+a+" in the same thread instead.")),m["default"](a,b))}:function(a,b){return console.info('Workers are not supported in this environment, so "'+a+'" will run in the same thread instead. This might block the environment.'),m["default"](a,b)},b.exports=c["default"]},{"../WorkerSettings":168,"./Worker":173,"./delegateSync":178,"./message":199,"babel-runtime/core-js/promise":46,"babel-runtime/helpers/interop-require-default":55}],180:[function(a,b,c){"use strict";function d(a,b){for(var c=new Array(a),d=0;a>d;d++)c[d]=b;return c}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],181:[function(a,b,c){"use strict";function d(a,b,c){if(Array.isArray(a)){var d=0,f=a.length;if(c)for(;f>d;d++)b.call(c,a[d],d);else for(;f>d;d++)b(a[d],d)}else if(h["default"](a)&&(a=e(a)),j["default"](a)){var g,i;if(void 0!==c){var k=!0,l=!1,m=void 0;try{for(var n,o=e(a);!(k=(n=o.next()).done);k=!0)g=n.value,i+=1,b.call(c,g,i)}catch(p){l=!0,m=p}finally{try{!k&&o["return"]&&o["return"]()}finally{if(l)throw m}}}else{var q=!0,r=!1,s=void 0;try{for(var t,u=e(a);!(q=(t=u.next()).done);q=!0)g=t.value,i+=1,b(g,i)}catch(p){r=!0,s=p}finally{try{!q&&u["return"]&&u["return"]()}finally{if(r)throw s}}}}else if(a&&"object"==typeof a)if(c)for(var v in a)b.call(c,a[v],v);else for(var v in a)b(a[v],v)}var e=a("babel-runtime/core-js/get-iterator")["default"],f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=a("./isIterable"),h=f(g),i=a("./isIterator"),j=f(i);b.exports=c["default"]},{"./isIterable":191,"./isIterator":192,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/interop-require-default":55
}],182:[function(a,b,c){"use strict";function d(a,b){for(;0!==b;){var c=a;a=b,b=c%b}return a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],183:[function(a,b,c){"use strict";function d(a){return a.slice().reverse()}function e(a,b){var c,e,h,j,l,m,n;return f.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(c=g(a),e=c.length,!(b>e)){f.next=4;break}return f.abrupt("return");case 4:return h=k["default"](b),j=d(h),f.next=8,h.map(function(a){return c[a]});case 8:l=void 0,m=0;case 11:if(!(m<j.length)){f.next=18;break}if(l=j[m],h[l]===l+e-b){f.next=15;break}return f.abrupt("break",18);case 15:m++,f.next=11;break;case 18:if(j.length!==m){f.next=20;break}return f.abrupt("return");case 20:for(h[l]+=1,n=l+1;b>n;n++)h[n]=h[n-1]+1;return f.next=24,h.map(function(a){return c[a]});case 24:f.next=8;break;case 26:case"end":return f.stop()}},i[0],this)}var f=a("babel-runtime/regenerator")["default"],g=a("babel-runtime/core-js/array/from")["default"],h=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var i=[e].map(f.mark),j=a("./range"),k=h(j);b.exports=c["default"]},{"./range":202,"babel-runtime/core-js/array/from":35,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/regenerator":58}],184:[function(a,b,c){"use strict";function d(a,b){var c,d,g,i,k,l,m,n,o;return e.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=f(a),d=c.length,b=null==b?d:b,!(b>d)){e.next=5;break}return e.abrupt("return");case 5:return g=j["default"](d),i=j["default"](d,d-b,-1),k=j["default"](b-1,-1,-1),e.next=10,g.slice(0,b).map(function(a){return c[a]});case 10:l=0;case 12:if(!(l<k.length)){e.next=31;break}if(m=k[l],i[m]-=1,n=g[m],0!==i[m]){e.next=22;break}g.splice(m,1),g.push(n),i[m]=d-m,e.next=28;break;case 22:return o=i[m],g[m]=g[g.length-o],g[g.length-o]=n,e.next=27,g.slice(0,b).map(function(a){return c[a]});case 27:return e.abrupt("break",31);case 28:l++,e.next=12;break;case 31:if(k.length!==l){e.next=33;break}return e.abrupt("return");case 33:e.next=10;break;case 35:case"end":return e.stop()}},h[0],this)}var e=a("babel-runtime/regenerator")["default"],f=a("babel-runtime/core-js/array/from")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var h=[d].map(e.mark),i=a("./range"),j=g(i);b.exports=c["default"]},{"./range":202,"babel-runtime/core-js/array/from":35,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/regenerator":58}],185:[function(a,b,c){"use strict";function d(a,b,c){var d,g;return e.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=a){e.next=4;break}return e.abrupt("return");case 4:if(null!=b){e.next=10;break}b=a,a=0,c=1,e.next=16;break;case 10:if(null!=c){e.next=14;break}c=1,e.next=16;break;case 14:if(0!==c){e.next=16;break}throw new RangeError("opt_step can't be 0");case 16:d=0>c,g=a;case 18:if(!(d&&g>b||!d&&b>g)){e.next=24;break}return e.next=21,g;case 21:g+=c,e.next=18;break;case 24:case"end":return e.stop()}},f[0],this)}var e=a("babel-runtime/regenerator")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=[d].map(e.mark);b.exports=c["default"]},{"babel-runtime/regenerator":58}],186:[function(a,b,c){"use strict";function d(a,b){return null==a?b:a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],187:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("babel-runtime/helpers/interop-require-wildcard")["default"],f=a("babel-runtime/helpers/defaults")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./Arrays"),h=d(g),i=a("./Map"),j=d(i),k=a("./PriorityQueue"),l=d(k),m=a("./Set"),n=d(m),o=a("./clone"),p=d(o),q=a("./clear"),r=d(q),s=a("./deepcopy"),t=d(s),u=a("./deepmerge"),v=d(u),w=a("./gcd"),x=d(w),y=a("./genCombinations"),z=d(y),A=a("./genPermutations"),B=d(A),C=a("./genRange"),D=d(C),E=a("./getDefault"),F=d(E),G=a("./fillArray"),H=d(G),I=a("./forEach"),J=d(I),K=a("./isArrayLike"),L=d(K),M=a("./isBoolean"),N=d(M),O=a("./isGraph"),P=d(O),Q=a("./isIterable"),R=d(Q),S=a("./isIterator"),T=d(S),U=a("./isMap"),V=d(U),W=a("./isPlainObject"),X=d(W),Y=a("./mapIterator"),Z=d(Y),$=a("./mapSequence"),_=d($),aa=a("./max"),ba=d(aa),ca=a("./next"),da=d(ca),ea=a("./nodesAreEqual"),fa=d(ea),ga=a("./range"),ha=d(ga),ia=a("./someIterator"),ja=d(ia),ka=a("./toIterator"),la=d(ka),ma=a("./tuple"),na=e(ma),oa=a("./size"),pa=d(oa),qa=a("./sprintf"),ra=d(qa),sa=a("./zipIterator"),ta=d(sa),ua=a("./zipSequence"),va=d(ua);c.Arrays=h["default"],c.Map=j["default"],c.PriorityQueue=l["default"],c.Set=n["default"],c.clone=p["default"],c.clear=r["default"],c.deepcopy=t["default"],c.deepmerge=v["default"],c.gcd=x["default"],c.genCombinations=z["default"],c.genPermutations=B["default"],c.genRange=D["default"],c.getDefault=F["default"],c.fillArray=H["default"],c.forEach=J["default"],c.isArrayLike=L["default"],c.isBoolean=N["default"],c.isGraph=P["default"],c.isIterable=R["default"],c.isIterator=T["default"],c.isMap=V["default"],c.isPlainObject=X["default"],c.mapIterator=Z["default"],c.mapSequence=_["default"],c.max=ba["default"],c.next=da["default"],c.nodesAreEqual=fa["default"],c.range=ha["default"],c.someIterator=ja["default"],c.toIterator=la["default"],c.tuple=na,c.size=pa["default"],c.sprintf=ra["default"],c.zipIterator=ta["default"],c.zipSequence=va["default"],f(c,e(ma))},{"./Arrays":169,"./Map":170,"./PriorityQueue":171,"./Set":172,"./clear":174,"./clone":175,"./deepcopy":176,"./deepmerge":177,"./fillArray":180,"./forEach":181,"./gcd":182,"./genCombinations":183,"./genPermutations":184,"./genRange":185,"./getDefault":186,"./isArrayLike":188,"./isBoolean":189,"./isGraph":190,"./isIterable":191,"./isIterator":192,"./isMap":193,"./isPlainObject":194,"./mapIterator":196,"./mapSequence":197,"./max":198,"./next":200,"./nodesAreEqual":201,"./range":202,"./size":203,"./someIterator":204,"./sprintf":205,"./toIterator":206,"./tuple":207,"./zipIterator":208,"./zipSequence":209,"babel-runtime/helpers/defaults":51,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/interop-require-wildcard":56}],188:[function(a,b,c){"use strict";function d(a){return a&&"object"==typeof a&&"number"==typeof a.length&&"function"!=typeof a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],189:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("lodash/lang/isBoolean"),f=d(e);c["default"]=f["default"],b.exports=c["default"]},{"babel-runtime/helpers/interop-require-default":55,"lodash/lang/isBoolean":310}],190:[function(a,b,c){"use strict";function d(a){return a&&"function"==typeof a.addNode}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],191:[function(a,b,c){"use strict";function d(a){return"function"==typeof a[e]}var e=a("babel-runtime/core-js/symbol/iterator")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{"babel-runtime/core-js/symbol/iterator":48}],192:[function(a,b,c){"use strict";function d(a){return a&&"function"==typeof a.next}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],193:[function(a,b,c){"use strict";function d(a){return a instanceof g["default"]}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("./Map"),g=e(f);b.exports=c["default"]},{"./Map":170,"babel-runtime/helpers/interop-require-default":55}],194:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("lodash/lang/isPlainObject"),f=d(e);c["default"]=f["default"],b.exports=c["default"]},{"babel-runtime/helpers/interop-require-default":55,"lodash/lang/isPlainObject":314}],195:[function(a,b,c){"use strict";function d(a){return a instanceof g["default"]}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("./Set"),g=e(f);b.exports=c["default"]},{"./Set":172,"babel-runtime/helpers/interop-require-default":55}],196:[function(a,b,c){"use strict";function d(a,b,c){var d,h,i,j,k,l;return e.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d=!0,h=!1,i=void 0,e.prev=3,j=f(a);case 5:if(d=(k=j.next()).done){e.next=12;break}return l=k.value,e.next=9,b.call(c,l);case 9:d=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](3),h=!0,i=e.t0;case 18:e.prev=18,e.prev=19,!d&&j["return"]&&j["return"]();case 21:if(e.prev=21,!h){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}},g[0],this,[[3,14,18,26],[19,,21,25]])}var e=a("babel-runtime/regenerator")["default"],f=a("babel-runtime/core-js/get-iterator")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=[d].map(e.mark);b.exports=c["default"]},{"babel-runtime/core-js/get-iterator":36,"babel-runtime/regenerator":58}],197:[function(a,b,c){"use strict";function d(a,b,c){if(l["default"](a))return s.call(a,b,c);if(n["default"](a)&&(a=e(a)),p["default"](a))return r["default"](a,b,c);if(h["default"](a))return j["default"](a,b,c);throw new TypeError("Can't map value of type %s",typeof a)}var e=a("babel-runtime/core-js/get-iterator")["default"],f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=a("lodash/lang/isPlainObject"),h=f(g),i=a("lodash/object/mapValues"),j=f(i),k=a("./isArrayLike"),l=f(k),m=a("./isIterable"),n=f(m),o=a("./isIterator"),p=f(o),q=a("./mapIterator"),r=f(q),s=Array.prototype.map;b.exports=c["default"]},{"./isArrayLike":188,"./isIterable":191,"./isIterator":192,"./mapIterator":196,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/interop-require-default":55,"lodash/lang/isPlainObject":314,"lodash/object/mapValues":321}],198:[function(a,b,c){"use strict";function d(a,b){var c,d=-(1/0);return g["default"](a,function(a){var e=b?b(a):a;e>d&&(d=e,c=a)}),c}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("./forEach"),g=e(f);b.exports=c["default"]},{"./forEach":181,"babel-runtime/helpers/interop-require-default":55}],199:[function(a,b,c){"use strict";function d(a){var b;return b={},n(b,D,"Set"),n(b,"data",p(a.values())),b}function e(a){return new A["default"](a.data)}function f(a){var b;return b={},n(b,D,"Map"),n(b,"data",function(){var b=[],c=!0,d=!1,e=void 0;try{for(var f,g=q(a);!(c=(f=g.next()).done);c=!0){var h=o(f.value,2),i=h[0],j=h[1];b.push([i,k(j)])}}catch(l){d=!0,e=l}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}return b}()),b}function g(a){return new y["default"](a.data.map(function(a){return a[1]=l(a[1]),a}))}function h(a){var b;return b={},n(b,D,a.constructor.__name__),n(b,"data",a.graph),n(b,"nodes",p(a.node)),n(b,"edges",a.edges(null,!0)),b}function i(a){var b=new C[a[D]](a.edges,a.data);return b.addNodesFrom(a.nodes),b}function j(a){var b=typeof a;return null==a||"string"===b||"number"===b||"boolean"===b||w["default"](a)||Array.isArray(a)||a instanceof y["default"]||a instanceof A["default"]||"Graph"===a.constructor.__name__||"DiGraph"===a.constructor.__name__||u["default"](a)}function k(a){var b=typeof a;return a&&"string"!==b&&"number"!==b&&"boolean"!==b?a instanceof A["default"]?d(a):a instanceof y["default"]?f(a):"Graph"===a.constructor.__name__||"DiGraph"===a.constructor.__name__?h(a):u["default"](a)?p(a):a:a}function l(a){var b=typeof a;if(!a||"string"===b||"number"===b||"boolean"===b)return a;if(a[D])switch(a[D]){case"Map":return g(a);case"Set":return e(a);case"Graph":case"DiGraph":return i(a)}return a}function m(){var a=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],b=new Array(a.length),c=a.every(function(a,c){var d=j(a);return d&&(b[c]=k(a)),d});return{serializable:c,serializedValues:b}}var n=a("babel-runtime/helpers/define-property")["default"],o=a("babel-runtime/helpers/sliced-to-array")["default"],p=a("babel-runtime/core-js/array/from")["default"],q=a("babel-runtime/core-js/get-iterator")["default"],r=a("babel-runtime/helpers/interop-require-default")["default"],s=a("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.isSupported=j,c.serialize=k,c.deserialize=l,c.serializeAll=m;var t=a("./isIterable"),u=r(t),v=a("./isPlainObject"),w=r(v),x=a("./Map"),y=r(x),z=a("./Set"),A=r(z),B=a("../classes"),C=s(B),D="__type-jsnx__"},{"../classes":231,"./Map":170,"./Set":172,"./isIterable":191,"./isPlainObject":194,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/define-property":52,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/interop-require-wildcard":56,"babel-runtime/helpers/sliced-to-array":57}],200:[function(a,b,c){"use strict";function d(a){var b=a.next();if(b.done)throw new Error("Iterator is already exhausted");return b.value}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],201:[function(a,b,c){"use strict";function d(a,b){return a===b||"object"==typeof a&&a.toString()===b.toString()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{}],202:[function(a,b,c){"use strict";function d(a,b,c){return e(h["default"](a,b,c))}var e=a("babel-runtime/core-js/array/from")["default"],f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=a("./genRange"),h=f(g);b.exports=c["default"]},{"./genRange":185,"babel-runtime/core-js/array/from":35,"babel-runtime/helpers/interop-require-default":55}],203:[function(a,b,c){"use strict";function d(a){if(i["default"](a))return a.numberOfNodes();if("string"==typeof a||g["default"](a))return a.length;if(k["default"](a))return m["default"](a);throw new TypeError("Expected a graph object, array, string or object, but got %s instead",typeof a)}var e=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("./isArrayLike"),g=e(f),h=a("./isGraph"),i=e(h),j=a("lodash/lang/isPlainObject"),k=e(j),l=a("lodash/collection/size"),m=e(l);b.exports=c["default"]},{"./isArrayLike":188,"./isGraph":190,"babel-runtime/helpers/interop-require-default":55,"lodash/collection/size":256,"lodash/lang/isPlainObject":314}],204:[function(a,b,c){"use strict";function d(a,b){var c=!0,d=!1,f=void 0;try{for(var g,h=e(a);!(c=(g=h.next()).done);c=!0){var i=g.value;if(b(i))return!0}}catch(j){d=!0,f=j}finally{try{!c&&h["return"]&&h["return"]()}finally{if(d)throw f}}return!1}var e=a("babel-runtime/core-js/get-iterator")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{"babel-runtime/core-js/get-iterator":36}],205:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e,f=a("tiny-sprintf"),g=d(f);g["default"].j=function(a){if(a===e)return e+"";try{return JSON.stringify(a)}catch(b){return a+""}},c["default"]=g["default"],b.exports=c["default"]},{"babel-runtime/helpers/interop-require-default":55,"tiny-sprintf":330}],206:[function(a,b,c){"use strict";function d(a){if(k["default"](a))return a;if(m["default"](a))return e(a);if(Array.isArray(a)||i["default"](a))return f.mark(function b(a){var c,d;return f.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:c=0,d=a.length;case 1:if(!(d>c)){b.next=7;break}return b.next=4,a[c];case 4:c++,b.next=1;break;case 7:case"end":return b.stop()}},b,this)})(a);throw new TypeError("Unable to convert "+a+" to an iterator")}var e=a("babel-runtime/core-js/get-iterator")["default"],f=a("babel-runtime/regenerator")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var h=a("./isArrayLike"),i=g(h),j=a("./isIterator"),k=g(j),l=a("./isIterable"),m=g(l);b.exports=c["default"]},{"./isArrayLike":188,"./isIterable":191,"./isIterator":192,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/regenerator":58}],207:[function(a,b,c){"use strict";function d(a,b){return k[0]=a,k[1]=b,k}function e(a,b,c){return l[0]=a,l[1]=b,l[2]=c,l}function f(a,b,c,d){return m[0]=a,m[1]=b,m[2]=c,m[3]=d,m}function g(a,b,c){return c.length=2,c[0]=a,c[1]=b,c}function h(a,b,c,d){return d.length=3,d[0]=a,d[1]=b,d[2]=c,d}function i(a,b,c,d,e){return e.length=4,e[0]=a,e[1]=b,e[2]=c,e[3]=d,e}function j(a){var b=new Array(a);switch(a){case 2:return function(a,c){return b[0]=a,b[1]=c,b};case 3:return function(a,c,d){return b[0]=a,b[1]=c,b[2]=d,b};default:throw new Error("Typle size not supported.")}}Object.defineProperty(c,"__esModule",{value:!0}),c.tuple2=d,c.tuple3=e,c.tuple4=f,c.tuple2c=g,c.tuple3c=h,c.tuple4c=i,c.createTupleFactory=j;var k=new Array(2),l=new Array(3),m=new Array(4)},{}],208:[function(a,b,c){"use strict";function d(){var a,b,c,d,g,h,i=arguments;return e.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=i,b=a.length;case 2:c=!1,d=new Array(b),g=0;case 6:if(!(b>g)){e.next=15;break}if(h=a[g].next(),!h.done){e.next=11;break}return c=!0,e.abrupt("break",15);case 11:d[g]=h.value;case 12:g++,e.next=6;break;case 15:if(!c){e.next=17;break}return e.abrupt("break",21);case 17:return e.next=19,d;case 19:e.next=2;break;case 21:case"end":return e.stop()}},f[0],this)}var e=a("babel-runtime/regenerator")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=[d].map(e.mark);b.exports=c["default"]},{"babel-runtime/regenerator":58}],209:[function(a,b,c){"use strict";function d(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];var d,e,f=b.length,g=1/0,h=new Array(f);for(d=0;f>d;d++){var i=b[d],j=i.length;if(g>j&&(g=j,0===g))return[];h[d]=i[0]}for(e=new Array(g),e[0]=h,d=1;g>d;d++){h=new Array(f);for(var k=0;f>k;k++)h[k]=b[k][d];e[d]=h}return e}function e(){for(var a=arguments.length,b=Array(a),c=0;a>c;c++)b[c]=arguments[c];var e=b[0];if(h["default"](e))return d.apply(null,b);if(j["default"](e))return l["default"].apply(null,b);throw new TypeError("Expected an iterator, array-like object or object, but got %s instead",e)}var f=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var g=a("./isArrayLike"),h=f(g),i=a("./isIterator"),j=f(i),k=a("./zipIterator"),l=f(k);b.exports=c["default"]},{"./isArrayLike":188,"./isIterator":192,"./zipIterator":208,"babel-runtime/helpers/interop-require-default":55}],210:[function(a,b,c){"use strict";function d(a){var b=this,c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=c.k,e=c.normalized,f=c.weight,g=c.endpoints;e=null==e?!0:e,g=null==g?!1:g;var l=new u.Map(p.mark(function r(){var c,d,e,f,g,h;return p.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:c=!0,d=!1,e=void 0,b.prev=3,f=q(a);case 5:if(c=(g=f.next()).done){b.next=12;break}return h=g.value,b.next=9,u.tuple2(h,0);case 9:c=!0,b.next=5;break;case 12:b.next=18;break;case 14:b.prev=14,b.t0=b["catch"](3),d=!0,e=b.t0;case 18:b.prev=18,b.prev=19,!c&&f["return"]&&f["return"]();case 21:if(b.prev=21,!d){b.next=24;break}throw e;case 24:return b.finish(21);case 25:return b.finish(18);case 26:case"end":return b.stop()}},r,b,[[3,14,18,26],[19,,21,25]])})()),n=a.nodes();return null!=d&&(n=u.Arrays.sample(n,d)),n.forEach(function(b){var c=null==f?h(a,b):i(a,b,f),d=o(c,3),e=d[0],m=d[1],n=d[2];l=g?k(l,e,m,n,b):j(l,e,m,n,b)}),m(l,a.order(),e,a.isDirected(),d)}function e(a,b){return t["default"]("betweennessCentrality",[a,b])}function f(a){var b=this,c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=c.normalized,e=c.weight;d=null==d?!0:d;var f=new u.Map(p.mark(function M(){var c,d,e,f,g,h;return p.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:c=!0,d=!1,e=void 0,b.prev=3,f=q(a);case 5:if(c=(g=f.next()).done){b.next=12;break}return h=g.value,b.next=9,u.tuple2(h,0);case 9:c=!0,b.next=5;break;case 12:b.next=18;break;case 14:b.prev=14,b.t0=b["catch"](3),d=!0,e=b.t0;case 18:b.prev=18,b.prev=19,!c&&f["return"]&&f["return"]();case 21:if(b.prev=21,!d){b.next=24;break}throw e;case 24:return b.finish(21);case 25:return b.finish(18);case 26:case"end":return b.stop()}},M,b,[[3,14,18,26],[19,,21,25]])})()),g=!0,j=!1,k=void 0;try{for(var m,r=q(a.edgesIter());!(g=(m=r.next()).done);g=!0){var s=m.value;f.set(s,0)}}catch(t){j=!0,k=t}finally{try{!g&&r["return"]&&r["return"]()}finally{if(j)throw k}}var v=!0,w=!1,x=void 0;try{for(var y,z=q(a);!(v=(y=z.next()).done);v=!0){var A=y.value,B=null==e?h(a,A):i(a,A,e),C=o(B,3),D=C[0],E=C[1],F=C[2];f=l(f,D,E,F,A)}}catch(t){w=!0,x=t}finally{try{!v&&z["return"]&&z["return"]()}finally{if(w)throw x}}var G=!0,H=!1,I=void 0;try{for(var J,K=q(a);!(G=(J=K.next()).done);G=!0){var L=J.value;f["delete"](L)}}catch(t){H=!0,I=t}finally{try{!G&&K["return"]&&K["return"]()}finally{if(H)throw I}}return n(f,a.order(),d,a.isDirected())}function g(a,b){return t["default"]("edgeBetweennessCentrality",[a,b])}function h(a,b){var c=this,d=[],e=new u.Map(p.mark(function l(){var b,d,e,f,g,h;return p.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:b=!0,d=!1,e=void 0,c.prev=3,f=q(a);case 5:if(b=(g=f.next()).done){c.next=12;break}return h=g.value,c.next=9,u.tuple2(h,[]);case 9:b=!0,c.next=5;break;case 12:c.next=18;break;case 14:c.prev=14,c.t0=c["catch"](3),d=!0,e=c.t0;case 18:c.prev=18,c.prev=19,!b&&f["return"]&&f["return"]();case 21:if(c.prev=21,!d){c.next=24;break}throw e;case 24:return c.finish(21);case 25:return c.finish(18);case 26:case"end":return c.stop()}},l,c,[[3,14,18,26],[19,,21,25]])})()),f=new u.Map(p.mark(function m(){var b,d,e,f,g,h;return p.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:b=!0,d=!1,e=void 0,c.prev=3,f=q(a);case 5:if(b=(g=f.next()).done){c.next=12;break}return h=g.value,c.next=9,u.tuple2(h,0);case 9:b=!0,c.next=5;break;case 12:c.next=18;break;case 14:c.prev=14,c.t0=c["catch"](3),d=!0,e=c.t0;case 18:c.prev=18,c.prev=19,!b&&f["return"]&&f["return"]();case 21:if(c.prev=21,!d){c.next=24;break}throw e;case 24:return c.finish(21);case 25:return c.finish(18);case 26:case"end":return c.stop()}},m,c,[[3,14,18,26],[19,,21,25]])})()),g=new u.Map;f.set(b,1),g.set(b,0);for(var h=[b];h.length>0;){var i=h.shift();d.push(i);var j=g.get(i),k=f.get(i);a.neighbors(i).forEach(function(a){g.has(a)||(h.push(a),g.set(a,j+1)),g.get(a)===j+1&&(f.set(a,f.get(a)+k),e.get(a).push(i))})}return[d,e,f]}function i(a,b){var c=this,d=arguments.length<=2||void 0===arguments[2]?"weight":arguments[2],e=[],f=new u.Map(p.mark(function E(){var b,d,e,f,g,h;return p.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:b=!0,d=!1,e=void 0,c.prev=3,f=q(a);case 5:if(b=(g=f.next()).done){c.next=12;break}return h=g.value,c.next=9,u.tuple2(h,[]);case 9:b=!0,c.next=5;break;case 12:c.next=18;break;case 14:c.prev=14,c.t0=c["catch"](3),d=!0,e=c.t0;case 18:c.prev=18,c.prev=19,!b&&f["return"]&&f["return"]();case 21:if(c.prev=21,!d){c.next=24;break}throw e;case 24:return c.finish(21);case 25:return c.finish(18);case 26:case"end":return c.stop()}},E,c,[[3,14,18,26],[19,,21,25]])})()),g=new u.Map(p.mark(function F(){var b,d,e,f,g,h;return p.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:b=!0,d=!1,e=void 0,c.prev=3,f=q(a);case 5:if(b=(g=f.next()).done){c.next=12;break}return h=g.value,c.next=9,u.tuple2(h,0);case 9:b=!0,c.next=5;break;case 12:c.next=18;break;case 14:c.prev=14,c.t0=c["catch"](3),d=!0,e=c.t0;case 18:c.prev=18,c.prev=19,!b&&f["return"]&&f["return"]();case 21:if(c.prev=21,!d){c.next=24;break}throw e;case 24:return c.finish(21);case 25:return c.finish(18);case 26:case"end":return c.stop()}},F,c,[[3,14,18,26],[19,,21,25]])})()),h=new u.Map;g.set(b,1);var i=new u.Map([u.tuple2(b,0)]),j=new u.PriorityQueue;for(j.enqueue(0,[b,b]);j.size>0;){var k=j.dequeue(),l=o(k,2),m=l[0],n=o(l[1],2),r=n[0],s=n[1];if(!h.has(s)){g.set(s,g.get(s)+g.get(r)),e.push(s),h.set(s,m);var t=!0,v=!1,w=void 0;try{for(var x,y=q(a.get(s));!(t=(x=y.next()).done);t=!0){var z=o(x.value,2),A=z[0],B=z[1],C=m+u.getDefault(B[d],1);h.has(A)||i.has(A)&&!(C<i.get(A))?C===i.get(A)&&(g.set(A,g.get(A)+g.get(s)),f.get(A).push(s)):(i.set(A,C),j.enqueue(C,[s,A]),g.set(A,0),f.set(A,[s]))}}catch(D){v=!0,w=D}finally{try{!t&&y["return"]&&y["return"]()}finally{if(v)throw w}}}}return[e,f,g]}function j(a,b,c,d,e){for(var f=this,g=new u.Map(p.mark(function j(){var a,c,d,e,g,h;return p.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:a=!0,c=!1,d=void 0,f.prev=3,e=q(b);case 5:if(a=(g=e.next()).done){f.next=12;break}return h=g.value,f.next=9,u.tuple2(h,0);case 9:a=!0,f.next=5;break;case 12:f.next=18;break;case 14:f.prev=14,f.t0=f["catch"](3),c=!0,d=f.t0;case 18:f.prev=18,f.prev=19,!a&&e["return"]&&e["return"]();case 21:if(f.prev=21,!c){f.next=24;break}throw d;case 24:return f.finish(21);case 25:return f.finish(18);case 26:case"end":return f.stop()}},j,f,[[3,14,18,26],[19,,21,25]])})());b.length>0;){var h=b.pop(),i=(1+g.get(h))/d.get(h);c.get(h).forEach(function(a){g.set(a,g.get(a)+d.get(a)*i)}),(h!==e||"object"==typeof h&&h.toString()!==e.toString())&&a.set(h,a.get(h)+g.get(h))}return a}function k(a,b,c,d,e){var f=this;a.set(e,a.get(e)+b.length-1);for(var g=new u.Map(p.mark(function j(){var a,c,d,e,g,h;return p.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:a=!0,c=!1,d=void 0,f.prev=3,e=q(b);case 5:if(a=(g=e.next()).done){f.next=12;break}return h=g.value,f.next=9,u.tuple2(h,0);case 9:a=!0,f.next=5;break;case 12:f.next=18;break;case 14:f.prev=14,f.t0=f["catch"](3),c=!0,d=f.t0;case 18:f.prev=18,f.prev=19,!a&&e["return"]&&e["return"]();case 21:if(f.prev=21,!c){f.next=24;break}throw d;case 24:return f.finish(21);case 25:return f.finish(18);case 26:case"end":return f.stop()}},j,f,[[3,14,18,26],[19,,21,25]])})());b.length>0;){var h=b.pop(),i=(1+g.get(h))/d.get(h);c.get(h).forEach(function(a){g.set(a,g.get(a)+d.get(a)*i)}),(h!==e||"object"==typeof h&&h.toString()!==e.toString())&&a.set(h,a.get(h)+g.get(h)+1)}return a}function l(a,b,c,d,e){for(var f=this,g=new u.Map(p.mark(function j(){var a,c,d,e,g,h;return p.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:a=!0,c=!1,d=void 0,f.prev=3,e=q(b);case 5:if(a=(g=e.next()).done){f.next=12;break}return h=g.value,f.next=9,u.tuple2(h,0);case 9:a=!0,f.next=5;break;case 12:f.next=18;break;case 14:f.prev=14,f.t0=f["catch"](3),c=!0,d=f.t0;case 18:f.prev=18,f.prev=19,!a&&e["return"]&&e["return"]();case 21:if(f.prev=21,!c){f.next=24;break}throw d;case 24:return f.finish(21);case 25:return f.finish(18);case 26:case"end":return f.stop()}},j,f,[[3,14,18,26],[19,,21,25]])})());b.length>0;){var h=b.pop(),i=(1+g.get(h))/d.get(h);c.get(h).forEach(function(b){var c=d.get(b)*i,e=[b,h];a.has(e)||(e=[h,b]),a.set(e,a.get(e)+c),g.set(b,g.get(b)+c)}),(h!==e||"object"==typeof h&&h.toString()!==e.toString())&&a.set(h,a.get(h)+g.get(h))}return a}function m(a,b,c,d,e){void 0===d&&(d=!1);var f;return f=c?2>=b?null:1/((b-1)*(b-2)):d?null:.5,null!=f&&(null!=e&&(f=f*b/e),a.forEach(function(b,c){return a.set(c,b*f)})),a}function n(a,b,c,d){var e;return e=c?1>=b?null:1/(b*(b-1)):d?null:.5,null!=e&&a.forEach(function(b,c){return a.set(c,b*e)}),a}var o=a("babel-runtime/helpers/sliced-to-array")["default"],p=a("babel-runtime/regenerator")["default"],q=a("babel-runtime/core-js/get-iterator")["default"],r=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.betweennessCentrality=d,c.genBetweennessCentrality=e,c.edgeBetweennessCentrality=f,c.genEdgeBetweennessCentrality=g;var s=a("../../_internals/delegate"),t=r(s),u=a("../../_internals")},{"../../_internals":187,"../../_internals/delegate":179,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57,"babel-runtime/regenerator":58}],211:[function(a,b,c){"use strict";function d(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=b.maxIter,d=void 0===c?100:c,e=b.tolerance,h=void 0===e?1e-6:e,i=b.nstart,j=b.weight,m=Math.sqrt,n=Math.pow,o=Math.abs;if(a.isMultigraph())throw new k.JSNetworkXException("Not defined for multigraphs.");if(0===a.order())throw new k.JSNetworkXException("Empty graph.");var p=void 0,q=new l.Map;if(i){p=i;var r=!0,s=!1,t=void 0;try{for(var u,v=g(p.keys());!(r=(u=v.next()).done);r=!0){var w=u.value;q.set(w,0)}}catch(x){s=!0,t=x}finally{try{!r&&v["return"]&&v["return"]()}finally{if(s)throw t}}}else{var y=1/a.order();p=new l.Map;var z=!0,A=!1,B=void 0;try{for(var C,D=g(a);!(z=(C=D.next()).done);z=!0){var w=C.value;p.set(w,y),q.set(w,0)}}catch(x){A=!0,B=x}finally{try{!z&&D["return"]&&D["return"]()}finally{if(A)throw B}}}var E=0,F=!0,G=!1,H=void 0;try{for(var I,J=g(p.values());!(F=(I=J.next()).done);F=!0){var K=I.value;E+=K}}catch(x){G=!0,H=x}finally{try{!F&&J["return"]&&J["return"]()}finally{if(G)throw H}}E=1/E;var L=!0,M=!1,N=void 0;try{for(var O,P=g(p);!(L=(O=P.next()).done);L=!0){var Q=f(O.value,2),R=Q[0],K=Q[1];p.set(R,K*E)}}catch(x){M=!0,N=x}finally{try{!L&&P["return"]&&P["return"]()}finally{if(M)throw N}}h=a.order()*h;for(var S=0;d>S;S++){var T=p;p=new l.Map(q);var U=!0,V=!1,W=void 0;try{for(var X,Y=g(p);!(U=(X=Y.next()).done);U=!0){var Z=f(X.value,2),w=Z[0],K=Z[1],$=!0,_=!1,aa=void 0;try{for(var ba,ca=g(a.get(w));!($=(ba=ca.next()).done);$=!0){var da=f(ba.value,2),ea=da[0],fa=da[1];p.set(ea,p.get(ea)+T.get(w)*l.getDefault(j&&fa[j],1))}}catch(x){_=!0,aa=x}finally{try{!$&&ca["return"]&&ca["return"]()}finally{if(_)throw aa}}}}catch(x){V=!0,W=x}finally{try{!U&&Y["return"]&&Y["return"]()}finally{if(V)throw W}}var ga=0,ha=!0,ia=!1,ja=void 0;try{for(var ka,la=g(p.values());!(ha=(ka=la.next()).done);ha=!0){var K=ka.value;ga+=n(K,2)}}catch(x){ia=!0,ja=x}finally{try{!ha&&la["return"]&&la["return"]()}finally{if(ia)throw ja}}ga=m(ga),ga=0===ga?1:1/ga;var ma=0,na=!0,oa=!1,pa=void 0;try{for(var qa,ra=g(p);!(na=(qa=ra.next()).done);na=!0){var sa=f(qa.value,2),w=sa[0],K=sa[1];K*=ga,p.set(w,K),ma+=o(K-T.get(w))}}catch(x){oa=!0,pa=x}finally{try{!na&&ra["return"]&&ra["return"]()}finally{if(oa)throw pa}}if(h>ma)return p}throw new k.JSNetworkXError("eigenvectorCentrality(): power iteration failed to converge in "+(d+" iterations."))}function e(a,b){return j["default"]("eigenvectorCentrality",[a,b])}var f=a("babel-runtime/helpers/sliced-to-array")["default"],g=a("babel-runtime/core-js/get-iterator")["default"],h=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.eigenvectorCentrality=d,c.genEigenvectorCentrality=e;var i=a("../../_internals/delegate"),j=h(i),k=a("../../exceptions"),l=a("../../_internals")},{"../../_internals":187,"../../_internals/delegate":179,"../../exceptions":244,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57}],212:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-wildcard")["default"],e=a("babel-runtime/helpers/defaults")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./betweenness"),g=d(f),h=a("./eigenvector"),i=d(h);c.betweenness=g,c.eigenvector=i,e(c,d(f)),e(c,d(h))},{"./betweenness":210,"./eigenvector":211,"babel-runtime/helpers/defaults":51,"babel-runtime/helpers/interop-require-wildcard":56}],213:[function(a,b,c){"use strict";function d(a){var b,c,d,e,f,g,h,i,j,k,l,m,p;return o.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(0!==a.numberOfNodes()){o.next=2;break}return o.abrupt("return",[]);case 2:b=new v.Map(v.mapIterator(a,function(b){
var c=new v.Set(a.neighborsIter(b));return c["delete"](b),v.tuple2(b,c)})),c=new v.Set(a),d=new v.Set(a),e=[null],f=v.max(c,function(a){return d.intersection(b.get(a)).size}),g=d.difference(b.get(f)),h=[];case 9:if(!(g.size>0)){o.next=25;break}if(i=g.pop(),d["delete"](i),e[e.length-1]=i,j=b.get(i),k=c.intersection(j),0!==k.size){o.next=21;break}return o.next=19,e.slice();case 19:o.next=23;break;case 21:l=d.intersection(j),l.size>0&&(h.push([c,d,g]),e.push(null),c=k,d=l,f=v.max(c,function(a){return d.intersection(b.get(a)).size}),g=d.difference(b.get(f)));case 23:o.next=33;break;case 25:if(0!==e.length&&0!==h.length){o.next=27;break}return o.abrupt("break",35);case 27:e.pop(),m=h.pop(),p=n(m,3),c=p[0],d=p[1],g=p[2];case 33:o.next=9;break;case 35:case"end":return o.stop()}},s[0],this)}function e(a){return u["default"]("findCliques",[a])}function f(a){var b,c,d,e;return o.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(e=function g(a,e){var f,h,i,j,k,l,m,n,q,r;return o.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:f=v.max(a,function(a){return e.intersection(c.get(a)).size}),h=!0,i=!1,j=void 0,b.prev=4,k=p(e.difference(c.get(f)));case 6:if(h=(l=k.next()).done){b.next=24;break}if(m=l.value,e["delete"](m),d.push(m),n=c.get(m),q=a.intersection(n),0!==q.size){b.next=17;break}return b.next=15,d.slice();case 15:b.next=20;break;case 17:if(r=e.intersection(n),!(r.size>0)){b.next=20;break}return b.delegateYield(g(q,r),"t0",20);case 20:d.pop();case 21:h=!0,b.next=6;break;case 24:b.next=30;break;case 26:b.prev=26,b.t1=b["catch"](4),i=!0,j=b.t1;case 30:b.prev=30,b.prev=31,!h&&k["return"]&&k["return"]();case 33:if(b.prev=33,!i){b.next=36;break}throw j;case 36:return b.finish(33);case 37:return b.finish(30);case 38:case"end":return b.stop()}},b[0],this,[[4,26,30,38],[31,,33,37]])},b=[e].map(o.mark),0!==a.size){f.next=5;break}return f.next=5,[];case 5:return c=new v.Map(v.mapIterator(a,function(b){var c=new v.Set(a.neighborsIter(b));return c["delete"](b),v.tuple2(b,c)})),d=[],f.delegateYield(e(new v.Set(a),new v.Set(a)),"t0",8);case 8:case"end":return f.stop()}},s[1],this)}function g(a){return u["default"]("findCliquesRecursive",[a])}function h(a,b){return null==b&&(b=d(a)),v.max(b,function(a){return a.length}).length}function i(a,b){return u["default"]("graphCliqueNumber",[a,b])}function j(a,b){return null==b&&(b=d(a)),q(b).length}function k(a,b){return u["default"]("graphNumberOfCliques",[a,b])}function l(a,b,c){c=q(c||d(a)),null==b&&(b=a.nodes());var e;if(Array.isArray(b))c=c.map(function(a){return new v.Set(a)}),e=new v.Map,b.forEach(function(a){e.set(a,c.filter(function(b){return b.has(a)}).length)});else{var f=b;e=c.filter(function(a){return new v.Set(a).has(f)}).length}return e}function m(a,b,c){return u["default"]("numberOfCliques",[a,b,c])}var n=a("babel-runtime/helpers/sliced-to-array")["default"],o=a("babel-runtime/regenerator")["default"],p=a("babel-runtime/core-js/get-iterator")["default"],q=a("babel-runtime/core-js/array/from")["default"],r=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.findCliques=d,c.genFindCliques=e,c.findCliquesRecursive=f,c.genFindCliquesRecursive=g,c.graphCliqueNumber=h,c.genGraphCliqueNumber=i,c.graphNumberOfCliques=j,c.genGraphNumberOfCliques=k,c.numberOfCliques=l,c.genNumberOfCliques=m;var s=[d,f].map(o.mark),t=a("../_internals/delegate"),u=r(t),v=a("../_internals")},{"../_internals":187,"../_internals/delegate":179,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57,"babel-runtime/regenerator":58}],214:[function(a,b,c){"use strict";function d(a,b){if(a.isDirected())throw new y["default"]("triangles() is not defined for directed graphs.");return null!=b&&a.hasNode(b)?Math.floor(z.next(f(a,b))[2]/2):new z.Map(z.mapIterator(f(a,b),function(a){var b=p(a,3),c=b[0],d=(b[1],b[2]);return z.tuple2(c,Math.floor(d/2),c)}))}function e(a,b){return w["default"]("triangles",[a,b])}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,s,t,v,w,x;return q.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!a.isMultigraph()){q.next=2;break}throw new y["default"]("Not defined for multigraphs.");case 2:c=z.mapIterator(null==b?a:a.nbunchIter(b),function(b){return z.tuple2(b,a.get(b))}),d=!0,e=!1,f=void 0,q.prev=6,g=r(c);case 8:if(d=(h=g.next()).done){q.next=39;break}for(i=p(h.value,2),j=i[0],k=i[1],l=new z.Set(k.keys()),l["delete"](j),m=0,n=!0,o=!1,s=void 0,q.prev=18,t=r(l);!(n=(v=t.next()).done);n=!0)w=v.value,x=new z.Set(a.get(w).keys()),x["delete"](w),m+=l.intersection(x).size;q.next=26;break;case 22:q.prev=22,q.t0=q["catch"](18),o=!0,s=q.t0;case 26:q.prev=26,q.prev=27,!n&&t["return"]&&t["return"]();case 29:if(q.prev=29,!o){q.next=32;break}throw s;case 32:return q.finish(29);case 33:return q.finish(26);case 34:return q.next=36,z.tuple3(j,l.size,m);case 36:d=!0,q.next=8;break;case 39:q.next=45;break;case 41:q.prev=41,q.t1=q["catch"](6),e=!0,f=q.t1;case 45:q.prev=45,q.prev=46,!d&&g["return"]&&g["return"]();case 48:if(q.prev=48,!e){q.next=51;break}throw f;case 51:return q.finish(48);case 52:return q.finish(45);case 53:case"end":return q.stop()}},u[0],this,[[6,41,45,53],[18,22,26,34],[27,,29,33],[46,,48,52]])}function g(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,s,t,v,w,x,A,B,C,D,E,F,G,H,I,J,K,L=arguments.length<=2||void 0===arguments[2]?"weight":arguments[2];return q.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!a.isMultigraph()){q.next=2;break}throw new y["default"]("Not defined for multigraphs.");case 2:c=null==L||0===a.edges().length?1:z.max(z.mapIterator(a.edgesIter(!0),function(a){var b=p(a,3),c=(b[0],b[1],b[2]);return z.getDefault(c[L],1)})),d=z.mapIterator(null==b?a:a.nbunchIter(b),function(b){return z.tuple2(b,a.get(b))}),e=!0,f=!1,g=void 0,q.prev=7,h=r(d);case 9:if(e=(i=h.next()).done){q.next=67;break}j=p(i.value,2),k=j[0],l=j[1],m=new z.Set(l.keys()).difference([k]),n=0,o=new z.Set,s=!0,t=!1,v=void 0,q.prev=19,w=r(m);case 21:if(s=(x=w.next()).done){q.next=48;break}for(A=x.value,B=z.getDefault(l.get(A)[L],1)/c,o.add(A),C=new z.Set(a.get(A).keys()).difference(o),D=!0,E=!1,F=void 0,q.prev=29,G=r(m.intersection(C));!(D=(H=G.next()).done);D=!0)I=H.value,J=z.getDefault(a.get(A).get(I)[L],1)/c,K=z.getDefault(l.get(I)[L],1)/c,n+=Math.pow(B*J*K,1/3);q.next=37;break;case 33:q.prev=33,q.t0=q["catch"](29),E=!0,F=q.t0;case 37:q.prev=37,q.prev=38,!D&&G["return"]&&G["return"]();case 40:if(q.prev=40,!E){q.next=43;break}throw F;case 43:return q.finish(40);case 44:return q.finish(37);case 45:s=!0,q.next=21;break;case 48:q.next=54;break;case 50:q.prev=50,q.t1=q["catch"](19),t=!0,v=q.t1;case 54:q.prev=54,q.prev=55,!s&&w["return"]&&w["return"]();case 57:if(q.prev=57,!t){q.next=60;break}throw v;case 60:return q.finish(57);case 61:return q.finish(54);case 62:return q.next=64,z.tuple3(k,m.size,2*n);case 64:e=!0,q.next=9;break;case 67:q.next=73;break;case 69:q.prev=69,q.t2=q["catch"](7),f=!0,g=q.t2;case 73:q.prev=73,q.prev=74,!e&&h["return"]&&h["return"]();case 76:if(q.prev=76,!f){q.next=79;break}throw g;case 79:return q.finish(76);case 80:return q.finish(73);case 81:case"end":return q.stop()}},u[1],this,[[7,69,73,81],[19,50,54,62],[29,33,37,45],[38,,40,44],[55,,57,61],[74,,76,80]])}function h(a,b,c){var d=arguments.length<=3||void 0===arguments[3]?!0:arguments[3],e=s(j(a,b,c).values());return d||(e=e.filter(function(a){return a>0})),e.reduce(function(a,b){return a+b},0)/e.length}function i(a,b,c,d){return w["default"]("averageClustering",[a,b,c,d])}function j(a,b,c){if(a.isDirected())throw new y["default"]("Clustering algorithms are not defined for directed graphs.");var d=null==c?f(a,b):g(a,b,c),e=new z.Map(z.mapIterator(d,function(a){var b=p(a,3),c=b[0],d=b[1],e=b[2];return z.tuple2(c,0===e?0:e/(d*(d-1)))}));return a.hasNode(b)?z.next(e.values()):e}function k(a,b,c){return w["default"]("clustering",[a,b,c])}function l(a){var b=0,c=0,d=!0,e=!1,g=void 0;try{for(var h,i=r(f(a));!(d=(h=i.next()).done);d=!0){var j=p(h.value,3),k=(j[0],j[1]),l=j[2];c+=k*(k-1),b+=l}}catch(m){e=!0,g=m}finally{try{!d&&i["return"]&&i["return"]()}finally{if(e)throw g}}return 0===b?0:b/c}function m(a){return w["default"]("transitivity",[a])}function n(a,b){var c=null==b?a:a.nbunchIter(b),d=new z.Map,e=!0,f=!1,g=void 0;try{for(var h,i=r(c);!(e=(h=i.next()).done);e=!0){var j=h.value;d.set(j,0);var k=0,l=!0,m=!1,n=void 0;try{for(var o,q=r(z.genCombinations(a.get(j).keys(),2));!(l=(o=q.next()).done);l=!0){var s=p(o.value,2),t=s[0],u=s[1],v=new z.Set(a.get(t).keys()).intersection(new z.Set(a.get(u).keys()));v["delete"](j),v=v.size,d.set(j,d.get(j)+v);var w=v+1;a.get(t).has(u)&&(w+=1),k+=(a.get(t).size-w)*(a.get(u).size-w)+v}}catch(x){m=!0,n=x}finally{try{!l&&q["return"]&&q["return"]()}finally{if(m)throw n}}k>0&&d.set(j,d.get(j)/k)}}catch(x){f=!0,g=x}finally{try{!e&&i["return"]&&i["return"]()}finally{if(f)throw g}}return a.hasNode(b)?z.next(d.values()):d}function o(a,b){return w["default"]("squareClustering",[a,b])}var p=a("babel-runtime/helpers/sliced-to-array")["default"],q=a("babel-runtime/regenerator")["default"],r=a("babel-runtime/core-js/get-iterator")["default"],s=a("babel-runtime/core-js/array/from")["default"],t=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.triangles=d,c.genTriangles=e,c.averageClustering=h,c.genAverageClustering=i,c.clustering=j,c.genClustering=k,c.transitivity=l,c.genTransitivity=m,c.squareClustering=n,c.genSquareClustering=o;var u=[f,g].map(q.mark),v=a("../_internals/delegate"),w=t(v),x=a("../exceptions/JSNetworkXError"),y=t(x),z=a("../_internals")},{"../_internals":187,"../_internals/delegate":179,"../exceptions/JSNetworkXError":239,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57,"babel-runtime/regenerator":58}],215:[function(a,b,c){"use strict";function d(a){try{return f(a),!0}catch(b){if(b instanceof r["default"])return!1;throw b}}function e(a){return n["default"]("isDirectedAcyclicGraph",[a])}function f(a,b){if(!a.isDirected())throw new p["default"]("Topological sort not defined on undirected graphs.");var c=new s.Set,d=[],e=new s.Set;return null==b&&(b=a.nodesIter()),s.forEach(b,function(b){if(!e.has(b))for(var f=[b];f.length>0;){var g=f[f.length-1];if(e.has(g))f.pop();else{c.add(g);var h=[];a.get(g).forEach(function(a,b){if(!e.has(b)){if(c.has(b))throw new r["default"]("Graph contains a cycle.");h.push(b)}}),h.length>0?f.push.apply(f,h):(e.add(g),d.unshift(g))}}}),d}function g(a,b){return n["default"]("topologicalSort",[a,b])}function h(a,b){function c(a,b,d,e){return b.add(e),a.get(e).forEach(function(e,f){if(b.has(f)){if(b.has(f)&&-1===d.indexOf(f))throw new r["default"]("Graph contains a cycle.")}else if(!c(a,b,d,f))return!1}),d.unshift(e),!0}if(!a.isDirected())throw new p["default"]("Topological sort not defined on undirected graphs.");var d=new s.Set,e=[];return null==b&&(b=a.nodesIter()),s.forEach(b,function(b){if(-1===e.indexOf(b)&&!c(a,d,e,b))throw new r["default"]("Graph contains a cycle.")}),e}function i(a,b){return n["default"]("topologicalSortRecursive",[a,b])}function j(a){for(var b,c=!0;c;){var d=a;if(e=f=g=h=i=j=k=l=void 0,c=!1,!d.isDirected())throw new p["default"]("is_aperiodic not defined for undirected graphs.");var e=d.nodesIter().next();if(e.done)return!0;var f=new s.Map;f.set(e.value,0);for(var g=[e.value],h=0,i=1;g.length>0;){for(var j=[],k=0;k<g.length;k++){var l=g[k];d.get(l).forEach(function(a,b){f.has(b)?h=s.gcd(h,f.get(l)-f.get(b)+1):(j.push(b),f.set(b,i))})}g=j,i+=1}if(f.size===d.numberOfNodes())return 1===h;if(!(b=1===h))return b;a=d.subgraph(new s.Set(d.nodes()).difference(f.keys())),c=!0}}function k(a){return n["default"]("isAperiodic",[a])}var l=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.isDirectedAcyclicGraph=d,c.genIsDirectedAcyclicGraph=e,c.topologicalSort=f,c.genTopologicalSort=g,c.topologicalSortRecursive=h,c.genTopologicalSortRecursive=i,c.isAperiodic=j,c.genIsAperiodic=k;var m=a("../_internals/delegate"),n=l(m),o=a("../exceptions/JSNetworkXError"),p=l(o),q=a("../exceptions/JSNetworkXUnfeasible"),r=l(q),s=a("../_internals")},{"../_internals":187,"../_internals/delegate":179,"../exceptions/JSNetworkXError":239,"../exceptions/JSNetworkXUnfeasible":242,"babel-runtime/helpers/interop-require-default":55}],216:[function(a,b,c){"use strict";function d(a){var b=arguments.length<=1||void 0===arguments[1]?"hh":arguments[1];switch(b){case"eg":return k(n(a));case"hh":return i(n(a));default:throw new r.JSNetworkXException("`opt_method` must be 'eg' or 'hh'")}}function e(a,b){return q["default"]("isGraphical",[a,b])}function f(a,b){return d(a,b)}function g(a,b){return q["default"]("isValidDegreeSequence",[a,b])}function h(a){if(!a.every(function(a){return Math.floor(a)===a}))throw new r.JSNetworkXUnfeasible;for(var b=a.length,c=t["default"](b,0),d=0,e=b,f=0,g=0,h=0;b>h;h++){var i=a[h];if(0>i||i>=b)throw new r.JSNetworkXUnfeasible;i>0&&(d=Math.max(d,i),e=Math.min(e,i),f+=i,g+=1,c[i]+=1)}if(f%2===1||f>g*(g-1))throw new r.JSNetworkXUnfeasible;return[d,e,f,g,c]}function i(a){var b,c,d,e,f;try{var g=h(a),i=m(g,5);c=i[0],d=i[1],b=i[2],e=i[3],f=i[4]}catch(j){if(j instanceof r.JSNetworkXUnfeasible)return!1;throw j}if(0===e||4*d*e>=Math.pow(c+d+1,2))return!0;for(var k=t["default"](c+1,0);e>0;){for(;0===f[c];)c-=1;if(c>e-1)return!1;f[c]-=1,e-=1;for(var l=0,n=c,o=0;c>o;o++){for(;0===f[n];)n-=1;f[n]-=1,e-=1,n>1&&(k[l]=n-1,l+=1)}for(o=0;l>o;o++){var p=k[o];f[p]+=1,e+=1}}return!0}function j(a){return q["default"]("isValidDegreeSequenceHavelHakimi",[a])}function k(a){var b,c,d,e,f;try{var g=h(a),i=m(g,5);b=i[0],c=i[1],d=i[2],e=i[3],f=i[4]}catch(j){if(j instanceof r.JSNetworkXUnfeasible)return!1;throw j}if(0===e||4*c*e>=Math.pow(b+c+1,2))return!0;for(var k=0,l=0,n=0,o=0,p=b;p>=c;p-=1){if(k+1>p)return!0;if(f[p]>0){var q=f[p];k+q>p&&(q=p-k),l+=q*p;for(var s=0;q>s;s++)n+=f[k+s],o+=(k+s)*f[k+s];if(k+=q,l>k*(e-1)-k*n+o)return!1}}return!0}function l(a){return q["default"]("isValidDegreeSequenceErdosGallai",[a])}var m=a("babel-runtime/helpers/sliced-to-array")["default"],n=a("babel-runtime/core-js/array/from")["default"],o=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.isGraphical=d,c.genIsGraphical=e,c.isValidDegreeSequence=f,c.genIsValidDegreeSequence=g,c.isValidDegreeSequenceHavelHakimi=i,c.genIsValidDegreeSequenceHavelHakimi=j,c.isValidDegreeSequenceErdosGallai=k,c.genIsValidDegreeSequenceErdosGallai=l;var p=a("../_internals/delegate"),q=o(p),r=a("../exceptions"),s=a("../_internals/fillArray"),t=o(s)},{"../_internals/delegate":179,"../_internals/fillArray":180,"../exceptions":244,"babel-runtime/core-js/array/from":35,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57}],217:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-wildcard")["default"],e=a("babel-runtime/helpers/defaults")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./centrality"),g=d(f),h=a("./clique"),i=d(h),j=a("./cluster"),k=d(j),l=a("./dag"),m=d(l),n=a("./graphical"),o=d(n),p=a("./isomorphism"),q=d(p),r=a("./operators"),s=d(r),t=a("./shortestPaths"),u=d(t);c.centrality=g,c.clique=i,c.cluster=k,c.dag=m,c.graphical=o,c.isomorphism=q,c.operators=s,c.shortestPaths=u,e(c,d(f)),e(c,d(h)),e(c,d(j)),e(c,d(l)),e(c,d(n)),e(c,d(p)),e(c,d(r)),e(c,d(t))},{"./centrality":212,"./clique":213,"./cluster":214,"./dag":215,"./graphical":216,"./isomorphism":218,"./operators":221,"./shortestPaths":223,"babel-runtime/helpers/defaults":51,"babel-runtime/helpers/interop-require-wildcard":56}],218:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-wildcard")["default"],e=a("babel-runtime/helpers/defaults")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./isomorph"),g=d(f);c.isomorph=g,e(c,d(f))},{"./isomorph":219,"babel-runtime/helpers/defaults":51,"babel-runtime/helpers/interop-require-wildcard":56}],219:[function(a,b,c){"use strict";function d(a,b){if(a.order()!==b.order())return!1;var c=a.degree(),d=o.triangles(a),e=n.numberOfCliques(a),f=[];c.forEach(function(a,b){f.push([c.get(b),d.get(b),e.get(b)])}),f.sort(function(a,b){return a[0]-b[0]||a[1]-b[1]||a[2]-b[2]});var g=b.degree(),h=o.triangles(b),i=n.numberOfCliques(b),j=[];return g.forEach(function(a,b){j.push([g.get(b),h.get(b),i.get(b)])}),j.sort(function(a,b){return a[0]-b[0]||a[1]-b[1]||a[2]-b[2]}),f.every(function(a,b){var c=j[b];return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]})}function e(a,b){return m["default"]("couldBeIsomorphic",[a,b])}function f(a,b){if(a.order()!==b.order())return!1;var c=a.degree(),d=o.triangles(a),e=[];c.forEach(function(a,b){e.push([c.get(b),d.get(b)])}),e.sort(function(a,b){return a[0]-b[0]||a[1]-b[1]});var f=b.degree(),g=o.triangles(b),h=[];return f.forEach(function(a,b){h.push([f.get(b),g.get(b)])}),h.sort(function(a,b){return a[0]-b[0]||a[1]-b[1]}),e.every(function(a,b){var c=h[b];return a[0]===c[0]&&a[1]===c[1]})}function g(a,b){return m["default"]("fastCouldBeIsomorphic",[a,b])}function h(a,b){if(a.order()!==b.order())return!1;var c=j(a.degree().values());c.sort(function(a,b){return a-b});var d=j(b.degree().values());return d.sort(function(a,b){return a-b}),c.every(function(a,b){return a===d[b]})}function i(a,b){return m["default"]("fasterCouldBeIsomorphic",[a,b])}var j=a("babel-runtime/core-js/array/from")["default"],k=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.couldBeIsomorphic=d,c.genCouldBeIsomorphic=e,c.fastCouldBeIsomorphic=f,c.genFastCouldBeIsomorphic=g,c.fasterCouldBeIsomorphic=h,c.genFasterCouldBeIsomorphic=i;var l=a("../../_internals/delegate"),m=k(l),n=a("../clique"),o=a("../cluster")},{"../../_internals/delegate":179,"../clique":213,"../cluster":214,"babel-runtime/core-js/array/from":35,"babel-runtime/helpers/interop-require-default":55}],220:[function(a,b,c){"use strict";function d(a,b){var c=new A["default"](b),d=new A["default"](a);if(c.size!==d.size||B.someIterator(d.values(),function(a){return!c.has(a)}))throw new w["default"]("Node sets of graphs are not equal.")}function e(a,b){function c(a,b){return b?x.relabelNodes(a,function(a){return b+a.toString()}):a}var d=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],e=d.rename,f=void 0===e?[null,null]:e;if(a.isMultigraph()!==b.isMultigraph())throw new w["default"]("G and H must both be graphs or multigraphs");var g=new a.constructor;if(g.name="union("+a.name+", "+b.name+")",a=c(a,f[0]),b=c(b,f[1]),new A["default"](a).intersection(new A["default"](b)).size>0)throw new w["default"]("The node sets of G and H are not disjoint. Use appropriate {rename: [Gprefix, Hprefix]} or use disjointUnion({G, H})");return g.addNodesFrom(a.nodesIter(!0)),g.addNodesFrom(b.nodesIter(!0)),g.addEdgesFrom(a.isMultigraph()?a.edgesIter(!0,!0):a.edgesIter(!0)),g.addEdgesFrom(b.isMultigraph()?b.edgesIter(!0,!0):b.edgesIter(!0)),q(g.graph,a.graph,b.graph),g}function f(a,b,c){return u["default"]("union",[a,b,c])}function g(a,b){var c=x.convertNodeLabelsToIntegers(a),d=x.convertNodeLabelsToIntegers(b,c.order()),f=e(c,d);return f.name="disjointUnion("+a.name+", "+b.name+")",q(f.graph,a.graph,b.graph),f}function h(a,b){return u["default"]("disjointUnion",[a,b])}function i(a,b){if(a.isMultigraph()!==b.isMultigraph())throw new w["default"]("G and H must both be graphs or multigraphs");var c=y.createEmptyCopy(a);c.name="Intersection of ("+a.name+" and "+b.name+")",d(a,b);var e=a.numberOfEdges()<b.numberOfEdges()?a:b,f=e===a?b:a,g=e.isMultigraph()?e.edgesIter(!1,!0):e.edgesIter(),h=f.hasEdge,i=c.addEdge,j=!0,k=!1,l=void 0;try{for(var m,n=r(g);!(j=(m=n.next()).done);j=!0){var o=m.value;h.apply(f,o)&&i.apply(c,o)}}catch(p){k=!0,l=p}finally{try{!j&&n["return"]&&n["return"]()}finally{if(k)throw l}}return c}function j(a,b){return u["default"]("intersection",[a,b])}function k(a,b){if(a.isMultigraph()!==b.isMultigraph())throw new w["default"]("G and H must both be graphs or multigraphs");var c=y.createEmptyCopy(a);a.name="Difference of ("+a.name+" and "+b.name+")",d(a,b);var e=a.isMultigraph()?a.edgesIter(!1,!0):a.edgesIter(),f=b.hasEdge,g=c.addEdge,h=!0,i=!1,j=void 0;try{for(var k,l=r(e);!(h=(k=l.next()).done);h=!0){var m=k.value;f.apply(b,m)||g.apply(c,m)}}catch(n){i=!0,j=n}finally{try{!h&&l["return"]&&l["return"]()}finally{if(i)throw j}}return c}function l(a,b){return u["default"]("difference",[a,b])}function m(a,b){if(a.isMultigraph()!==b.isMultigraph())throw new w["default"]("G and H must both be graphs or multigraphs");var c=y.createEmptyCopy(a);c.name="Symmetric difference of ("+a.name+" and "+b.name+")",d(a,b),c.addNodesFrom(z.symmetricDifference(new A["default"](a),new A["default"](b)));var e=a.isMultigraph()?a.edgesIter(!1,!0):a.edgesIter(),f=c.addEdge,g=b.hasEdge,h=!0,i=!1,j=void 0;try{for(var k,l=r(e);!(h=(k=l.next()).done);h=!0){var m=k.value;g.apply(b,m)||f.apply(c,m)}}catch(n){i=!0,j=n}finally{try{!h&&l["return"]&&l["return"]()}finally{if(i)throw j}}e=b.isMultigraph()?b.edgesIter(!1,!0):b.edgesIter(),g=b.hasEdge;var o=!0,p=!1,q=void 0;try{for(var s,t=r(e);!(o=(s=t.next()).done);o=!0){var m=s.value;g.apply(a,m)||f.apply(c,m)}}catch(n){p=!0,q=n}finally{try{!o&&t["return"]&&t["return"]()}finally{if(p)throw q}}return c}function n(a,b){return u["default"]("symmetricDifference",[a,b])}function o(a,b){if(a.isMultigraph()!==b.isMultigraph())throw new w["default"]("G and H must both be graphs or multigraphs");var c=new a.constructor;return c.name="compose("+a.name+", "+b.name+")",c.addNodesFrom(a.nodesIter(!0)),c.addNodesFrom(b.nodesIter(!0)),c.addEdgesFrom(a.isMultigraph()?a.edgesIter(!0,!0):a.edgesIter(!0)),c.addEdgesFrom(b.isMultigraph()?b.edgesIter(!0,!0):b.edgesIter(!0)),q(c.graph,a.graph,b.graph),c}function p(a,b){return u["default"]("compose",[a,b])}var q=a("babel-runtime/core-js/object/assign")["default"],r=a("babel-runtime/core-js/get-iterator")["default"],s=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.union=e,c.genUnion=f,c.disjointUnion=g,c.genDisjointUnion=h,c.intersection=i,c.genIntersection=j,c.difference=k,c.genDifference=l,c.symmetricDifference=m,c.genSymmetricDifference=n,c.compose=o,c.genCompose=p;var t=a("../../_internals/delegate"),u=s(t),v=a("../../exceptions/JSNetworkXError"),w=s(v),x=a("../../relabel"),y=a("../../classes/functions"),z=a("../../_internals/Set"),A=s(z),B=a("../../_internals")},{"../../_internals":187,"../../_internals/Set":172,"../../_internals/delegate":179,"../../classes/functions":230,"../../exceptions/JSNetworkXError":239,"../../relabel":252,"babel-runtime/core-js/get-iterator":36,"babel-runtime/core-js/object/assign":39,"babel-runtime/helpers/interop-require-default":55}],221:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-wildcard")["default"],e=a("babel-runtime/helpers/defaults")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./binary"),g=d(f);c.binary=g,e(c,d(f))},{"./binary":220,"babel-runtime/helpers/defaults":51,"babel-runtime/helpers/interop-require-wildcard":56}],222:[function(a,b,c){"use strict";function d(a,b){var c=b.source,d=b.target;try{f(a,{source:c,target:d})}catch(e){if(e instanceof o.JSNetworkXNoPath)return!1;throw e}return!0}function e(a,b){return n["default"]("hasPath",[a,b])}function f(a){var b,c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=c.source,e=c.target,f=c.weight;if(null==d)if(null==e)b=null==f?p.allPairsShortestPath(a):q.allPairsDijkstraPath(a,{weight:f});else{var g=a.isDirected();try{g&&a.reverse(!1),b=null==f?p.singleSourceShortestPath(a,e):q.singleSourceDijkstraPath(a,{target:e,weight:f});var h=!0,i=!1,l=void 0;try{for(var m,n=k(b);!(h=(m=n.next()).done);h=!0){var o=j(m.value,2),r=o[0],s=o[1];b.set(r,s.reverse())}}catch(t){i=!0,l=t}finally{try{!h&&n["return"]&&n["return"]()}finally{if(i)throw l}}}finally{g&&a.reverse(!1)}}else b=null==e?null==f?p.singleSourceShortestPath(a,d):q.singleSourceDijkstraPath(a,{source:d,weight:f}):null==f?p.bidirectionalShortestPath(a,d,e):q.dijkstraPath(a,{source:d,target:e,weight:f});return b}function g(a,b){return n["default"]("shortestPath",[a,b])}function h(a){var b,c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],d=c.source,e=c.target,f=c.weight;if(null==d)if(null==e)b=null==f?p.allPairsShortestPathLength(a):q.allPairsDijkstraPathLength(a,{weight:f});else{var g=a.isDirected();try{g&&a.reverse(!1),b=null==f?p.singleSourceShortestPathLength(a,e):q.singleSourceDijkstraPathLength(a,{target:e,weight:f})}finally{g&&a.reverse(!1)}}else null==e?b=null==f?p.singleSourceShortestPathLength(a,d):q.singleSourceDijkstraPathLength(a,{source:d,weight:f}):null==f?(b=p.bidirectionalShortestPath(a,d,e),b=b.length-1):b=q.dijkstraPathLength(a,{source:d,target:e,weight:f});return b}function i(a,b){return n["default"]("shortestPathLength",[a,b])}var j=a("babel-runtime/helpers/sliced-to-array")["default"],k=a("babel-runtime/core-js/get-iterator")["default"],l=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.hasPath=d,c.genHasPath=e,c.shortestPath=f,c.genShortestPath=g,c.shortestPathLength=h,c.genShortestPathLength=i;var m=a("../../_internals/delegate"),n=l(m),o=a("../../exceptions"),p=a("./unweighted"),q=a("./weighted")},{"../../_internals/delegate":179,"../../exceptions":244,"./unweighted":224,"./weighted":225,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57}],223:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-wildcard")["default"],e=a("babel-runtime/helpers/defaults")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./generic"),g=d(f),h=a("./unweighted"),i=d(h),j=a("./weighted"),k=d(j);c.generic=g,c.unweighted=i,c.weighted=k,e(c,d(f)),e(c,d(h)),e(c,d(j))},{"./generic":222,"./unweighted":224,"./weighted":225,"babel-runtime/helpers/defaults":51,"babel-runtime/helpers/interop-require-wildcard":56}],224:[function(a,b,c){"use strict";function d(a,b,c){for(var d=new w.Map,e=0,f=new w.Map([[b,1]]);f.size>0;){var g=f;f=new w.Map;var h=!0,i=!1,j=void 0;try{for(var k,l=r(g.keys());!(h=(k=l.next()).done);h=!0){var m=k.value;d.has(m)||(d.set(m,e),a.get(m).forEach(function(a,b){return f.set(b,1)}))}}catch(n){i=!0,j=n}finally{try{!h&&l["return"]&&l["return"]()}finally{if(i)throw j}}if(null!=c&&e>=c)break;e+=1}return d}function e(a,b,c){return u["default"]("singleSourceShortestPathLength",[a,b,c])}function f(a,b){var c=new w.Map,e=!0,f=!1,g=void 0;try{for(var h,i=r(a);!(e=(h=i.next()).done);e=!0){var j=h.value;c.set(j,d(a,j,b))}}catch(k){f=!0,g=k}finally{try{!e&&i["return"]&&i["return"]()}finally{if(f)throw g}}return c}function g(a,b){return u["default"]("allPairsShortestPathLength",[a,b])}function h(a,b,c){for(var d=j(a,b,c),e=q(d,3),f=e[0],g=e[1],h=e[2],i=[];null!=h;)i.push(h),h=f.get(h);for(h=g.get(i[0]),i.reverse();null!=h;)i.push(h),h=g.get(h);return i}function i(a,b,c){return u["default"]("bidirectionalShortestPath",[a,b,c])}function j(a,b,c){if(w.nodesAreEqual(b,c))return[new w.Map([[b,null]]),new w.Map([[c,null]]),b];var d,e;a.isDirected()?(d=a.predecessorsIter.bind(a),e=a.successorsIter.bind(a)):(d=a.neighborsIter.bind(a),e=a.neighborsIter.bind(a));for(var f,g=new w.Map([[b,null]]),h=new w.Map([[c,null]]),i=[b],j=[c];i.length>0&&j.length>0;)if(i.length<=j.length){f=i,i=[];var k=!0,l=!1,m=void 0;try{for(var n,o=r(f);!(k=(n=o.next()).done);k=!0){var p=n.value,q=!0,s=!1,t=void 0;try{for(var u,x=r(e(p));!(q=(u=x.next()).done);q=!0){var y=u.value;if(g.has(y)||(i.push(y),g.set(y,p)),h.has(y))return[g,h,y]}}catch(z){s=!0,t=z}finally{try{!q&&x["return"]&&x["return"]()}finally{if(s)throw t}}}}catch(z){l=!0,m=z}finally{try{!k&&o["return"]&&o["return"]()}finally{if(l)throw m}}}else{f=j,j=[];var A=!0,B=!1,C=void 0;try{for(var D,E=r(f);!(A=(D=E.next()).done);A=!0){var p=D.value,F=!0,G=!1,H=void 0;try{for(var I,J=r(d(p));!(F=(I=J.next()).done);F=!0){var y=I.value;if(h.has(y)||(j.push(y),h.set(y,p)),g.has(y))return[g,h,y]}}catch(z){G=!0,H=z}finally{try{!F&&J["return"]&&J["return"]()}finally{if(G)throw H}}}}catch(z){B=!0,C=z}finally{try{!A&&E["return"]&&E["return"]()}finally{if(B)throw C}}}throw new v.JSNetworkXNoPath(w.sprintf("No path between `%j` and `%j`.",b,c))}function k(a,b,c){var d=0,e=new w.Map([[b,1]]),f=new w.Map([[b,[b]]]);if(0===c)return f;for(;e.size>0;){var g=e;e=new w.Map;var h=!0,i=!1,j=void 0;try{for(var k,l=r(g.keys());!(h=(k=l.next()).done);h=!0){var m=k.value,n=!0,o=!1,p=void 0;try{for(var q,s=r(a.get(m).keys());!(n=(q=s.next()).done);n=!0){var t=q.value;f.has(t)||(f.set(t,f.get(m).concat([t])),e.set(t,1))}}catch(u){o=!0,p=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw p}}}}catch(u){i=!0,j=u}finally{try{!h&&l["return"]&&l["return"]()}finally{if(i)throw j}}if(d+=1,null!=c&&d>=c)break}return f}function l(a,b,c){return u["default"]("singleSourceShortestPath",[a,b,c])}function m(a,b){var c=new w.Map,d=!0,e=!1,f=void 0;try{for(var g,h=r(a);!(d=(g=h.next()).done);d=!0){var i=g.value;c.set(i,k(a,i,b))}}catch(j){e=!0,f=j}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}function n(a,b){return u["default"]("allPairsShortestPath",[a,b])}function o(a,b){for(var c=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],d=c.target,e=c.cutoff,f=c.returnSeen,g=0,h=[b],i=new w.Map([[b,g]]),j=new w.Map([[b,[]]]);h.length>0;){g+=1;var k=h;if(h=[],k.forEach(function(b){a.get(b).forEach(function(a,c){i.has(c)?i.get(c)===g&&j.get(c).push(b):(j.set(c,[b]),i.set(c,g),h.push(c))})}),null!=e&&g>=e)break}return null!=d?f?j.has(d)?[j.get(d),i.get(d)]:[[],-1]:w.getDefault(j.get(d),[]):f?[j,i]:j}function p(a,b,c){return u["default"]("predecessor",[a,b,c])}var q=a("babel-runtime/helpers/sliced-to-array")["default"],r=a("babel-runtime/core-js/get-iterator")["default"],s=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.singleSourceShortestPathLength=d,c.genSingleSourceShortestPathLength=e,c.allPairsShortestPathLength=f,c.genAllPairsShortestPathLength=g,c.bidirectionalShortestPath=h,c.genBidirectionalShortestPath=i,c.singleSourceShortestPath=k,c.genSingleSourceShortestPath=l,c.allPairsShortestPath=m,c.genAllPairsShortestPath=n,c.predecessor=o,c.genPredecessor=p;var t=a("../../_internals/delegate"),u=s(t),v=a("../../exceptions"),w=a("../../_internals")},{"../../_internals":187,"../../_internals/delegate":179,"../../exceptions":244,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57}],225:[function(a,b,c){"use strict";function d(a,b){var c=b.source,d=b.target,e=b.weight,f=void 0===e?"weight":e,g=m(a,{source:c,target:d,weight:f}),h=t(g,2),i=(h[0],h[1]),j=i.get(d);if(!j)throw new A["default"](y.sprintf("Node %j is not reachable from %j",c,d));return j}function e(a,b){return x["default"]("dijkstraPath",[a,b])}function f(a,b){var c=b.source,d=b.target,e=b.weight,f=void 0===e?"weight":e,g=k(a,{source:c,weight:f}),h=g.get(d);if(null==h)throw new A["default"](y.sprintf("Node %j is not reachable from %j",c,d));return h}function g(a,b){return x["default"]("dijkstraPathLength",[a,b])}function h(a,b){var c=1/0;for(var d in a){var e=y.getDefault(a[d][b],1);c>e&&(c=e)}return c}function i(a,b){var c=b.source,d=b.cutoff,e=b.weight,f=void 0===e?"weight":e,g=m(a,{source:c,cutoff:d,weight:f}),h=t(g,2),i=(h[0],h[1]);return i}function j(a,b){return x["default"]("singleSourceDijkstraPath",[a,b])}function k(a,b){var c=b.source,d=b.cutoff,e=b.weight,f=void 0===e?"weight":e,g=new y.Map,i=new y.Map([[c,0]]),j=new y.PriorityQueue,k=0;for(j.enqueue(0,[k++,c]);j.size>0;){
var l=j.dequeue(),m=t(l,2),n=m[0],o=t(m[1],2),p=(o[0],o[1]);if(!g.has(p)){g.set(p,n);var q=void 0;q=a.isMultigraph()?y.mapIterator(a.get(p),function(a){var b=t(a,2),c=b[0],d=b[1];return[c,s({},f,h(d,f))]}):a.get(p);var r=!0,v=!1,w=void 0;try{for(var x,z=u(q);!(r=(x=z.next()).done);r=!0){var A=t(x.value,2),B=A[0],C=A[1],D=n+y.getDefault(C[f],1);if(!(null!=d&&D>d))if(g.has(B)){if(D<g.get(B))throw new Error("Contradictory paths found: negative weights?")}else(!i.has(B)||D<i.get(B))&&(i.set(B,D),j.enqueue(D,[k++,B]))}}catch(E){v=!0,w=E}finally{try{!r&&z["return"]&&z["return"]()}finally{if(v)throw w}}}}return g}function l(a,b){return x["default"]("singleSourceDijkstraPathLength",[a,b])}function m(a,b){var c=b.source,d=b.target,e=b.cutoff,f=b.weight,g=void 0===f?"weight":f;if(y.nodesAreEqual(c,d))return[new y.Map([[c,0]]),new y.Map([[c,d]])];var i=new y.Map,j=new y.Map([[c,[c]]]),k=new y.Map([[c,0]]),l=new y.PriorityQueue,m=0;for(l.enqueue(0,[m++,c]);l.size>0;){var n=l.dequeue(),o=t(n,2),p=o[0],q=t(o[1],2),r=(q[0],q[1]);if(!i.has(r)){if(i.set(r,p),y.nodesAreEqual(r,d))break;var v=void 0;v=a.isMultigraph()?y.mapIterator(a.get(r),function(a){var b=t(a,2),c=b[0],d=b[1];return[c,s({},g,h(d,g))]}):a.get(r);var w=!0,x=!1,z=void 0;try{for(var A,B=u(v);!(w=(A=B.next()).done);w=!0){var C=t(A.value,2),D=C[0],E=C[1],F=p+y.getDefault(E[g],1);if(!(null!=e&&F>e))if(i.has(D)){if(F<i.get(D))throw new Error("Contradictory paths found: negative weights?")}else(!k.has(D)||F<k.get(D))&&(k.set(D,F),l.enqueue(F,[m++,D]),j.set(D,j.get(r).concat([D])))}}catch(G){x=!0,z=G}finally{try{!w&&B["return"]&&B["return"]()}finally{if(x)throw z}}}}return[i,j]}function n(a,b){return x["default"]("singleSourceDijkstra",[a,b])}function o(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=b.cutoff,d=b.weight,e=void 0===d?"weight":d,f=new y.Map,g={weight:e,cutoff:c},h=!0,i=!1,j=void 0;try{for(var l,m=u(a);!(h=(l=m.next()).done);h=!0){var n=l.value;g.source=n,f.set(n,k(a,g))}}catch(o){i=!0,j=o}finally{try{!h&&m["return"]&&m["return"]()}finally{if(i)throw j}}return f}function p(a,b){return x["default"]("allPairsDijkstraPathLength",[a,b])}function q(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],c=b.cutoff,d=b.weight,e=void 0===d?"weight":d,f=new y.Map,g={weight:e,cutoff:c},h=!0,j=!1,k=void 0;try{for(var l,m=u(a);!(h=(l=m.next()).done);h=!0){var n=l.value;g.source=n,f.set(n,i(a,g))}}catch(o){j=!0,k=o}finally{try{!h&&m["return"]&&m["return"]()}finally{if(j)throw k}}return f}function r(a,b){return x["default"]("allPairsDijkstraPath",[a,b])}var s=a("babel-runtime/helpers/define-property")["default"],t=a("babel-runtime/helpers/sliced-to-array")["default"],u=a("babel-runtime/core-js/get-iterator")["default"],v=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.dijkstraPath=d,c.genDijkstraPath=e,c.dijkstraPathLength=f,c.genDijkstraPathLength=g,c.singleSourceDijkstraPath=i,c.genSingleSourceDijkstraPath=j,c.singleSourceDijkstraPathLength=k,c.genSingleSourceDijkstraPathLength=l,c.singleSourceDijkstra=m,c.genSingleSourceDijkstra=n,c.allPairsDijkstraPathLength=o,c.genAllPairsDijkstraPathLength=p,c.allPairsDijkstraPath=q,c.genAllPairsDijkstraPath=r;var w=a("../../_internals/delegate"),x=v(w),y=a("../../_internals"),z=a("../../exceptions/JSNetworkXNoPath"),A=v(z)},{"../../_internals":187,"../../_internals/delegate":179,"../../exceptions/JSNetworkXNoPath":241,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/define-property":52,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57}],226:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/get")["default"],e=a("babel-runtime/helpers/inherits")["default"],f=a("babel-runtime/helpers/create-class")["default"],g=a("babel-runtime/helpers/class-call-check")["default"],h=a("babel-runtime/helpers/sliced-to-array")["default"],i=a("babel-runtime/core-js/object/assign")["default"],j=a("babel-runtime/core-js/array/from")["default"],k=a("babel-runtime/regenerator")["default"],l=a("babel-runtime/core-js/get-iterator")["default"],m=a("babel-runtime/helpers/interop-require-default")["default"],n=a("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(c,"__esModule",{value:!0});var o=a("./Graph"),p=m(o),q=a("../_internals/Map"),r=m(q),s=a("../exceptions/JSNetworkXError"),t=m(s),u=a("../convert"),v=n(u),w=a("../_internals"),x=function(a){function b(a,c){g(this,b),d(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.graph={},this.node=new r["default"],this.adj=new r["default"],this.pred=new r["default"],this.succ=this.adj,null!=a&&v.toNetworkxGraph(a,this),i(this.graph,c||{}),this.edge=this.adj}return e(b,a),f(b,[{key:"addNode",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!w.isPlainObject(b))throw new t["default"]("The opt_attr_dict argument must be an object.");this.succ.has(a)?i(this.node.get(a),b):(this.succ.set(a,new r["default"]),this.pred.set(a,new r["default"]),this.node.set(a,b))}},{key:"addNodesFrom",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];w.forEach(a,function(a){var c=!this.succ.has(a);if(Array.isArray(a)&&2===a.length&&w.isPlainObject(a[1])){var d=a[0],e=a[1];if(this.succ.has(d)){var f=this.node.get(d);i(f,b,e)}else{this.succ.set(d,new r["default"]),this.pred.set(d,new r["default"]);var g=w.clone(b);i(g,e),this.node.set(d,g)}}else c?(this.succ.set(a,new r["default"]),this.pred.set(a,new r["default"]),this.node.set(a,w.clone(b))):i(this.node.get(a),b)},this)}},{key:"removeNode",value:function(a){if(!this.node["delete"](a))throw new t["default"](w.sprintf('The node "%j" is not in the graph',a));var b=this.succ.get(a);b.forEach(function(b,c){this.pred.get(c)["delete"](a)},this),this.succ["delete"](a),this.pred.get(a).forEach(function(b,c){this.succ.get(c)["delete"](a)},this),this.pred["delete"](a)}},{key:"removeNodesFrom",value:function(a){w.forEach(a,function(a){if(this.succ.has(a)){var b=this.succ.get(a);this.node["delete"](a),b.forEach(function(b,c){this.pred.get(c)["delete"](a)},this),this.succ["delete"](a),this.pred.get(a).forEach(function(b,c){this.succ.get(c)["delete"](a)},this),this.pred["delete"](a)}},this)}},{key:"addEdge",value:function(a,b){var c=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(!w.isPlainObject(c))throw new t["default"]("The optAttrDict argument must be a plain object.");this.succ.has(a)||(this.succ.set(a,new r["default"]),this.pred.set(a,new r["default"]),this.node.set(a,{})),this.succ.has(b)||(this.succ.set(b,new r["default"]),this.pred.set(b,new r["default"]),this.node.set(b,{}));var d=this.adj.get(a).get(b)||{};i(d,c),this.succ.get(a).set(b,d),this.pred.get(b).set(a,d)}},{key:"addEdgesFrom",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!w.isPlainObject(b))throw new t["default"]("The opt_attr_dict argument must be an object.");w.forEach(a,function(a){var c,d,e,f=w.size(a);if(3===f)c=a[0],d=a[1],e=a[2];else{if(2!==f)throw new t["default"](w.sprintf('Edge tuple "%j" must be a 2-tuple or 3-tuple.',a));c=a[0],d=a[1],e={}}this.succ.has(c)||(this.succ.set(c,new r["default"]),this.pred.set(c,new r["default"]),this.node.set(c,{})),this.succ.has(d)||(this.succ.set(d,new r["default"]),this.pred.set(d,new r["default"]),this.node.set(d,{}));var g=this.adj.get(c).get(d)||{};i(g,b,e),this.succ.get(c).set(d,g),this.pred.get(d).set(c,g)},this)}},{key:"removeEdge",value:function(a,b){var c=this.succ.get(a);if(void 0===c||!c["delete"](b))throw new t["default"](w.sprintf('The edge "%j-%j" is not in the graph',a,b));this.pred.get(b)["delete"](a)}},{key:"removeEdgesFrom",value:function(a){w.forEach(a,function(a){var b=a[0],c=a[1];try{this.succ.get(b)["delete"](c),this.pred.get(c)["delete"](b)}catch(d){}},this)}},{key:"hasSuccessor",value:function(a,b){return this.succ.has(a)&&this.succ.get(a).has(b)}},{key:"hasPredecessor",value:function(a,b){return this.pred.has(a)&&this.pred.get(a).has(b)}},{key:"successorsIter",value:function(a){var b=this.succ.get(a);if(void 0!==b)return b.keys();throw new t["default"](w.sprintf('The node "%j" is not in the digraph.',a))}},{key:"predecessorsIter",value:function(a){var b=this.pred.get(a);if(void 0!==b)return b.keys();throw new t["default"](w.sprintf('The node "%j" is not in the digraph.',a))}},{key:"successors",value:function(a){return j(this.successorsIter(a))}},{key:"predecessors",value:function(a){return j(this.predecessorsIter(a))}},{key:"neighbors",value:function(a){return this.successors(a)}},{key:"neighborsIter",value:function(a){return this.successorsIter(a)}},{key:"edgesIter",value:k.mark(function c(a){var b,d,e,f,g,h,i,j,m,n,o,p,q,r,s=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return k.wrap(function(c){for(var k=this;;)switch(c.prev=c.next){case 0:w.isBoolean(a)&&(s=a,a=void 0),b=void 0===a?this.adj:w.mapIterator(this.nbunchIter(a),function(a){return w.tuple2(a,k.adj.get(a))}),d=!0,e=!1,f=void 0,c.prev=5,g=l(b);case 7:if(d=(h=g.next()).done){c.next=40;break}i=h.value,j=!0,m=!1,n=void 0,c.prev=12,o=l(i[1]);case 14:if(j=(p=o.next()).done){c.next=23;break}return q=p.value,r=[i[0],q[0]],s&&(r[2]=q[1]),c.next=20,r;case 20:j=!0,c.next=14;break;case 23:c.next=29;break;case 25:c.prev=25,c.t0=c["catch"](12),m=!0,n=c.t0;case 29:c.prev=29,c.prev=30,!j&&o["return"]&&o["return"]();case 32:if(c.prev=32,!m){c.next=35;break}throw n;case 35:return c.finish(32);case 36:return c.finish(29);case 37:d=!0,c.next=7;break;case 40:c.next=46;break;case 42:c.prev=42,c.t1=c["catch"](5),e=!0,f=c.t1;case 46:c.prev=46,c.prev=47,!d&&g["return"]&&g["return"]();case 49:if(c.prev=49,!e){c.next=52;break}throw f;case 52:return c.finish(49);case 53:return c.finish(46);case 54:case"end":return c.stop()}},c,this,[[5,42,46,54],[12,25,29,37],[30,,32,36],[47,,49,53]])})},{key:"outEdgesIter",value:function(a,b){return this.edgesIter(a,b)}},{key:"outEdges",value:function(a,b){return this.edges(a,b)}},{key:"inEdgesIter",value:k.mark(function m(a){var b,c,d,e,f,g,h,i,j,n,o,p,q,r,s=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return k.wrap(function(k){for(var m=this;;)switch(k.prev=k.next){case 0:w.isBoolean(a)&&(s=a,a=void 0),b=void 0===a?this.pred:w.mapIterator(this.nbunchIter(a),function(a){return w.tuple2(a,m.pred.get(a))}),c=!0,d=!1,e=void 0,k.prev=5,f=l(b);case 7:if(c=(g=f.next()).done){k.next=40;break}h=g.value,i=!0,j=!1,n=void 0,k.prev=12,o=l(h[1]);case 14:if(i=(p=o.next()).done){k.next=23;break}return q=p.value,r=[q[0],h[0]],s&&(r[2]=q[1]),k.next=20,r;case 20:i=!0,k.next=14;break;case 23:k.next=29;break;case 25:k.prev=25,k.t0=k["catch"](12),j=!0,n=k.t0;case 29:k.prev=29,k.prev=30,!i&&o["return"]&&o["return"]();case 32:if(k.prev=32,!j){k.next=35;break}throw n;case 35:return k.finish(32);case 36:return k.finish(29);case 37:c=!0,k.next=7;break;case 40:k.next=46;break;case 42:k.prev=42,k.t1=k["catch"](5),d=!0,e=k.t1;case 46:k.prev=46,k.prev=47,!c&&f["return"]&&f["return"]();case 49:if(k.prev=49,!d){k.next=52;break}throw e;case 52:return k.finish(49);case 53:return k.finish(46);case 54:case"end":return k.stop()}},m,this,[[5,42,46,54],[12,25,29,37],[30,,32,36],[47,,49,53]])})},{key:"inEdges",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return j(this.inEdgesIter(a,b))}},{key:"degreeIter",value:function(a,b){var c,d=this;if(null==a)c=w.zipIterator(this.succ.entries(),this.pred.entries());else{var e=w.createTupleFactory(2),f=w.createTupleFactory(2);c=w.zipIterator(w.mapIterator(this.nbunchIter(a),function(a){return e(a,d.succ.get(a))}),w.mapIterator(this.nbunchIter(a),function(a){return f(a,d.pred.get(a))}))}return null==b?w.mapIterator(c,function(a){var b=h(a,2),c=h(b[0],2),d=c[0],e=c[1],f=h(b[1],2),g=(f[0],f[1]);return[d,g.size+e.size]}):w.mapIterator(c,function(a){function c(a){var c=a[b];k+=null!=c?+c:1}var d=h(a,2),e=h(d[0],2),f=e[0],g=e[1],i=h(d[1],2),j=(i[0],i[1]),k=0;return g.forEach(c),j.forEach(c),[f,k]})}},{key:"inDegreeIter",value:function(a,b){var c,d=this;return c=null==a?this.pred:w.mapIterator(this.nbunchIter(a),function(a){return w.tuple2(a,d.pred.get(a))}),null==b?w.mapIterator(c,function(a){var b=h(a,2),c=b[0],d=b[1];return[c,d.size]}):w.mapIterator(c,function(a){var c=h(a,2),d=c[0],e=c[1],f=0;return e.forEach(function(a){var c=a[b];f+=null!=c?+c:1}),[d,f]})}},{key:"outDegreeIter",value:function(a,b){var c,d=this;return c=null==a?this.succ:w.mapIterator(this.nbunchIter(a),function(a){return w.tuple2(a,d.succ.get(a))}),null==b?w.mapIterator(c,function(a){var b=h(a,2),c=b[0],d=b[1];return[c,d.size]}):w.mapIterator(c,function(a){var c=h(a,2),d=c[0],e=c[1],f=0;return e.forEach(function(a){var c=a[b];f+=null!=c?+c:1}),[d,f]})}},{key:"inDegree",value:function(a,b){return null!=a&&this.hasNode(a)?w.next(this.inDegreeIter(a,b))[1]:new r["default"](this.inDegreeIter(a,b))}},{key:"outDegree",value:function(a,b){return null!=a&&this.hasNode(a)?w.next(this.outDegreeIter(a,b))[1]:new r["default"](this.outDegreeIter(a,b))}},{key:"clear",value:function(){this.succ.clear(),this.pred.clear(),this.node.clear(),w.clear(this.graph)}},{key:"isMultigraph",value:function(){return!1}},{key:"isDirected",value:function(){return!0}},{key:"toDirected",value:function(){return w.deepcopy(this)}},{key:"toUndirected",value:function(a){var b=new p["default"];b.name=this.name,b.addNodesFrom(this);var c=this.pred;return a?b.addEdgesFrom(k.mark(function d(){var a,b,e,f,g,h,i,j,m,n,o,p,q,r;return k.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:a=!0,b=!1,e=void 0,d.prev=3,f=l(this.adjacencyIter());case 5:if(a=(g=f.next()).done){d.next=39;break}h=g.value,i=h[0],j=c.get(i),m=!0,n=!1,o=void 0,d.prev=12,p=l(h[1]);case 14:if(m=(q=p.next()).done){d.next=22;break}if(r=q.value,!j.has(r[0])){d.next=19;break}return d.next=19,w.tuple3(i,r[0],w.deepcopy(r[1]));case 19:m=!0,d.next=14;break;case 22:d.next=28;break;case 24:d.prev=24,d.t0=d["catch"](12),n=!0,o=d.t0;case 28:d.prev=28,d.prev=29,!m&&p["return"]&&p["return"]();case 31:if(d.prev=31,!n){d.next=34;break}throw o;case 34:return d.finish(31);case 35:return d.finish(28);case 36:a=!0,d.next=5;break;case 39:d.next=45;break;case 41:d.prev=41,d.t1=d["catch"](3),b=!0,e=d.t1;case 45:d.prev=45,d.prev=46,!a&&f["return"]&&f["return"]();case 48:if(d.prev=48,!b){d.next=51;break}throw e;case 51:return d.finish(48);case 52:return d.finish(45);case 53:case"end":return d.stop()}},d,this,[[3,41,45,53],[12,24,28,36],[29,,31,35],[46,,48,52]])}).call(this)):b.addEdgesFrom(k.mark(function e(){var a,b,c,d,f,g,h,i,j,m,n,o;return k.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,b=!1,c=void 0,e.prev=3,d=l(this.adjacencyIter());case 5:if(a=(f=d.next()).done){e.next=36;break}g=f.value,h=!0,i=!1,j=void 0,e.prev=10,m=l(g[1]);case 12:if(h=(n=m.next()).done){e.next=19;break}return o=n.value,e.next=16,w.tuple3(g[0],o[0],w.deepcopy(o[1]));case 16:h=!0,e.next=12;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](10),i=!0,j=e.t0;case 25:e.prev=25,e.prev=26,!h&&m["return"]&&m["return"]();case 28:if(e.prev=28,!i){e.next=31;break}throw j;case 31:return e.finish(28);case 32:return e.finish(25);case 33:a=!0,e.next=5;break;case 36:e.next=42;break;case 38:e.prev=38,e.t1=e["catch"](3),b=!0,c=e.t1;case 42:e.prev=42,e.prev=43,!a&&d["return"]&&d["return"]();case 45:if(e.prev=45,!b){e.next=48;break}throw c;case 48:return e.finish(45);case 49:return e.finish(42);case 50:case"end":return e.stop()}},e,this,[[3,38,42,50],[10,21,25,33],[26,,28,32],[43,,45,49]])}).call(this)),b.graph=w.deepcopy(this.graph),b.node=w.deepcopy(this.node),b}},{key:"reverse",value:function(){var a,b=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];if(b)a=new this.constructor(null,{name:"Reverse of ("+this.name+")"}),a.addNodesFrom(this),a.addEdgesFrom(w.mapIterator(this.edgesIter(null,!0),function(a){return w.tuple3c(a[1],a[0],w.deepcopy(a[2]),a)})),a.graph=w.deepcopy(this.graph),a.node=w.deepcopy(this.node);else{var c=this.pred,d=this.succ;this.succ=c,this.pred=d,this.adj=this.succ,a=this}return a}},{key:"subgraph",value:function(a){var b,c=this.nbunchIter(a),d=new this.constructor,e=!0,f=!1,g=void 0;try{for(var i,j=l(c);!(e=(i=j.next()).done);e=!0)b=i.value,d.node.set(b,this.node.get(b))}catch(k){f=!0,g=k}finally{try{!e&&j["return"]&&j["return"]()}finally{if(f)throw g}}var m=d.succ,n=d.pred,o=!0,p=!1,q=void 0;try{for(var s,t=l(d);!(o=(s=t.next()).done);o=!0)b=s.value,m.set(b,new r["default"]),n.set(b,new r["default"])}catch(k){p=!0,q=k}finally{try{!o&&t["return"]&&t["return"]()}finally{if(p)throw q}}var u=!0,v=!1,w=void 0;try{for(var x,y=l(m);!(u=(x=y.next()).done);u=!0){var z=x.value,A=h(z,2),B=A[0],C=A[1],D=!0,E=!1,F=void 0;try{for(var G,H=l(this.succ.get(B));!(D=(G=H.next()).done);D=!0){var I=G.value,J=h(I,2),K=J[0],L=J[1];m.has(K)&&(C.set(K,L),n.get(K).set(B,L))}}catch(k){E=!0,F=k}finally{try{!D&&H["return"]&&H["return"]()}finally{if(E)throw F}}}}catch(k){v=!0,w=k}finally{try{!u&&y["return"]&&y["return"]()}finally{if(v)throw w}}return d.graph=this.graph,d}}],[{key:"__name__",get:function(){return"DiGraph"}}]),b}(p["default"]);c["default"]=x,b.exports=c["default"]},{"../_internals":187,"../_internals/Map":170,"../convert":235,"../exceptions/JSNetworkXError":239,"./Graph":227,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/get-iterator":36,"babel-runtime/core-js/object/assign":39,"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/create-class":50,"babel-runtime/helpers/get":53,"babel-runtime/helpers/inherits":54,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/interop-require-wildcard":56,"babel-runtime/helpers/sliced-to-array":57,"babel-runtime/regenerator":58}],227:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/create-class")["default"],e=a("babel-runtime/helpers/class-call-check")["default"],f=a("babel-runtime/helpers/sliced-to-array")["default"],g=a("babel-runtime/core-js/object/assign")["default"],h=a("babel-runtime/core-js/array/from")["default"],i=a("babel-runtime/core-js/get-iterator")["default"],j=a("babel-runtime/regenerator")["default"],k=a("babel-runtime/core-js/symbol/iterator")["default"],l=a("babel-runtime/helpers/interop-require-default")["default"],m=a("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(c,"__esModule",{value:!0});var n=a("../exceptions/KeyError"),o=l(n),p=a("../_internals/Map"),q=l(p),r=a("../_internals/Set"),s=l(r),t=a("../exceptions/JSNetworkXError"),u=l(t),v=a("lodash/lang/isBoolean"),w=l(v),x=a("lodash/lang/isString"),y=l(x),z=a("../convert"),A=m(z),B=a("../_internals"),C=function(){function b(a,c){return e(this,b),this instanceof b?(this.graph={},this.node=new q["default"],this.adj=new q["default"],null!=a&&A.toNetworkxGraph(a,this),c&&g(this.graph,c),void(this.edge=this.adj)):new b(a,c)}return d(b,[{key:"toString",value:function(){return this.name}},{key:"get",value:function(a){var b=this.adj.get(a);if("undefined"==typeof b)throw new o["default"]("Graph does not contain node "+a+".");return b}},{key:"addNode",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!B.isPlainObject(b))throw new u["default"]("The attr_dict argument must be an object.");this.node.has(a)?g(this.node.get(a),b):(this.adj.set(a,new q["default"]),this.node.set(a,b))}},{key:"addNodesFrom",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];B.forEach(a,function(a){if(Array.isArray(a)&&2===a.length&&B.isPlainObject(a[1])){var c=f(a,2),d=c[0],e=c[1];if(this.adj.has(d)){var h=this.node.get(d);g(h,b,e)}else{this.adj.set(d,new q["default"]);var i=B.clone(b);this.node.set(d,g(i,e))}}else{var j=!this.node.has(a);j?(this.adj.set(a,new q["default"]),this.node.set(a,B.clone(b))):g(this.node.get(a),b)}},this)}},{key:"removeNode",value:function(a){var b=this.adj;if(!this.node["delete"](a))throw new u["default"]("The node %s is not in the graph",a);b.get(a).forEach(function(c,d){return b.get(d)["delete"](a)}),b["delete"](a)}},{key:"removeNodesFrom",value:function(a){var b=this.adj,c=this.node;B.forEach(a,function(a){c["delete"](a)&&(b.get(a).forEach(function(c,d){return b.get(d)["delete"](a)}),b["delete"](a))})}},{key:"nodesIter",value:function(){var a=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return a?B.toIterator(this.node):this.node.keys()}},{key:"nodes",value:function(){var a=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return h(a?this.node.entries():this.node.keys())}},{key:"numberOfNodes",value:function(){return this.node.size}},{key:"order",value:function(){return this.node.size}},{key:"hasNode",value:function(a){return this.node.has(a)}},{key:"addEdge",value:function(a,b,c){if(c&&!B.isPlainObject(c))throw new u["default"]("The attr_dict argument must be an object.");this.node.has(a)||(this.adj.set(a,new q["default"]),this.node.set(a,{})),this.node.has(b)||(this.adj.set(b,new q["default"]),this.node.set(b,{}));var d=this.adj.get(a).get(b)||{};g(d,c),this.adj.get(a).set(b,d),this.adj.get(b).set(a,d)}},{key:"addEdgesFrom",value:function(a,b){if(b&&!B.isPlainObject(b))throw new u["default"]("The attr_dict argument must be an object.");var c=!0,d=!1,e=void 0;try{for(var h,j=i(a);!(c=(h=j.next()).done);c=!0){var k=h.value;if(null==k.length)throw new u["default"](B.sprintf("Edge tuple %j must be a 2-tuple or 3-tuple.",k));var l=f(k,3),m=l[0],n=l[1],o=l[2];if(B.isPlainObject(o)||(o={}),null==m||null==n||null!=k[3])throw new u["default"](B.sprintf("Edge tuple %j must be a 2-tuple or 3-tuple.",k));this.node.has(m)||(this.adj.set(m,new q["default"]),this.node.set(m,{})),this.node.has(n)||(this.adj.set(n,new q["default"]),this.node.set(n,{}));var p=this.adj.get(m).get(n)||{};g(p,b,o),this.adj.get(m).set(n,p),this.adj.get(n).set(m,p)}}catch(r){d=!0,e=r}finally{try{!c&&j["return"]&&j["return"]()}finally{if(d)throw e}}}},{key:"addWeightedEdgesFrom",value:function(a,b,c){c=c||{},y["default"](b)||(c=b,b="weight"),this.addEdgesFrom(B.mapSequence(a,function(a){var c={};if(c[b]=a[2],null==c[b])throw new TypeError("Values must consist of three elements: %s.",a);return[a[0],a[1],c]}),c)}},{key:"removeEdge",value:function(a,b){var c=this.adj.get(a);if(null==c)throw new u["default"]("The edge %s-%s is not in the graph",a,b);c["delete"](b);var d=this.adj.get(b);d!==c&&d["delete"](a)}},{key:"removeEdgesFrom",value:function(a){var b=this.adj;B.forEach(a,function(a){var c=f(a,2),d=c[0],e=c[1],g=b.get(d);if(null!=g&&g.has(e)){g["delete"](e);var h=b.get(e);h!==g&&h["delete"](d)}})}},{key:"hasEdge",value:function(a,b){var c=this.adj.get(a);return c&&c.has(b)}},{key:"neighbors",value:function(a){return h(this.neighborsIter(a))}},{key:"neighborsIter",value:function(a){var b=this.adj.get(a);if(null!=b)return b.keys();throw new u["default"]("The node %s is not in the graph.",a)}},{key:"edges",value:function(a){var b=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return h(this.edgesIter(a,b))}},{key:"edgesIter",value:j.mark(function c(a){var b,d,e,f,g,h,k,l,m,n,o,p,q,r,t,u,v=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return j.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:w["default"](a)&&(v=a,a=null),b=new s["default"],null==a?d=this.adj.entries():(e=this.adj,d=B.mapIterator(this.nbunchIter(a),function(a){return B.tuple2(a,e.get(a))})),f=!0,g=!1,h=void 0,c.prev=6,k=i(d);case 8:if(f=(l=k.next()).done){c.next=49;break}m=l.value,n=m[0],o=!0,p=!1,q=void 0,c.prev=14,r=i(m[1].entries());case 16:if(o=(t=r.next()).done){c.next=30;break}if(u=t.value,b.has(u[0])){c.next=27;break}if(!v){c.next=25;break}return u.unshift(n),c.next=23,u;case 23:c.next=27;break;case 25:return c.next=27,[n,u[0]];case 27:o=!0,c.next=16;break;case 30:c.next=36;break;case 32:c.prev=32,c.t0=c["catch"](14),p=!0,q=c.t0;case 36:c.prev=36,c.prev=37,!o&&r["return"]&&r["return"]();case 39:if(c.prev=39,!p){c.next=42;break}throw q;case 42:return c.finish(39);case 43:return c.finish(36);case 44:b.add(n),m.length=0;case 46:f=!0,c.next=8;break;case 49:c.next=55;break;case 51:c.prev=51,c.t1=c["catch"](6),g=!0,h=c.t1;case 55:c.prev=55,c.prev=56,!f&&k["return"]&&k["return"]();case 58:if(c.prev=58,!g){c.next=61;break}throw h;case 61:return c.finish(58);case 62:return c.finish(55);case 63:case"end":return c.stop()}},c,this,[[6,51,55,63],[14,32,36,44],[37,,39,43],[56,,58,62]])})},{key:"getEdgeData",value:function(a,b){var c=arguments.length<=2||void 0===arguments[2]?null:arguments[2],d=this.adj.get(a);if(null!=d){var e=d.get(b);if(null!=e)return e}return c}},{key:"adjacencyList",value:function(){return h(B.mapIterator(this.adjacencyIter(),function(a){var b=f(a,2),c=(b[0],b[1]);return h(c.keys())}))}},{key:"adjacencyIter",value:function(){return this.adj.entries()}},{key:"degree",value:function(a,b){return null!=a&&this.hasNode(a)?this.degreeIter(a,b).next().value[1]:new q["default"](this.degreeIter(a,b))}},{key:"degreeIter",value:function(a,b){var c,d,e=this;return null==a?c=this.adj.entries():!function(){var b=e.adj;c=B.mapIterator(e.nbunchIter(a),function(a){return B.tuple2(a,b.get(a))})}(),d=b?B.mapIterator(c,function(a){var c=f(a,2),d=c[0],e=c[1],g=0;if(e.forEach(function(a){var c=a[b];g+=+(null!=c?c:1)}),e.has(d)){var h=e.get(d)[b];g+=+(null!=h?h:1)}return[d,g]}):B.mapIterator(c,function(a){var b=f(a,2),c=b[0],d=b[1];return[c,d.size+ +d.has(c)]})}},{key:"clear",value:function(){this.name="",this.adj.clear(),this.node.clear(),B.clear(this.graph)}},{key:"copy",value:function(){return B.deepcopy(this)}},{key:"isMultigraph",value:function(){return!1}},{key:"isDirected",value:function(){return!1}},{key:"toDirected",value:function(){var b=new(a("./DiGraph"));return b.name=this.name,b.addNodesFrom(this),b.addEdgesFrom(j.mark(function c(){var a,b,d,e,f,g,h,k,l,m,n,o,p;return j.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:a=!0,b=!1,d=void 0,c.prev=3,e=i(this.adjacencyIter());case 5:if(a=(f=e.next()).done){c.next=37;break}g=f.value,h=g[0],k=!0,l=!1,m=void 0,c.prev=11,n=i(g[1]);case 13:if(k=(o=n.next()).done){c.next=20;break}return p=o.value,c.next=17,B.tuple3(h,p[0],B.deepcopy(p[1]));case 17:k=!0,c.next=13;break;case 20:c.next=26;break;case 22:c.prev=22,c.t0=c["catch"](11),l=!0,m=c.t0;case 26:c.prev=26,c.prev=27,!k&&n["return"]&&n["return"]();case 29:if(c.prev=29,!l){c.next=32;break}throw m;case 32:return c.finish(29);case 33:return c.finish(26);case 34:a=!0,c.next=5;break;case 37:c.next=43;break;case 39:c.prev=39,c.t1=c["catch"](3),b=!0,d=c.t1;case 43:c.prev=43,c.prev=44,!a&&e["return"]&&e["return"]();case 46:if(c.prev=46,!b){c.next=49;break}throw d;case 49:return c.finish(46);case 50:return c.finish(43);case 51:case"end":return c.stop()}},c,this,[[3,39,43,51],[11,22,26,34],[27,,29,33],[44,,46,50]])}).call(this)),b.graph=B.deepcopy(this.graph),b.node=B.deepcopy(this.node),b}},{key:"toUndirected",value:function(){return B.deepcopy(this)}},{key:"subgraph",value:function(a){var b,c=this.nbunchIter(a),d=new this.constructor,e=!0,f=!1,g=void 0;try{for(var h,j=i(c);!(e=(h=j.next()).done);e=!0)b=h.value,d.node.set(b,this.node.get(b))}catch(k){f=!0,g=k}finally{try{!e&&j["return"]&&j["return"]()}finally{if(f)throw g}}var l=d.adj,m=this.adj,n=!0,o=!1,p=void 0;try{for(var r,s=i(d);!(n=(r=s.next()).done);n=!0){b=r.value;var t=new q["default"];l.set(b,t);var u=!0,v=!1,w=void 0;try{for(var x,y=i(m.get(b));!(u=(x=y.next()).done);u=!0){var z=x.value,A=z[0],B=z[1];l.has(A)&&(t.set(A,B),l.get(A).set(b,B))}}catch(k){v=!0,w=k}finally{try{!u&&y["return"]&&y["return"]()}finally{if(v)throw w}}}}catch(k){o=!0,p=k}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw p}}return d.graph=this.graph,d}},{key:"nodesWithSelfloops",value:function(){var a=[],b=!0,c=!1,d=void 0;try{for(var e,f=i(this.adj.entries());!(b=(e=f.next()).done);b=!0){var g=e.value;g[1].has(g[0])&&a.push(g[0])}}catch(h){c=!0,d=h}finally{try{!b&&f["return"]&&f["return"]()}finally{if(c)throw d}}return a}},{key:"selfloopEdges",value:function(){var a=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],b=[],c=!0,d=!1,e=void 0;try{for(var g,h=i(this.adj.entries());!(c=(g=h.next()).done);c=!0){var j=g.value,k=f(j,2),l=k[0],m=k[1];m.has(l)&&(a?b.push(B.tuple3c(l,l,m.get(l),j)):b.push(B.tuple2c(l,l,j)))}}catch(n){d=!0,e=n}finally{try{!c&&h["return"]&&h["return"]()}finally{if(d)throw e}}return b}},{key:"numberOfSelfloops",value:function(){return this.selfloopEdges().length}},{key:"size",value:function(a){var b=0,c=!0,d=!1,e=void 0;try{for(var f,g=i(this.degree(null,a).values());!(c=(f=g.next()).done);c=!0){var h=f.value;b+=h}}catch(j){d=!0,e=j}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}return b/=2,null==a?Math.floor(b):b}},{key:"numberOfEdges",value:function(a,b){return null==a?Math.floor(this.size()):this.adj.get(a).has(b)?1:0}},{key:"addStar",value:function(a,b){var c=B.toIterator(a),d=c.next().value,e=B.mapIterator(c,function(a){return B.tuple2(d,a)});this.addEdgesFrom(e,b)}},{key:"addPath",value:function(a,b){var c=h(a),d=B.zipSequence(c.slice(0,c.length-1),c.slice(1));this.addEdgesFrom(d,b)}},{key:"addCycle",value:function(a,b){var c=h(a),d=B.zipSequence(c,c.slice(1).concat([c[0]]));this.addEdgesFrom(d,b)}},{key:"nbunchIter",value:j.mark(function l(a){var b,c,d,e,f,g,h;return j.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(null!=a){j.next=4;break}return j.delegateYield(this.adj.keys(),"t0",2);case 2:j.next=44;break;case 4:if(!this.hasNode(a)){j.next=9;break}return j.next=7,a;case 7:j.next=44;break;case 9:b=this.adj,j.prev=10,c=!0,d=!1,e=void 0,j.prev=14,f=i(B.toIterator(a));case 16:if(c=(g=f.next()).done){j.next=24;break}if(h=g.value,!b.has(h)){j.next=21;break}return j.next=21,h;case 21:c=!0,j.next=16;break;case 24:j.next=30;break;case 26:j.prev=26,j.t1=j["catch"](14),d=!0,e=j.t1;case 30:j.prev=30,j.prev=31,!c&&f["return"]&&f["return"]();case 33:if(j.prev=33,!d){j.next=36;break}throw e;case 36:return j.finish(33);case 37:return j.finish(30);case 38:j.next=44;break;case 40:if(j.prev=40,j.t2=j["catch"](10),!(j.t2 instanceof TypeError)){j.next=44;break}throw new u["default"]("nbunch is not a node or a sequence of nodes");case 44:case"end":return j.stop()}},l,this,[[10,40],[14,26,30,38],[31,,33,37]])})},{key:k,value:function(){return this.node.keys()}},{key:"name",get:function(){return this.graph.name||""},set:function(a){this.graph.name=a}}],[{key:"__name__",get:function(){return"Graph"}}]),b}();c["default"]=C,b.exports=c["default"]},{"../_internals":187,"../_internals/Map":170,"../_internals/Set":172,"../convert":235,"../exceptions/JSNetworkXError":239,"../exceptions/KeyError":243,"./DiGraph":226,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/get-iterator":36,"babel-runtime/core-js/object/assign":39,"babel-runtime/core-js/symbol/iterator":48,"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/create-class":50,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/interop-require-wildcard":56,"babel-runtime/helpers/sliced-to-array":57,"babel-runtime/regenerator":58,"lodash/lang/isBoolean":310,"lodash/lang/isString":315}],228:[function(a,b,c){"use strict";function d(a,b,c,d){var e,f,g,h,i,j,k,n,o,p,r,s,u,v,w,x,y,z;return m.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=!0,f=!1,g=void 0,t.prev=3,h=q(a);case 5:if(e=(i=h.next()).done){t.next=48;break}j=l(i.value,2),k=j[0],n=j[1],o=!0,p=!1,r=void 0,t.prev=12,s=q(n);case 14:if(o=(u=s.next()).done){t.next=31;break}v=l(u.value,2),w=v[0],x=v[1],t.t0=m.keys(x);case 19:if((t.t1=t.t0()).done){t.next=28;break}return y=t.t1.value,z="out"===d?[k,w]:[w,k],c&&(z[2]=isNaN(y)?y:+y),b&&z.push(x[y]),t.next=26,z;case 26:t.next=19;break;case 28:o=!0,t.next=14;break;case 31:t.next=37;break;case 33:t.prev=33,t.t2=t["catch"](12),p=!0,r=t.t2;case 37:t.prev=37,t.prev=38,!o&&s["return"]&&s["return"]();case 40:if(t.prev=40,!p){t.next=43;break}throw r;case 43:return t.finish(40);case 44:return t.finish(37);case 45:e=!0,t.next=5;break;case 48:t.next=54;break;case 50:t.prev=50,t.t3=t["catch"](3),
f=!0,g=t.t3;case 54:t.prev=54,t.prev=55,!e&&h["return"]&&h["return"]();case 57:if(t.prev=57,!f){t.next=60;break}throw g;case 60:return t.finish(57);case 61:return t.finish(54);case 62:case"end":return t.stop()}},t[0],this,[[3,50,54,62],[12,33,37,45],[38,,40,44],[55,,57,61]])}function e(a,b,c){var d=0,e=!0,f=!1,g=void 0;try{for(var h,i=q(a.values());!(e=(h=i.next()).done);e=!0){var j=h.value;for(var k in j)d+=A.getDefault(j[k][b],c)}}catch(l){f=!0,g=l}finally{try{!e&&i["return"]&&i["return"]()}finally{if(f)throw g}}return d}function f(a,b,c,d){var f,g,h,i,j,k,o,p,r,s,u,v,w,x,y,z,B,C,D,E,F,G;return m.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(f=null==c?b:A.mapIterator(a.nbunchIter(c),function(a){return A.tuple2(a,b.get(a))}),null!=d){m.next=52;break}g=!0,h=!1,i=void 0,m.prev=5,j=q(f);case 7:if(g=(k=j.next()).done){m.next=36;break}for(o=l(k.value,2),p=o[0],r=o[1],s=0,u=!0,v=!1,w=void 0,m.prev=15,x=q(r.values());!(u=(y=x.next()).done);u=!0)z=y.value,s+=n(z).length;m.next=23;break;case 19:m.prev=19,m.t0=m["catch"](15),v=!0,w=m.t0;case 23:m.prev=23,m.prev=24,!u&&x["return"]&&x["return"]();case 26:if(m.prev=26,!v){m.next=29;break}throw w;case 29:return m.finish(26);case 30:return m.finish(23);case 31:return m.next=33,[p,s];case 33:g=!0,m.next=7;break;case 36:m.next=42;break;case 38:m.prev=38,m.t1=m["catch"](5),h=!0,i=m.t1;case 42:m.prev=42,m.prev=43,!g&&j["return"]&&j["return"]();case 45:if(m.prev=45,!h){m.next=48;break}throw i;case 48:return m.finish(45);case 49:return m.finish(42);case 50:m.next=80;break;case 52:B=!0,C=!1,D=void 0,m.prev=55,E=q(f);case 57:if(B=(F=E.next()).done){m.next=66;break}return G=l(F.value,2),p=G[0],r=G[1],m.next=63,[p,e(r,d,1)];case 63:B=!0,m.next=57;break;case 66:m.next=72;break;case 68:m.prev=68,m.t2=m["catch"](55),C=!0,D=m.t2;case 72:m.prev=72,m.prev=73,!B&&E["return"]&&E["return"]();case 75:if(m.prev=75,!C){m.next=78;break}throw D;case 78:return m.finish(75);case 79:return m.finish(72);case 80:case"end":return m.stop()}},t[1],this,[[5,38,42,50],[15,19,23,31],[24,,26,30],[43,,45,49],[55,68,72,80],[73,,75,79]])}var g=a("babel-runtime/helpers/get")["default"],h=a("babel-runtime/helpers/inherits")["default"],i=a("babel-runtime/helpers/create-class")["default"],j=a("babel-runtime/helpers/class-call-check")["default"],k=a("babel-runtime/helpers/define-property")["default"],l=a("babel-runtime/helpers/sliced-to-array")["default"],m=a("babel-runtime/regenerator")["default"],n=a("babel-runtime/core-js/object/keys")["default"],o=a("babel-runtime/core-js/object/assign")["default"],p=a("babel-runtime/core-js/array/from")["default"],q=a("babel-runtime/core-js/get-iterator")["default"],r=a("babel-runtime/core-js/object/get-own-property-names")["default"],s=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var t=[d,f].map(m.mark),u=a("./DiGraph"),v=s(u),w=a("./MultiGraph"),x=s(w),y=a("../exceptions/JSNetworkXError"),z=s(y),A=a("../_internals"),B=function(a){function b(a,c){j(this,b),g(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a,c)}return h(b,a),i(b,[{key:"addEdge",value:function(a,b,c,d){if(c&&"object"==typeof c&&(d=c,c=null),d&&!A.isPlainObject(d))throw new z["default"]("The optAttrDict argument must be a plain object.");var e;if(this.succ.has(a)||(this.succ.set(a,new A.Map),this.pred.set(a,new A.Map),this.node.set(a,{})),this.succ.has(b)||(this.succ.set(b,new A.Map),this.pred.set(b,new A.Map),this.node.set(b,{})),this.succ.get(a).has(b)){if(e=this.get(a).get(b),null==c)for(c=n(e).length;e[c];)c+=1;e[c]=o(A.getDefault(e[c],{}),d)}else null==c&&(c=0),e=k({},c,o({},d)),this.succ.get(a).set(b,e),this.pred.get(b).set(a,e)}},{key:"removeEdge",value:function(a,b,c){var d,e=this.adj.get(a);if(e&&(d=e.get(b)),null==d)throw new z["default"](A.sprintf("The edge %j-%j is not in the graph",a,b));if(null==c)for(var f in d){delete d[f];break}else{if(!d[c])throw new z["default"](A.sprintf("The edge %j-%j with key %j is not in the graph",a,b,c));delete d[c]}0===n(d).length&&(this.succ.get(a)["delete"](b),this.pred.get(b)["delete"](a))}},{key:"edgesIter",value:m.mark(function c(a){var b,e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],f=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return m.wrap(function(c){for(var g=this;;)switch(c.prev=c.next){case 0:return"boolean"==typeof a&&(f=e,e=a,a=null),b=null==a?this.adj:A.mapIterator(this.nbunchIter(a),function(a){return A.tuple2(a,g.adj.get(a))}),c.delegateYield(d(b,e,f,"out"),"t0",3);case 3:case"end":return c.stop()}},c,this)})},{key:"outEdgesIter",value:function(a,b,c){return this.edgesIter(a,b,c)}},{key:"outEdges",value:function(a,b,c){return p(this.outEdgesIter(a,b,c))}},{key:"inEdgesIter",value:m.mark(function r(a){var b,c=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],e=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return m.wrap(function(f){for(var g=this;;)switch(f.prev=f.next){case 0:return"boolean"==typeof a&&(e=c,c=a,a=null),b=null==a?this.pred:A.mapIterator(this.nbunchIter(a),function(a){return A.tuple2(a,g.pred.get(a))}),f.delegateYield(d(b,c,e,"in"),"t0",3);case 3:case"end":return f.stop()}},r,this)})},{key:"inEdges",value:function(a,b,c){return p(this.inEdgesIter(a,b,c))}},{key:"degreeIter",value:m.mark(function s(a,b){var c,d,f,g,h,i,j,k,o,p,r,t,u,v,w,x,y,z,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S;return m.wrap(function(m){for(var s=this;;)switch(m.prev=m.next){case 0:if(c=A.createTupleFactory(2),d=A.createTupleFactory(2),f=null==a?A.zipIterator(this.succ.entries(),this.pred.entries()):A.zipIterator(A.mapIterator(this.nbunchIter(a),function(a){return c(a,s.succ.get(a))}),A.mapIterator(this.nbunchIter(a),function(a){return d(a,s.pred.get(a))})),null!=b){m.next=78;break}g=!0,h=!1,i=void 0,m.prev=7,j=q(f);case 9:if(g=(k=j.next()).done){m.next=62;break}for(o=l(k.value,2),p=l(o[0],2),r=p[0],t=p[1],u=l(o[1],2),v=u[0],w=u[1],y=0,z=!0,B=!1,C=void 0,m.prev=21,D=q(w.values());!(z=(E=D.next()).done);z=!0)x=E.value,y+=n(x).length;m.next=29;break;case 25:m.prev=25,m.t0=m["catch"](21),B=!0,C=m.t0;case 29:m.prev=29,m.prev=30,!z&&D["return"]&&D["return"]();case 32:if(m.prev=32,!B){m.next=35;break}throw C;case 35:return m.finish(32);case 36:return m.finish(29);case 37:for(F=0,G=!0,H=!1,I=void 0,m.prev=41,J=q(t.values());!(G=(K=J.next()).done);G=!0)x=K.value,y+=n(x).length;m.next=49;break;case 45:m.prev=45,m.t1=m["catch"](41),H=!0,I=m.t1;case 49:m.prev=49,m.prev=50,!G&&J["return"]&&J["return"]();case 52:if(m.prev=52,!H){m.next=55;break}throw I;case 55:return m.finish(52);case 56:return m.finish(49);case 57:return m.next=59,[r,y+F];case 59:g=!0,m.next=9;break;case 62:m.next=68;break;case 64:m.prev=64,m.t2=m["catch"](7),h=!0,i=m.t2;case 68:m.prev=68,m.prev=69,!g&&j["return"]&&j["return"]();case 71:if(m.prev=71,!h){m.next=74;break}throw i;case 74:return m.finish(71);case 75:return m.finish(68);case 76:m.next=110;break;case 78:L=!0,M=!1,N=void 0,m.prev=81,O=q(f);case 83:if(L=(P=O.next()).done){m.next=96;break}return Q=l(P.value,2),R=l(Q[0],2),r=R[0],t=R[1],S=l(Q[1],2),v=S[0],w=S[1],m.next=93,[r,e(w,b,1)+e(t,b,1)];case 93:L=!0,m.next=83;break;case 96:m.next=102;break;case 98:m.prev=98,m.t3=m["catch"](81),M=!0,N=m.t3;case 102:m.prev=102,m.prev=103,!L&&O["return"]&&O["return"]();case 105:if(m.prev=105,!M){m.next=108;break}throw N;case 108:return m.finish(105);case 109:return m.finish(102);case 110:case"end":return m.stop()}},s,this,[[7,64,68,76],[21,25,29,37],[30,,32,36],[41,45,49,57],[50,,52,56],[69,,71,75],[81,98,102,110],[103,,105,109]])})},{key:"inDegreeIter",value:m.mark(function t(a,b){return m.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.delegateYield(f(this,this.pred,a,b),"t0",1);case 1:case"end":return c.stop()}},t,this)})},{key:"outDegreeIter",value:m.mark(function u(a,b){return m.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.delegateYield(f(this,this.succ,a,b),"t0",1);case 1:case"end":return c.stop()}},u,this)})},{key:"isMultigraph",value:function(){return!0}},{key:"isDirected",value:function(){return!0}},{key:"toDirected",value:function(){return A.deepcopy(this)}},{key:"toUndirected",value:function(a){var b=new x["default"];b.name=this.name,b.addNodesFrom(this);var c=!0,d=!1,e=void 0;try{for(var f,g=q(this.adjacencyIter());!(c=(f=g.next()).done);c=!0){var h=l(f.value,2),i=h[0],j=h[1],k=!0,m=!1,n=void 0;try{for(var o,p=q(j);!(k=(o=p.next()).done);k=!0){var r=l(o.value,2),s=r[0],t=r[1];for(var u in t)(!a||this.hasEdge(s,i,u))&&b.addEdge(i,s,u,A.deepcopy(t[u]))}}catch(v){m=!0,n=v}finally{try{!k&&p["return"]&&p["return"]()}finally{if(m)throw n}}}}catch(v){d=!0,e=v}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}return b.graph=A.deepcopy(this.graph),b.node=A.deepcopy(this.node),b}},{key:"subgraph",value:function(a){var b=this.nbunchIter(a),c=new this.constructor,d=!0,e=!1,f=void 0;try{for(var g,h=q(b);!(d=(g=h.next()).done);d=!0){var i=g.value;c.node.set(i,this.node.get(i))}}catch(j){e=!0,f=j}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}var k=c.succ,m=c.pred,n=this.succ,o=!0,p=!1,r=void 0;try{for(var s,t=q(c);!(o=(s=t.next()).done);o=!0){var i=s.value;k.set(i,new A.Map),m.set(i,new A.Map)}}catch(j){p=!0,r=j}finally{try{!o&&t["return"]&&t["return"]()}finally{if(p)throw r}}var u=!0,v=!1,w=void 0;try{for(var x,y=q(k);!(u=(x=y.next()).done);u=!0){var z=l(x.value,2),B=z[0],C=z[1],D=!0,E=!1,F=void 0;try{for(var G,H=q(n.get(B));!(D=(G=H.next()).done);D=!0){var I=l(G.value,2),J=I[0],K=I[1];if(k.has(J)){var L=A.clone(K);C.set(J,L),m.get(J).set(B,L)}}}catch(j){E=!0,F=j}finally{try{!D&&H["return"]&&H["return"]()}finally{if(E)throw F}}}}catch(j){v=!0,w=j}finally{try{!u&&y["return"]&&y["return"]()}finally{if(v)throw w}}return c.graph=this.graph,c}},{key:"reverse",value:function(){var a,b=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];if(b)a=new this.constructor(null,{name:A.sprintf("Reverse of (%s)",this.name)}),a.addNodesFrom(this),a.addEdgesFrom(A.mapIterator(this.edges(!0,!0),function(a){var b=l(a,4),c=b[0],d=b[1],e=b[2],f=b[3];return A.tuple4(d,c,e,A.deepcopy(f))})),a.graph=A.deepcopy(this.graph),a.node=A.deepcopy(this.node);else{var c=[this.succ,this.pred];this.pred=c[0],this.succ=c[1],this.adj=this.succ,a=this}return a}}],[{key:"__name__",get:function(){return"MultiDiGraph"}}]),b}(v["default"]);c["default"]=B,r(x["default"].prototype).forEach(function(a){B.prototype.hasOwnProperty(a)||(B.prototype[a]=x["default"].prototype[a])}),b.exports=c["default"]},{"../_internals":187,"../exceptions/JSNetworkXError":239,"./DiGraph":226,"./MultiGraph":229,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/get-iterator":36,"babel-runtime/core-js/object/assign":39,"babel-runtime/core-js/object/get-own-property-names":43,"babel-runtime/core-js/object/keys":44,"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/create-class":50,"babel-runtime/helpers/define-property":52,"babel-runtime/helpers/get":53,"babel-runtime/helpers/inherits":54,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57,"babel-runtime/regenerator":58}],229:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/get")["default"],e=a("babel-runtime/helpers/inherits")["default"],f=a("babel-runtime/helpers/create-class")["default"],g=a("babel-runtime/helpers/class-call-check")["default"],h=a("babel-runtime/helpers/sliced-to-array")["default"],i=a("babel-runtime/core-js/object/keys")["default"],j=a("babel-runtime/core-js/object/assign")["default"],k=a("babel-runtime/core-js/object/create")["default"],l=a("babel-runtime/core-js/array/from")["default"],m=a("babel-runtime/regenerator")["default"],n=a("babel-runtime/core-js/get-iterator")["default"],o=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var p=a("./Graph"),q=o(p),r=a("../exceptions/JSNetworkXError"),s=o(r),t=a("../_internals"),u=function(b){function c(a,b){g(this,c),d(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,a,b)}return e(c,b),f(c,[{key:"addEdge",value:function(a,b,c,d){var e=typeof c;if(null!=c&&"number"!==e&&"string"!==e&&(d=c,c=null),d&&!t.isPlainObject(d))throw new s["default"]("The optAttrDict argument must be an object.");this.adj.has(a)||(this.adj.set(a,new t.Map),this.node.set(a,{})),this.adj.has(b)||(this.adj.set(b,new t.Map),this.node.set(b,{}));var f;if(this.adj.get(a).has(b)){if(f=this.adj.get(a).get(b),null==c)for(c=i(f).length;f[c];)c+=1;var g=f[c]||{};f[c]=j(g,d)}else null==c&&(c=0),f=k(null),f[c]=j({},d),this.adj.get(a).set(b,f),this.adj.get(b).set(a,f)}},{key:"addEdgesFrom",value:function(a,b){var c=this;if(b&&!t.isPlainObject(b))throw new s["default"]("The optAttrDict argument must be an object.");t.forEach(a,function(a){var d,e,f,g;switch(a.length){case 4:d=a[0],e=a[1],f=a[2],g=a[3];break;case 3:d=a[0],e=a[1],g=a[2];break;case 2:d=a[0],e=a[1];break;default:if(!t.isArrayLike(a))throw new TypeError("Elements in edgelists must be tuples.");throw new s["default"](t.sprintf("Edge tuple %j must be a 2-tuple, 3-tuple or 4-tuple.",a))}var h=c.adj.has(d)?c.adj.get(d).get(e)||k(null):k(null);if(null==f)for(f=i(h).length;h[f];)f+=1;var l=h[f]||{};j(l,b,g),c.addEdge(d,e,f,l)})}},{key:"removeEdge",value:function(a,b,c){var d,e=this.adj.get(a);if(e&&(d=e.get(b)),null==d)throw new s["default"](t.sprintf("The edge %j-%j is not in the graph",a,b));if(null==c)for(var f in d){delete d[f];break}else{if(!d[c])throw new s["default"](t.sprintf("The edge %j-%j with key %j is not in the graph",a,b,c));delete d[c]}0===i(d).length&&(e["delete"](b),t.nodesAreEqual(a,b)||this.adj.get(b)["delete"](a))}},{key:"removeEdgesFrom",value:function(a){var b=this;t.forEach(a,function(a){try{b.removeEdge(a[0],a[1],a[2])}catch(c){if(!(c instanceof s["default"]))throw c}})}},{key:"hasEdge",value:function(a,b,c){var d=this.adj.get(a);return d?d.has(b)&&(null==c||!!d.get(b)[c]):!1}},{key:"edges",value:function(a,b,c){return l(this.edgesIter(a,b,c))}},{key:"edgesIter",value:m.mark(function o(a){var b,c,d,e,f,g,i,j,k,l,p,q,r,s,u,v,w,x,y,z,A=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],B=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return m.wrap(function(o){for(var C=this;;)switch(o.prev=o.next){case 0:"boolean"==typeof a&&(B=A,A=a,a=null),b=new t.Set,c=null==a?this.adj:t.mapIterator(this.nbunchIter(a),function(a){return t.tuple2(a,C.adj.get(a))}),d=!0,e=!1,f=void 0,o.prev=6,g=n(c);case 8:if(d=(i=g.next()).done){o.next=53;break}j=h(i.value,2),k=j[0],l=j[1],p=!0,q=!1,r=void 0,o.prev=15,s=n(l);case 17:if(p=(u=s.next()).done){o.next=36;break}if(v=h(u.value,2),w=v[0],x=v[1],b.has(w)){o.next=33;break}o.t0=m.keys(x);case 23:if((o.t1=o.t0()).done){o.next=32;break}return y=o.t1.value,z=[k,w],B&&(z[2]=y),A&&z.push(x[y]),o.next=30,z;case 30:o.next=23;break;case 32:b.add(k);case 33:p=!0,o.next=17;break;case 36:o.next=42;break;case 38:o.prev=38,o.t2=o["catch"](15),q=!0,r=o.t2;case 42:o.prev=42,o.prev=43,!p&&s["return"]&&s["return"]();case 45:if(o.prev=45,!q){o.next=48;break}throw r;case 48:return o.finish(45);case 49:return o.finish(42);case 50:d=!0,o.next=8;break;case 53:o.next=59;break;case 55:o.prev=55,o.t3=o["catch"](6),e=!0,f=o.t3;case 59:o.prev=59,o.prev=60,!d&&g["return"]&&g["return"]();case 62:if(o.prev=62,!e){o.next=65;break}throw f;case 65:return o.finish(62);case 66:return o.finish(59);case 67:case"end":return o.stop()}},o,this,[[6,55,59,67],[15,38,42,50],[43,,45,49],[60,,62,66]])})},{key:"getEdgeData",value:function(a,b,c,d){var e=this.adj.get(a);return e?null==c?e.get(b)||d:e.has(b)&&e.get(b)[c]||d:void 0}},{key:"degreeIter",value:m.mark(function p(a,b){var c,d,e,f,g,j,k,l,o,q,r,s;return m.wrap(function(m){for(var p=this;;)switch(m.prev=m.next){case 0:"string"==typeof a&&(b=a,a=null),c=null==a?this.adj:t.mapIterator(this.nbunchIter(a),function(a){return t.tuple2(a,p.adj.get(a))}),d=!0,e=!1,f=void 0,m.prev=5,g=n(c);case 7:if(d=(j=g.next()).done){m.next=25;break}if(k=h(j.value,2),l=k[0],o=k[1],q=0,null!=b){m.next=18;break}return o.forEach(function(a){return q+=i(a).length}),m.next=16,[l,q+ +(o.has(l)&&i(o.get(l)).length)];case 16:m.next=22;break;case 18:if(o.forEach(function(a){for(var c in a)q+=t.getDefault(a[c][b],1)}),o.has(l)){r=o.get(l);for(s in r)q+=t.getDefault(r[s][b],1)}return m.next=22,[l,q];case 22:d=!0,m.next=7;break;case 25:m.next=31;break;case 27:m.prev=27,m.t0=m["catch"](5),e=!0,f=m.t0;case 31:m.prev=31,m.prev=32,!d&&g["return"]&&g["return"]();case 34:if(m.prev=34,!e){m.next=37;break}throw f;case 37:return m.finish(34);case 38:return m.finish(31);case 39:case"end":return m.stop()}},p,this,[[5,27,31,39],[32,,34,38]])})},{key:"isMultigraph",value:function(){return!0}},{key:"isDirected",value:function(){return!1}},{key:"toDirected",value:function(){var b=new(a("./MultiDiGraph"));b.addNodesFrom(this);var c=!0,d=!1,e=void 0;try{for(var f,g=n(this.adjacencyIter());!(c=(f=g.next()).done);c=!0){var i=h(f.value,2),j=i[0],k=i[1],l=!0,m=!1,o=void 0;try{for(var p,q=n(k);!(l=(p=q.next()).done);l=!0){var r=h(p.value,2),s=r[0],u=r[1];for(var v in u)b.addEdge(j,s,v,t.deepcopy(u[v]))}}catch(w){m=!0,o=w}finally{try{!l&&q["return"]&&q["return"]()}finally{if(m)throw o}}}}catch(w){d=!0,e=w}finally{try{!c&&g["return"]&&g["return"]()}finally{if(d)throw e}}return b.graph=t.deepcopy(this.graph),b.node=t.deepcopy(this.node),b}},{key:"selfloopEdges",value:function(){var a=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],b=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],c=[],d=!0,e=!1,f=void 0;try{for(var g,i=n(this.adj);!(d=(g=i.next()).done);d=!0){var j=h(g.value,2),k=j[0],l=j[1];if(l.has(k)){var m=l.get(k);for(var o in m){var p=[k,k];b&&(p[2]=o),a&&p.push(m[o]),c.push(p)}}}}catch(q){e=!0,f=q}finally{try{!d&&i["return"]&&i["return"]()}finally{if(e)throw f}}return c}},{key:"numberOfEdges",value:function(a,b){if(null==a||null==b)return this.size();var c=this.get(a);return c&&c.has(b)?i(c.get(b)).length:0}},{key:"subgraph",value:function(a){var b=this.nbunchIter(a),c=new this.constructor;this.node.forEach(function(a,b){return c.node.set(b,a)});var d=c.adj,e=this.adj,f=!0,g=!1,i=void 0;try{for(var j,k=n(b);!(f=(j=k.next()).done);f=!0){var l=j.value,m=new t.Map;d.set(l,m);var o=!0,p=!1,q=void 0;try{for(var r,s=n(e.get(l));!(o=(r=s.next()).done);o=!0){var u=h(r.value,2),v=u[0],w=u[1];if(d.has(v)){var x=t.clone(w);m.set(v,x),d.get(v).set(l,x)}}}catch(y){p=!0,q=y}finally{try{!o&&s["return"]&&s["return"]()}finally{if(p)throw q}}}}catch(y){g=!0,i=y}finally{try{!f&&k["return"]&&k["return"]()}finally{if(g)throw i}}return c.graph=this.graph,c}}],[{key:"__name__",get:function(){return"MultiGraph"}}]),c}(q["default"]);c["default"]=u,b.exports=c["default"]},{"../_internals":187,"../exceptions/JSNetworkXError":239,"./Graph":227,"./MultiDiGraph":228,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/get-iterator":36,"babel-runtime/core-js/object/assign":39,"babel-runtime/core-js/object/create":40,"babel-runtime/core-js/object/keys":44,"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/create-class":50,"babel-runtime/helpers/get":53,"babel-runtime/helpers/inherits":54,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57,"babel-runtime/regenerator":58}],230:[function(a,b,c){"use strict";function d(a){return a.nodes()}function e(a){return a.nodesIter()}function f(a,b){return a.edges(b)}function g(a,b){return a.edgesIter(b)}function h(a,b,c){return a.degree(b,c)}function i(a,b){return a.neighbors(b)}function j(a){return a.numberOfNodes()}function k(a){return a.numberOfEdges()}function l(a){var b,c=a.numberOfNodes(),d=a.numberOfEdges();return b=0===d?0:a.isDirected()?d/(c*(c-1)):2*d/(c*(c-1))}function m(a){var b=x(a.degree().values()),c=Math.max.apply(Math,b)+1,d=D.fillArray(c,0);return b.forEach(function(a){d[a]+=1}),d}function n(a){return a.isDirected()}function o(a){function b(){throw new C["default"]("Frozen graph can't be modified")}return a.addNode=b,a.addNodesFrom=b,a.removeNode=b,a.removeNodesFrom=b,a.addEdge=b,a.addEdgesFrom=b,a.removeEdge=b,a.removeEdgesFrom=b,a.clear=b,a.frozen=!0,a}function p(a){return!!a.frozen}function q(a,b){return a.subgraph(b)}function r(a){var b=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],c=new a.constructor;return b&&c.addNodesFrom(a),c}function s(a,b){var c="";if(null==b){var d="Name: %s\nType: %s\nNumber of nodes: %s\nNumber of edges: %s\n",e=a.numberOfNodes();if(c=D.sprintf(d,a.name,a.constructor.__name__,e,a.numberOfEdges()),e>0)if(a.isDirected()){var f=0,g=0,h=!0,i=!1,j=void 0;try{for(var k,l=y(a.inDegree().values());!(h=(k=l.next()).done);h=!0){var m=k.value;f+=m}}catch(n){i=!0,j=n}finally{try{!h&&l["return"]&&l["return"]()}finally{if(i)throw j}}var o=!0,p=!1,q=void 0;try{for(var r,s=y(a.outDegree().values());!(o=(r=s.next()).done);o=!0){var t=r.value;g+=t}}catch(n){p=!0,q=n}finally{try{!o&&s["return"]&&s["return"]()}finally{if(p)throw q}}c+=D.sprintf("Average in degree: %s\nAverage out degree: %s",(f/e).toFixed(4),(g/e).toFixed(4))}else{var u=0,v=!0,w=!1,x=void 0;try{for(var z,A=y(a.degree().values());!(v=(z=A.next()).done);v=!0){var B=z.value;u+=B}}catch(n){w=!0,x=n}finally{try{!v&&A["return"]&&A["return"]()}finally{if(w)throw x}}c+=D.sprintf("Average degree: %s",(u/e).toFixed(4))}}else{if(!a.hasNode(b))throw new C["default"](D.sprintf("Node %j not in graph.",b));c=D.sprintf("Node %j has the following properties:\nDegree: %s\nNeighbors: %s",b,a.degree(b),a.neighbors(b).map(function(a){return JSON.stringify(a)}).join(" "))}return c}function t(a,b,c){if(D.isMap(c))c.forEach(function(c,d){return a.node.get(d)[b]=c});else{if(!D.isPlainObject(c))throw new TypeError("Attributes must be a Map or a plain object");for(var d in c)d=isNaN(d)?d:+d,a.node.get(d)[b]=c[d]}}function u(a,b){var c=new z;return a.node.forEach(function(a,d){d.hasOwnProperty(b)&&c.set(a,d[b])}),c}function v(a,b,c){c.forEach(function(c,d){a.get(c[0]).get(c[1])[b]=d})}function w(a,b){var c=new z;return a.edges(null,!0).forEach(function(a){if(a[2].hasOwnProperty(b)){var d=a[2][b];a.length=2,c.set(a,d)}}),c}var x=a("babel-runtime/core-js/array/from")["default"],y=a("babel-runtime/core-js/get-iterator")["default"],z=a("babel-runtime/core-js/map")["default"],A=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.nodes=d,c.nodesIter=e,c.edges=f,c.edgesIter=g,c.degree=h,c.neighbors=i,c.numberOfNodes=j,c.numberOfEdges=k,c.density=l,c.degreeHistogram=m,c.isDirected=n,c.freeze=o,c.isFrozen=p,c.subgraph=q,c.createEmptyCopy=r,c.info=s,c.setNodeAttributes=t,c.getNodeAttributes=u,c.setEdgeAttributes=v,c.getEdgeAttributes=w;var B=a("../exceptions/JSNetworkXError"),C=A(B),D=a("../_internals")},{"../_internals":187,"../exceptions/JSNetworkXError":239,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/get-iterator":36,"babel-runtime/core-js/map":38,"babel-runtime/helpers/interop-require-default":55}],231:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("babel-runtime/helpers/interop-require-wildcard")["default"],f=a("babel-runtime/helpers/defaults")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./Graph"),h=d(g),i=a("./DiGraph"),j=d(i),k=a("./MultiGraph"),l=d(k),m=a("./MultiDiGraph"),n=d(m),o=a("./functions"),p=e(o);c.Graph=h["default"],c.DiGraph=j["default"],c.MultiGraph=l["default"],c.MultiDiGraph=n["default"],c.functions=p,f(c,e(o))},{"./DiGraph":226,"./Graph":227,"./MultiDiGraph":228,"./MultiGraph":229,"./functions":230,"babel-runtime/helpers/defaults":51,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/interop-require-wildcard":56}],232:[function(a,b,c){"use strict";function d(a,b){var c=new n.Map;if(null!=b)i(b).forEach(function(d){return c.set(d,a.neighbors(d).filter(function(a){return b.indexOf(a)>-1}))});else{var d=!0,e=!1,f=void 0;try{for(var g,h=j(a);!(d=(g=h.next()).done);d=!0){var k=g.value;c.set(k,a.neighbors(k))}}catch(l){e=!0,f=l}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}}return c}function e(a,b){var c=m["default"](b);if(c.addNodesFrom(a.keys()),c.isMultigraph()&&!c.isDirected()){var d=new n.Set;a.forEach(function(a,b){a.forEach(function(a){d.has(a)||c.addEdge(b,a)}),d.add(b)})}else a.forEach(function(a,b){a.forEach(function(a){return c.addEdge(b,a)})});return c}function f(a,b,c){var d=new n.Map;if(null!=b)b=i(b),b.forEach(function(e){var f=d.set(e,new n.Map);a.get(e).forEach(function(a,d){b.indexOf(a)>-1&&f.set(a,null==c?d:c)})});else{var e=!0,f=!1,g=void 0;try{for(var k,l=function(){var a=h(k.value,2),b=a[0],e=a[1],f=d.set(e,new n.Map);b.forEach(function(a,b){f.set(b,null==c?a:c)})},m=j(a.adjacencyIter());!(e=(k=m.next()).done);e=!0)l()}catch(o){f=!0,g=o}finally{try{!e&&m["return"]&&m["return"]()}finally{if(f)throw g}}}return d}function g(a,b,c){var d=m["default"](b),e=new n.Set;if(d.addNodesFrom(a.keys()),c)if(d.isDirected())a.forEach(function(a,b){if(n.isArrayLike(a))throw new TypeError("Value is not a map.");a.forEach(function(a,c){for(var e in a){var f=a[e];d.isMultigraph()?d.addEdge(b,c,e,f):d.addEdge(b,c,f)}})});else{var f=d.isMultigraph();a.forEach(function(a,b){if(n.isArrayLike(a))throw new TypeError("Not a map");a.forEach(function(a,c){if(!e.has(n.tuple2(b,c))){for(var g in a){var h=a[g];f?d.addEdge(b,c,g,h):d.addEdge(b,c,h)}e.add(n.tuple2(c,b))}})})}else d.isMultigraph()&&!d.isDirected()?a.forEach(function(a,b){if(n.isArrayLike(a))throw new TypeError("Value is not a map");a.forEach(function(a,c){e.has(n.tuple2(b,c))||(d.addEdge(b,c,a),e.add(n.tuple2(c,b)))})}):a.forEach(function(a,b){if(n.isArrayLike(a))throw new TypeError("Value is not a map");a.forEach(function(a,c){d.addEdge(b,c,a)})});return d}var h=a("babel-runtime/helpers/sliced-to-array")["default"],i=a("babel-runtime/core-js/array/from")["default"],j=a("babel-runtime/core-js/get-iterator")["default"],k=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.toMapOfLists=d,c.fromMapOfLists=e,c.toMapOfMaps=f,c.fromMapOfMaps=g;var l=a("./prepCreateUsing"),m=k(l),n=a("../_internals")},{"../_internals":187,"./prepCreateUsing":234,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57}],233:[function(a,b,c){"use strict";function d(a){function b(a,b,e,f){var g=c[a.type];if(g){for(var h=0,i=g.length;i>h&&!a.isPropgationStopped();h+=3)g[h+2]&&g[h].call(g[h+1]||b,a);if(!a.isDefaultPrevented()&&(f?d[e].apply(b,f):d[e].call(b),!a.isPropgationStopped()))for(h=0,i=g.length;i>h&&!a.isPropgationStopped();h+=3)g[h+2]||g[h].call(g[h+1]||b,a)}}if("function"==typeof a.on)return a;var c={addNodes:[],removeNodes:[],addEdges:[],removeEdges:[],clear:[]},d=a.constructor.prototype;return a.on=function(a,b,d,e){if(!c[a])throw new Error('Event "'+a+'" is not supported.');c[a].push(b,d,!!e)},a.off=function(a,b,d){var e,f,g;if(1===arguments.length)c[a].length=0;else if(2===arguments.length)for(e=c[a],f=e.length-2,"function"!=typeof b&&(f+=1),g=f;g>0;g-=2)e[g]===b&&e.splice(g,3);else for(e=c[a],f=e.length-2,g=f;g>0;g-=2)e[g]===b&&e[g+1]===d&&e.splice(g,2)},a.addNode=function(c){var d=a.hasNode(c)?[]:[c],e=new k("addNodes",this);e.nodes=[c],e.newNodes=d,b(e,this,"addNode",arguments)},a.addNodesFrom=function(c){var d=[],e=[],f=!0,g=!1,h=void 0;try{for(var l,m=i(c);!(f=(l=m.next()).done);f=!0){var n=l.value,o=Array.isArray(n)?n[0]:n;d.push(Array.isArray(n)?n.slice():n),a.hasNode(o)||e.push(o)}}catch(p){g=!0,h=p}finally{try{!f&&m["return"]&&m["return"]()}finally{if(g)throw h}}var q=new k("addNodes",this);q.nodes=d.filter(function(a){return Array.isArray(a)?a[0]:a}),q.newNodes=e;var r=j(arguments);r[0]=d,b(q,this,"addNodesFrom",r)},a.addEdge=function(a,c){var d=[[a,c]],e=this.hasEdge(a,c)?[]:d,f=new k("addEdges",this);f.edges=d,f.newEdges=e,b(f,this,"addEdge",arguments)},a.addEdgesFrom=function(a){var c=[],d=[],e=!0,f=!1,g=void 0;try{for(var h,l=i(a);!(e=(h=l.next()).done);e=!0){var m=h.value;c.push(m.slice()),this.hasEdge(m[0],m[1])||d.push(m.slice(0,2))}}catch(n){f=!0,g=n}finally{try{!e&&l["return"]&&l["return"]()}finally{if(f)throw g}}var o=new k("addEdges",this);o.edges=c,o.newEdges=d;var p=j(arguments);p[0]=c,b(o,this,"addEdgesFrom",p)},a.removeNode=function(a){var c=new k("removeNodes",this);c.nodes=[a],b(c,this,"removeNode",arguments)},a.removeNodesFrom=function(a){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=i(a);!(d=(g=h.next()).done);d=!0){var l=g.value;c.push(Array.isArray(l)?l.slice():l)}}catch(m){e=!0,f=m}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}var n=new k("removeNodes",this);n.nodes=c;var o=j(arguments);o[0]=c,b(n,this,"removeNodesFrom",o)},a.removeEdge=function(a,c){var d=new k("removeEdges",this);d.edges=[[a,c]],b(d,this,"removeEdge",arguments)},a.removeEdgesFrom=function(a){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=i(a);!(d=(g=h.next()).done);d=!0){var l=g.value;c.push(l.slice())}}catch(m){e=!0,f=m}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}var n=new k("removeEdges");n.edges=c;var o=j(arguments);o[0]=c,b(n,this,"removeEdgesFrom",o)},a.clear=function(){b(new k("clear",this),this,"clear")},a}function e(a){var b=a.constructor.prototype;return"function"!=typeof a.on?a:(a.addNode=b.addNode,a.addNodesFrome=b.addNodesFrom,a.addEdge=b.addEdge,a.addEdgesFrome=b.addEdgesFrom,a.removeNode=b.removeNode,a.removeEdge=b.removeEdge,a.removeNodesFrom=b.removeNodesFrom,a.removeEdgesFrom=b.removeEdgesFrom,a.clear=b.clear,delete a.on,delete a.off,a)}function f(a){return"function"==typeof a.on&&"function"==typeof a.off}var g=a("babel-runtime/helpers/create-class")["default"],h=a("babel-runtime/helpers/class-call-check")["default"],i=a("babel-runtime/core-js/get-iterator")["default"],j=a("babel-runtime/core-js/array/from")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.observe=d,c.unobserve=e,c.isObservable=f;var k=function(){function a(b,c){h(this,a),this.type=b,this.target=c,this._defaultAction=!0,this._propagate=!0}return g(a,[{key:"stopPropagation",value:function(){this._propagate=!1}},{key:"isPropgationStopped",value:function(){return!this._propagate}},{key:"preventDefault",value:function(){this._defaultAction=!1}},{key:"isDefaultPrevented",value:function(){return!this._defaultAction}}]),a}()},{"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/create-class":50}],234:[function(a,b,c){"use strict";function d(b){var c,d=a("../classes/Graph");if(null==b)c=new d;else{c=b;try{c.clear()}catch(e){throw new TypeError("Input graph is not a jsnx graph type")}}return c}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,b.exports=c["default"]},{"../classes/Graph":227}],235:[function(a,b,c){"use strict";function d(a,b){var c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],d=null;if(A.call(a,"adj"))try{return d=u.fromMapOfMaps(a.adj,b,a.isMultigraph()),A.call(a,"graph")&&"object"==typeof a.graph&&(d.graph=z.clone(a.graph)),A.call(a,"node")&&z.isMap(a.node)&&(d.node=new z.Map,a.node.forEach(function(a,b){return d.node.set(b,z.clone(a))})),d}catch(e){throw e}if(z.isMap(a))try{return u.fromMapOfMaps(a,b,c)}catch(f){try{return u.fromMapOfLists(a,b)}catch(e){throw new Error("Map data structure cannot be converted to a graph.")}}if(z.isPlainObject(a))try{return j(a,b,c)}catch(f){try{return h(a,b)}catch(e){throw new Error("Object data structure cannot be converted to a graph.")}}if(z.isArrayLike(a))try{return l(a,b)}catch(f){throw new Error("Input is not a valid edge list")}return d}function e(a){return a.toUndirected()}function f(a){return a.toDirected()}function g(a,b){var c=function(a){return b.indexOf(a)>-1},d=n(null);null==b?(b=a,c=function(a){return b.hasNode(a)}):b=o(b);var e=!0,f=!1,g=void 0;try{for(var h,i=p(b);!(e=(h=i.next()).done);e=!0){var j=h.value;
d[j]=a.neighbors(j).filter(c)}}catch(k){f=!0,g=k}finally{try{!e&&i["return"]&&i["return"]()}finally{if(f)throw g}}return d}function h(a,b){var c=w["default"](b);c.addNodesFrom(q.mark(function h(){var b;return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:c.t0=q.keys(a);case 1:if((c.t1=c.t0()).done){c.next=7;break}return b=c.t1.value,c.next=5,isNaN(b)?b:+b;case 5:c.next=1;break;case 7:case"end":return c.stop()}},h,this)})());var d,e;if(c.isMultigraph()&&!c.isDirected()){var f=new z.Set;for(d in a)e=a[d],d=isNaN(d)?d:+d,z.forEach(e,function(a){f.has(a)||c.addEdge(d,a)}),f.add(d)}else{var g=[];for(d in a)e=a[d],d=isNaN(d)?d:+d,z.forEach(e,function(a){g.push([d,a])});c.addEdgesFrom(g)}return c}function i(a,b,c){var d={};if(null!=b)b=o(b),null!=c?b.forEach(function(e){d[e]={},a.get(e).forEach(function(a,f){b.indexOf(f)>-1&&(d[e][f]=c)})}):b.forEach(function(c){d[c]={},a.get(c).forEach(function(a,e){b.indexOf(e)>-1&&(d[c][e]=a)})});else if(null!=c){var e=!0,f=!1,g=void 0;try{for(var h,i=p(a.adjacencyIter());!(e=(h=i.next()).done);e=!0){var j=m(h.value,2),k=j[0],l=j[1];d[l]=y["default"](k,function(){return c})}}catch(n){f=!0,g=n}finally{try{!e&&i["return"]&&i["return"]()}finally{if(f)throw g}}}else{var q=!0,r=!1,s=void 0;try{for(var t,u=p(a.adjacencyIter());!(q=(t=u.next()).done);q=!0){var v=m(t.value,2),k=v[0],l=v[1];d[l]=z.clone(k)}}catch(n){r=!0,s=n}finally{try{!q&&u["return"]&&u["return"]()}finally{if(r)throw s}}}return d}function j(a,b){var c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],d=w["default"](b),e=new z.Set;if(d.addNodesFrom(q.mark(function l(){var b;return q.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:c.t0=q.keys(a);case 1:if((c.t1=c.t0()).done){c.next=7;break}return b=c.t1.value,c.next=5,isNaN(b)?b:+b;case 5:c.next=1;break;case 7:case"end":return c.stop()}},l,this)})()),c)if(d.isDirected())for(var f in a){var g=a[f];if(z.isArrayLike(g))throw new TypeError("Inner object seems to be an array");f=isNaN(f)?f:+f;for(var h in g){var i=g[h];h=isNaN(h)?h:+h;for(var j in i)d.isMultigraph()?d.addEdge(f,h,j,i[j]):d.addEdge(f,h,i[j])}}else for(var f in a){var g=a[f];if(z.isArrayLike(g))throw new TypeError("Inner object seems to be an array");f=isNaN(f)?f:+f;for(var h in g){var i=g[h];if(h=isNaN(h)?h:+h,!e.has([f,h])){for(var j in i)d.isMultigraph()?d.addEdge(f,h,j,i[j]):d.addEdge(f,h,i[j]);e.add([h,f])}}}else if(d.isMultigraph()&&!d.isDirected())for(var f in a){var g=a[f];if(z.isArrayLike(g))throw new TypeError("Inner object seems to be an array");f=isNaN(f)?f:+f;for(var h in g){var k=g[h];h=isNaN(h)?h:+h,e.has([f,h])||(d.addEdge(f,h,k),e.add([h,f]))}}else for(var f in a){var g=a[f];if(z.isArrayLike(g))throw new TypeError("Inner object seems to be an array");f=isNaN(f)?f:+f;for(var h in g){var k=g[h];h=isNaN(h)?h:+h,d.addEdge(f,h,k)}}return d}function k(a,b){return null!=b?a.edges(b,!0):a.edges(null,!0)}function l(a,b){var c=w["default"](b);return c.addEdgesFrom(a),c}var m=a("babel-runtime/helpers/sliced-to-array")["default"],n=a("babel-runtime/core-js/object/create")["default"],o=a("babel-runtime/core-js/array/from")["default"],p=a("babel-runtime/core-js/get-iterator")["default"],q=a("babel-runtime/regenerator")["default"],r=a("babel-runtime/helpers/interop-require-wildcard")["default"],s=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.toNetworkxGraph=d,c.convertToUndirected=e,c.convertToDirected=f,c.toDictOfLists=g,c.fromDictOfLists=h,c.toDictOfDicts=i,c.fromDictOfDicts=j,c.toEdgelist=k,c.fromEdgelist=l;var t=a("./contrib/convert"),u=r(t),v=a("./contrib/prepCreateUsing"),w=s(v),x=a("lodash/object/mapValues"),y=s(x),z=a("./_internals"),A=Object.prototype.hasOwnProperty},{"./_internals":187,"./contrib/convert":232,"./contrib/prepCreateUsing":234,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/get-iterator":36,"babel-runtime/core-js/object/create":40,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/interop-require-wildcard":56,"babel-runtime/helpers/sliced-to-array":57,"babel-runtime/regenerator":58,"lodash/object/mapValues":321}],236:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"],e=a("babel-runtime/helpers/defaults")["default"],f=a("babel-runtime/helpers/interop-require-wildcard")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=a("./svg"),h=d(g);c.svg=h["default"],e(c,f(g))},{"./svg":237,"babel-runtime/helpers/defaults":51,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/interop-require-wildcard":56}],237:[function(a,b,c){(function(b){"use strict";function d(a,b,c,d){return 180*Math.atan2(d-b,c-a)/Math.PI}function e(a){if(Array.isArray(a))return a;var b=[],c=0,d=!0,e=!1,f=void 0;try{for(var g,h=t(a);!(d=(g=h.next()).done);d=!0){var i=g.value;b[c++]=Array.isArray(i)?u(i):i}}catch(j){e=!0,f=j}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return b}function f(a,b,c){if("boolean"==typeof b&&(c=b,b=null),b=b||z||{},z=b,b.d3&&(C=b.d3),b=w.deepmerge({},D,b),!C)throw new Error("D3 requried for draw()");if(null==b.element&&null==y)throw new Error("Output element required for draw()");y=b.element||y,C.select(y).select("svg.jsnx").remove();var e,f,k,l=C.select(y),m=[],n=[],s=l.append("svg").classed("jsnx",!0).attr("pointer-events","all"),u=s.append("g"),v=u.append("g").classed("edges",!0).selectAll("g.edge"),A=u.append("g").classed("nodes",!0).selectAll("g.node"),B=C.layout.force(),E=b.width||parseInt(l.style("width"),10),F=b.height||parseInt(l.style("height"),10),G=b.layoutAttr,H=b.nodelist||null,I=a.isDirected(),J=b.weighted,K={nodeSelection:A,edgeSelection:v};if(b.withLabels){var L=b.labels;switch(typeof L){case"object":e=function(a){return w.getDefault(L[a.node],"")};break;case"function":e=L;break;case"string":e=function(a){return a.data[L]};break;default:e=function(a){return a.node}}}if(b.labels=e,J){var M=b.weights;switch(typeof weigths){case"object":k=function(a){return w.getDefault(M[a.node],1)};break;case"function":k=M;break;case"string":k=function(a){return w.getDefault(a.data[M],1)};break;default:k=function(a){return 1}}}if(b.withEdgeLabels){var N=b.edgeLabels;if(J&&null==N)f=k;else switch(typeof N){case"object":f=function(a){return w.getDefault(L[a.node],"")};break;case"function":f=N;break;case"string":f=function(a){return a.data[N]};break;default:f=function(a){return a.edge}}b.edgeLabels=f}if(J&&b.weightedStroke){var O=1,P=!0,Q=!1,R=void 0;try{for(var S,T=t(a.edgesIter(null,!0));!(P=(S=T.next()).done);P=!0){var U=S.value,V=(U.u,U.v,U.data),W=k({data:V});W>O&&(O=W)}}catch(X){Q=!0,R=X}finally{try{!P&&T["return"]&&T["return"]()}finally{if(Q)throw R}}var Y=C.scale.linear().range([2,b.edgeStyle["stroke-width"]]).domain([0,O]);b.edgeStyle["stroke-width"]=function(a){return Y(k.call(this,a))}}s.select("svg.jsnx").remove(),s.attr("width",E+"px").attr("height",F+"px").style("opacity",1e-6).transition().duration(1e3).style("opacity",1);var Z={size:!0,nodes:!0,links:!0,start:!0};for(var $ in G)Z[$]!==!0&&B[$](G[$]);B.nodes(m).links(n).size([E,F]);var _=1,aa=1;b.panZoom.enabled&&!function(){var a=b.panZoom.scale,c=!1,d=1,e=_;s.call(C.behavior.zoom().on("zoom",function(){if(C.event.sourceEvent){var b=C.event.sourceEvent.shiftKey,f=a&&b||!(a||b);f&&!c?(d=C.event.scale,e=_,c=!0):!f&&c&&(c=!1),_=f?e*(C.event.scale/d):_,aa=f?aa:_/C.event.scale;var g=C.event.translate;u.attr("transform","translate("+g[0]+","+g[1]+")scale("+C.event.scale+")"),ha()}}))}();var ba=x,ca=b.edgeOffset,da=b.nodeAttr.r,ea=b.nodeStyle["stroke-width"];"circle"===b.nodeShape?("function"!=typeof da&&(da=function(){return b.nodeAttr.r}),"function"!=typeof ea&&(ea=function(){return b.nodeStyle["stroke-width"]}),ca=function(a){return[da(a.source)+ea(a.source),da(a.target)+ea(a.target)]}):Array.isArray(ca)?ca=function(){return b.edgeOffset}:"number"==typeof ca&&(ca=function(){return[b.edgeOffset,b.edgeOffset]});var fa=b.edgeStyle["stroke-width"];"function"!=typeof fa&&(fa=function(){return b.edgeStyle["stroke-width"]});var ga=b.edgeLabelOffset;ba=I?function(){K.edgeSelection.each(function(a){if(a.source!==a.target){var b=C.select(this),c=a.source.x,e=a.source.y,f=a.target.x,g=a.target.y,h=d(c,e,f,g),i=Math.sqrt(Math.pow(f-c,2)+Math.pow(g-e,2)),j=ca(a);j=[j[0]*aa,j[1]*aa],b.attr("transform",["translate(",c,",",e,")","rotate(",h,")"].join(""));var k=fa(a)*aa,l=i-j[1]-2*k,m=k/2;b.select(".line").attr("d",["M",j[0],0,"L",j[0],-m,"L",l,-m,"L",l,-k,"L",i-j[1],0,"z"].join(" "));var n=1/aa;b.select("text").attr("x",ga.x*n+j[0]+(i*n-j[0]-j[1])/2).attr("y",-fa(a)/2+-ga.y*n).attr("transform","scale("+aa+")")}})}:function(){K.edgeSelection.each(function(a){if(a.source!==a.target){var c=C.select(this),e=a.source.x,f=a.source.y,g=a.target.x,h=a.target.y,i=d(e,f,g,h),j=Math.sqrt(Math.pow(g-e,2)+Math.pow(h-f,2)),k=j/2,l=ca(a);l=[l[0]*aa,l[1]*aa];var m=1/aa,n=fa(a)*aa,o=i>90&&279>i;c.attr("transform",["translate(",e,",",f,")","rotate(",i,")"].join("")),c.select(".line").attr("d",["M",l[0],n/4,"L",l[0],-n/4,"L",j-l[1],-n/4,"L",j-l[1],n/4,"z"].join(" ")),b.withEdgeLabels&&c.select("text").attr("x",(o?1:-1)*ga.x*m+l[0]+(j*m-l[0]-l[1])/2).attr("y",-fa(a)/4+-ga.y*m).attr("transform","scale("+aa+")"+(o?"rotate(180,"+k*(1/aa)+",0)":""))}})};var ha=function(){K.nodeSelection.attr("transform",function(a){return["translate(",a.x,",",a.y,")","scale(",aa,")"].join("")}),ba()};B.on("tick",ha);var ia=a.nodesIter(),ja=a.edgesIter();return H&&(c=!1,ia=a.nbunch_iter(H),ja=a.edges_iter(H)),K.nodeSelection=g(a,ia,B,A,b),K.edgeSelection=h(a,ja,B,v,f),i(K.nodeSelection,b),j(K.edgeSelection,b,null,I),c?o(a,B,b,K):p(a)?q(a):r(a),B.start(),B}function g(a,b,c,d,e){var f=c.nodes(),g=!0,h=!1,i=void 0;try{for(var j,l=t(b);!(g=(j=l.next()).done);g=!0){var m=j.value,n=a.node.get(m),o={node:m,data:n,G:a};f.push(o),n[B]=o}}catch(p){h=!0,i=p}finally{try{!g&&l["return"]&&l["return"]()}finally{if(h)throw i}}d=d.data(f,k);var q=c.drag().on("dragstart",function(a){C.event.sourceEvent.stopPropagation(),e.stickyDrag&&(a.fixed=!0,C.select(this).classed("fixed",!0))}),r=d.enter().append("g").classed("node",!0).call(q);return r.append(e.nodeShape).classed("node-shape",!0),e.labels&&r.append("text").text(e.labels),d}function h(a,b,c,d,e){var f=c.links(),g=!0,h=!1,i=void 0;try{for(var j,k=t(b);!(g=(j=k.next()).done);g=!0){var m=s(j.value,3),n=m[0],o=m[1],p=m[2];p=p||a.getEdgeData(n,o);var q={edge:[n,o],source:a.node.get(n)[B],target:a.node.get(o)[B],data:p,G:a};f.push(q),p[B]=q}}catch(r){h=!0,i=r}finally{try{!g&&k["return"]&&k["return"]()}finally{if(h)throw i}}d=d.data(f,l);var u=d.enter().append("g").classed("edge",!0);return u.append("path").classed("line",!0),e&&u.append("text").text(e),d}function i(a,b,c){if(null!=c){var d=new w.Set,e=!0,f=!1,g=void 0;try{for(var h,i=t(c);!(e=(h=i.next()).done);e=!0){var j=h.value;d.add(w.isArrayLike(j)?j[0]:j)}}catch(k){f=!0,g=k}finally{try{!e&&i["return"]&&i["return"]()}finally{if(f)throw g}}a=a.filter(function(a){return d.has(a.node)})}a.selectAll(".node-shape").attr(b.nodeAttr).style(b.nodeStyle),b.withLabels&&a.selectAll("text").attr(b.labelAttr).style(b.labelStyle)}function j(a,b,c,d){if(null!=c){var e=new w.Map,f=!0,g=!1,h=void 0;try{for(var i,j=t(c);!(f=(i=j.next()).done);f=!0){var k=s(i.value,2),l=k[0],m=k[1];e.set(l,m)}}catch(n){g=!0,h=n}finally{try{!f&&j["return"]&&j["return"]()}finally{if(g)throw h}}a=a.filter(function(a){var b=a.edge;return e.get(b[0])===b[1]||d||e.get(b[1])===b[0]})}a.selectAll(".line").attr(b.edgeAttr).style(b.edgeStyle).style("stroke-width",0),b.withEdgeLabels&&a.selectAll("text").attr(b.edgeLabelAttr).style(b.edgeLabelStyle)}function k(a){return a.node}function l(a){return a.edge}function m(a,b,c,d){var e=c.nodes(),f=!0,g=!1,h=void 0;try{for(var i,j=t(a.nbunchIter(b));!(f=(i=j.next()).done);f=!0){var l=i.value,m=e.indexOf(a.node.get(l)[B]);m>-1&&e.splice(m,1)}}catch(n){g=!0,h=n}finally{try{!f&&j["return"]&&j["return"]()}finally{if(g)throw h}}return d=d.data(e,k),d.exit().remove(),d}function n(a,b,c,d){var e=c.links(),f=!0,g=!1,h=void 0;try{for(var i,j=t(b);!(f=(i=j.next()).done);f=!0){var k=s(i.value,2),m=k[0],n=k[1],o=e.indexOf(a.getEdgeData(m,n,{})[B]);o>-1&&e.splice(o,1)}}catch(p){g=!0,h=p}finally{try{!f&&j["return"]&&j["return"]()}finally{if(g)throw h}}return d=d.data(e,l),d.exit().remove(),d}function o(a,b,c,d){q(a,!1);var f=a.constructor.prototype,o=c.edgeLabels,p=a.isDirected();a.addNode=function(a,e){var h=!this.hasNode(a);f.addNode.call(this,a,e),h&&(d.nodeSelection=g(this,[a],b,d.nodeSelection,c)),i(d.nodeSelection,c,[a]),b.start()},a.addNodesFrom=function(a,h){var j=this;a=e(a);var k=a.filter(function(a){return!j.hasNode(w.isArrayLike(a)?a[0]:a)});f.addNodesFrom.call(this,a,h),k.length>0&&(d.nodeSelection=g(this,k,b,d.nodeSelection,c)),i(d.nodeSelection,c,a),b.start()},a.addEdge=function(e,k,l){var m=this,n=!this.hasEdge(e,k),q=[[e,k]],r=n?(e===k?[e]:q[0]).filter(function(a){return!m.hasNode(a)}):[];f.addEdge.call(a,e,k,l),r.length>0&&(d.nodeSelection=g(this,r,b,d.nodeSelection,c),i(d.nodeSelection,c,r)),n&&(d.edgeSelection=h(this,q,b,d.edgeSelection,o)),j(d.edgeSelection,c,q,p),b.start()},a.addEdgesFrom=function(k,l){var m=[],n=[],q=new w.Map,r=new w.Set;k=e(k);var u=!0,v=!1,x=void 0;try{for(var y,z=t(k);!(u=(y=z.next()).done);u=!0){var A=s(y.value,2),B=A[0],C=A[1];this.hasEdge(B,C)||q.get(B)===C||!p&&q.get(C)!==B||(m.push([B,C]),q.set(B,C),this.hasNode(B)||r.has(B)||(n.push(B),r.add(B)),this.hasNode(C)||r.has(C)||(n.push(C),r.add(C)))}}catch(D){v=!0,x=D}finally{try{!u&&z["return"]&&z["return"]()}finally{if(v)throw x}}f.addEdgesFrom.call(a,k,l),n.length>0&&(d.nodeSelection=g(this,n,b,d.nodeSelection,c),i(d.nodeSelection,c,n)),m.length>0&&(d.edgeSelection=h(this,m,b,d.edgeSelection,o)),j(d.edgeSelection,c,m,p),b.start()},a.removeNode=function(a){if(this.hasNode(a)){d.nodeSelection=m(this,[a],b,d.nodeSelection);var c=this.edgesIter([a]);this.isDirected()&&(c=v.mark(function e(b,c){return v.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.delegateYield(c,"t0",1);case 1:return d.delegateYield(b.inEdgesIter([a]),"t1",2);case 2:case"end":return d.stop()}},e,this)})(this,c)),d.edgeSelection=n(this,c,b,d.edgeSelection),b.resume()}f.removeNode.call(this,a)},a.removeNodesFrom=function(a){a=e(a),d.nodeSelection=m(this,a,b,d.nodeSelection);var c=this.edgesIter(a);this.isDirected()&&(c=v.mark(function g(b,c){return v.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.delegateYield(c,"t0",1);case 1:return d.delegateYield(b.inEdgesIter(a),"t1",2);case 2:case"end":return d.stop()}},g,this)})(this,c)),d.edgeSelection=n(this,c,b,d.edgeSelection),b.resume(),f.removeNodesFrom.call(this,a)},a.removeEdge=function(a,c){d.edgeSelection=n(this,[[a,c]],b,d.edgeSelection),b.resume(),f.removeEdge.call(this,a,c)},a.removeEdgesFrom=function(c){c=e(c),d.edgeSelection=n(this,c,b,d.edgeSelection),b.resume(),f.removeEdgesFrom.call(a,c)},a.clear=function(){d.nodeSelection=d.nodeSelection.data([],k),d.nodeSelection.exit().remove(),d.edgeSelection=d.edgeSelection.data([],l),d.edgeSelection.exit().remove(),b.nodes([]).links([]).resume(),f.clear.call(this)},a.bound=!0}function p(a){return a.bound}function q(a){var b=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if(p(a)){var c=a.constructor.prototype;A.forEach(function(b){return a[b]=c[b]}),delete a.bound,b&&r(a)}}function r(a){var b=!0,c=!1,d=void 0;try{for(var e,f=t(a.nodesIter(!0));!(b=(e=f.next()).done);b=!0){var g=s(e.value,2),h=(g[0],g[1]);delete h[B]}}catch(i){c=!0,d=i}finally{try{!b&&f["return"]&&f["return"]()}finally{if(c)throw d}}var j=!0,k=!1,l=void 0;try{for(var m,n=t(a.edgesIter(null,!0));!(j=(m=n.next()).done);j=!0){var o=s(m.value,3),h=(o[0],o[1],o[2]);delete h[B]}}catch(i){k=!0,l=i}finally{try{!j&&n["return"]&&n["return"]()}finally{if(k)throw l}}}var s=a("babel-runtime/helpers/sliced-to-array")["default"],t=a("babel-runtime/core-js/get-iterator")["default"],u=a("babel-runtime/core-js/array/from")["default"],v=a("babel-runtime/regenerator")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.draw=f;var w=a("../_internals"),x=function(){},y=null,z=null,A=["addNode","addNodesFrom","addEdge","addEdgesFrom","removeNode","removeNodesFrom","removeEdge","removeEdgesFrom","clear"],B="__d3datum__",C=b.d3,D={layoutAttr:{charge:-120,linkDistance:60},nodeShape:"circle",nodeAttr:{r:10},nodeStyle:{"stroke-width":2,stroke:"#333",fill:"#999",cursor:"pointer"},edgeAttr:{},edgeStyle:{fill:"#000","stroke-width":3},labelAttr:{},labelStyle:{"text-anchor":"middle","dominant-baseline":"central",cursor:"pointer","-webkit-user-select":"none",fill:"#000"},edgeLabelAttr:{},edgeLabelStyle:{"font-size":"0.8em","text-anchor":"middle","-webkit-user-select":"none"},edgeLabelOffset:{x:0,y:.5},withLabels:!1,withEdgeLabels:!1,edgeOffset:10,weighted:!1,weights:"weight",weightedStroke:!0,panZoom:{enabled:!0,scale:!0}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../_internals":187,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/sliced-to-array":57,"babel-runtime/regenerator":58}],238:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/get")["default"],e=a("babel-runtime/helpers/inherits")["default"],f=a("babel-runtime/helpers/class-call-check")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./JSNetworkXException"),i=g(h),j=function(a){function b(a){f(this,b),d(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a),this.name="JSNetworkXAlgorithmError"}return e(b,a),b}(i["default"]);c["default"]=j,b.exports=c["default"]},{"./JSNetworkXException":240,"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/get":53,"babel-runtime/helpers/inherits":54,"babel-runtime/helpers/interop-require-default":55}],239:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/get")["default"],e=a("babel-runtime/helpers/inherits")["default"],f=a("babel-runtime/helpers/class-call-check")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./JSNetworkXException"),i=g(h),j=function(a){function b(a){f(this,b),d(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a),this.name="JSNetworkXError"}return e(b,a),b}(i["default"]);c["default"]=j,b.exports=c["default"]},{"./JSNetworkXException":240,"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/get":53,"babel-runtime/helpers/inherits":54,"babel-runtime/helpers/interop-require-default":55}],240:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=function f(a){d(this,f),this.name="JSNetworkXException",this.message=a};c["default"]=e,b.exports=c["default"]},{"babel-runtime/helpers/class-call-check":49}],241:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/get")["default"],e=a("babel-runtime/helpers/inherits")["default"],f=a("babel-runtime/helpers/class-call-check")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./JSNetworkXUnfeasible"),i=g(h),j=function(a){function b(a){f(this,b),d(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a),this.name="JSNetworkXNoPath"}return e(b,a),b}(i["default"]);c["default"]=j,b.exports=c["default"]},{"./JSNetworkXUnfeasible":242,"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/get":53,"babel-runtime/helpers/inherits":54,"babel-runtime/helpers/interop-require-default":55}],242:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/get")["default"],e=a("babel-runtime/helpers/inherits")["default"],f=a("babel-runtime/helpers/class-call-check")["default"],g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./JSNetworkXAlgorithmError"),i=g(h),j=function(a){function b(a){f(this,b),d(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,a),this.name="JSNetworkXUnfeasible"}return e(b,a),b}(i["default"]);c["default"]=j,b.exports=c["default"]},{"./JSNetworkXAlgorithmError":238,"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/get":53,"babel-runtime/helpers/inherits":54,"babel-runtime/helpers/interop-require-default":55}],243:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/get")["default"],e=a("babel-runtime/helpers/inherits")["default"],f=a("babel-runtime/helpers/class-call-check")["default"];Object.defineProperty(c,"__esModule",{value:!0});var g=function(a){function b(a){f(this,b),d(Object.getPrototypeOf(b.prototype),"constructor",this).call(this),this.name="KeyError",this.message=a}return e(b,a),b}(Error);c["default"]=g,b.exports=c["default"]},{"babel-runtime/helpers/class-call-check":49,"babel-runtime/helpers/get":53,"babel-runtime/helpers/inherits":54}],244:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0});var e=a("./KeyError"),f=d(e),g=a("./JSNetworkXAlgorithmError"),h=d(g),i=a("./JSNetworkXError"),j=d(i),k=a("./JSNetworkXException"),l=d(k),m=a("./JSNetworkXNoPath"),n=d(m),o=a("./JSNetworkXUnfeasible"),p=d(o);c.KeyError=f["default"],c.JSNetworkXAlgorithmError=h["default"],c.JSNetworkXError=j["default"],c.JSNetworkXException=l["default"],c.JSNetworkXNoPath=n["default"],c.JSNetworkXUnfeasible=p["default"]},{"./JSNetworkXAlgorithmError":238,"./JSNetworkXError":239,"./JSNetworkXException":240,"./JSNetworkXNoPath":241,"./JSNetworkXUnfeasible":242,"./KeyError":243,"babel-runtime/helpers/interop-require-default":55}],245:[function(a,b,c){"use strict";function d(a,b){var c,d,e,f,g;return n.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(c=s.genRange(a),0!==a){h.next=3;break}return h.abrupt("return");case 3:d=[s.next(c)];case 4:if(!(d.length>0)){h.next=20;break}e=d.shift(),f=0;case 7:if(!(b>f)){h.next=18;break}if(g=c.next(),!g.done){h.next=11;break}return h.abrupt("return");case 11:return g=g.value,d.push(g),h.next=15,s.tuple2(e,g);case 15:f++,h.next=7;break;case 18:h.next=4;break;case 20:case"end":return h.stop()}},p[0],this)}function e(a,b,c){var e=i(b,c);return e.addEdgesFrom(d(b,a)),e}function f(a,b,c){var e=1===a?b:Math.floor((1-Math.pow(a,b+1))/(1-a)),f=i(e,c);return f.addEdgesFrom(d(e,a)),f}function g(a,b){var c=i(a,b);return c.name="complete_graph("+a+")",a>1&&c.addEdgesFrom(c.isDirected()?s.genPermutations(s.range(a),2):s.genCombinations(s.range(a),2)),c}function h(a,b){var c=l(a,b);return c.name="cycle_graph("+a+")",a>1&&c.addEdge(a-1,0),c}function i(a,b){s.isGraph(a)&&(b=a,a=null),null==a&&(a=0);var c;return null==b?c=new r["default"]:(c=b,c.clear()),c.addNodesFrom(s.genRange(a)),c.name="emptyGraph("+a+")",c}function j(a,b){var c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],d=arguments.length<=3||void 0===arguments[3]?null:arguments[3],e=i(0,d);e.name="grid2dGraph";var f,g;for(f=0;a>f;f++)for(g=0;b>g;g++)e.addNode([f,g]);for(f=1;a>f;f++)for(g=0;b>g;g++)e.addEdge([f,g],[f-1,g]);for(f=0;a>f;f++)for(g=1;b>g;g++)e.addEdge([f,g],[f,g-1]);if(e.isDirected()){for(f=0;a-1>f;f++)for(g=0;b>g;g++)e.addEdge([f,g],[f+1,g]);for(f=0;a>f;f++)for(g=0;b-1>g;g++)e.addEdge([f,g],[f,g+1])}if(c){if(b>2){for(f=0;a>f;f++)e.addEdge([f,0],[f,b-1]);if(e.isDirected())for(f=0;a>f;f++)e.addEdge([f,b-1],[f,0])}if(a>2){for(g=0;b>g;g++)e.addEdge([0,g],[a-1,g]);if(e.isDirected())for(g=0;b>g;g++)e.addEdge([a-1,g],[0,g])}e.name="periodicGrid2dGraph("+a+", "+b+")"}return e}function k(a){var b=i(0,a);return b.name="nullGraph()",b}function l(a,b){var c=i(a,b);return c.name="pathGraph("+a+")",c.addEdgesFrom(s.mapIterator(s.genRange(a-1),function(a){return s.tuple2(a,a+1)})),c}function m(a){var b=i(1,a);return b.name="nullGraph()",b}var n=a("babel-runtime/regenerator")["default"],o=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.fullRaryTree=e,c.balancedTree=f,c.completeGraph=g,c.cycleGraph=h,c.emptyGraph=i,c.grid2dGraph=j,c.nullGraph=k,c.pathGraph=l,c.trivialGraph=m;var p=[d].map(n.mark),q=a("../classes/Graph"),r=o(q),s=a("../_internals")},{"../_internals":187,"../classes/Graph":227,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/regenerator":58}],246:[function(a,b,c){"use strict";function d(a,b){if(a=g(a),!m.isValidDegreeSequence(a))throw new l["default"]("Invalid degree sequence");if(null!=b&&b.isDirected())throw new l["default"]("Directed Graph not supported");for(var c=a.length,d=n.emptyGraph(c,b),e=new Array(c),h=0;c>h;h++)e[h]=[];var i=0,j=0,k=0;for(h=0;c>h;h++){var o=a[h];o>0&&(e[o].push(k),i=Math.max(i,o),j+=o,k+=1)}if(0===k)return d;var q=new Array(i+1);for(h=0;i+1>h;h++)q[h]=[0,0];for(;k>0;){for(;0===e[i].length;)i-=1;if(i>k-1)throw new l["default"]("Non-graphical integer sequence");var r=e[i].pop();k-=1;var s=0,t=i;for(h=0;i>h;h++){for(;0===e[t].length;)t-=1;var u=e[t].pop();d.addEdge(r,u),k-=1,t>1&&(q[s]=[t-1,u],s+=1)}for(h=0;s>h;h++){var v=f(q[h],2),w=v[0],x=v[1];e[w].push(x),k+=1}}return d.name=p["default"]("havelHakimiGraph %s nodes %d edges",d.order(),d.size()),d}function e(a,b){return j["default"]("havelHakimiGraph",[a,b])}var f=a("babel-runtime/helpers/sliced-to-array")["default"],g=a("babel-runtime/core-js/array/from")["default"],h=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.havelHakimiGraph=d,c.genHavelHakimiGraph=e;var i=a("../_internals/delegate"),j=h(i),k=a("../exceptions/JSNetworkXError"),l=h(k),m=a("../algorithms/graphical"),n=a("./classic"),o=a("../_internals/sprintf"),p=h(o)},{"../_internals/delegate":179,"../_internals/sprintf":205,"../algorithms/graphical":216,"../exceptions/JSNetworkXError":239,"./classic":245,"babel-runtime/core-js/array/from":35,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57}],247:[function(a,b,c){"use strict";var d=a("babel-runtime/helpers/interop-require-wildcard")["default"],e=a("babel-runtime/helpers/defaults")["default"];Object.defineProperty(c,"__esModule",{value:!0});var f=a("./classic"),g=d(f),h=a("./degreeSequence"),i=d(h),j=a("./randomGraphs"),k=d(j),l=a("./small"),m=d(l),n=a("./social"),o=d(n);c.classic=g,c.degreeSequence=i,c.randomGraphs=k,c.small=m,c.social=o,e(c,d(f)),e(c,d(h)),e(c,d(j)),e(c,d(l)),e(c,d(n))},{"./classic":245,"./degreeSequence":246,"./randomGraphs":248,"./small":249,"./social":250,"babel-runtime/helpers/defaults":51,"babel-runtime/helpers/interop-require-wildcard":56}],248:[function(a,b,c){"use strict";function d(a,b){var c=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],d=t.emptyGraph(a);if(d.name=u.sprintf("fastGnpRandomGraph(%s, %s)",a,b),0>=b||b>=1)return f(a,b,c);var e,g,h=-1,i=Math.log(1-b);if(c)for(e=0,d=new q["default"](d);a>e;){for(g=Math.log(1-Math.random()),h=h+1+Math.floor(g/i),e===h&&(h+=1);h>=a&&a>e;)h-=a,e+=1,e===h&&(h+=1);a>e&&d.addEdge(e,h)}else for(e=1;a>e;){for(g=Math.log(1-Math.random()),h=h+1+Math.floor(g/i);h>=e&&a>e;)h-=e,e+=1;a>e&&d.addEdge(e,h)}return d}function e(a,b,c){return o["default"]("fastGnpRandomGraph",[a,b,c])}function f(a,b){var c,d=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],e=d?new q["default"]:new s["default"],f=u.range(a);if(e.addNodesFrom(f),e.name=u.sprintf("gnpRandomGraph(%s, %s)",a,b),0>=b)return e;if(b>=1)return t.completeGraph(a,e);c=e.isDirected()?u.genPermutations(f,2):u.genCombinations(f,2);var g=!0,h=!1,i=void 0;try{for(var j,k=l(c);!(g=(j=k.next()).done);g=!0){var m=j.value;Math.random()<b&&e.addEdge(m[0],m[1])}}catch(n){h=!0,i=n}finally{try{!g&&k["return"]&&k["return"]()}finally{if(h)throw i}}return e}function g(a,b,c){return o["default"]("gnpRandomGraph",[a,b,c])}function h(a,b,c){return f(a,b,c)}function i(a,b,c){return o["default"]("binomialGraph",[a,b,c])}function j(a,b,c){return f(a,b,c)}function k(a,b,c){return o["default"]("erdosRenyiGraph",[a,b,c])}var l=a("babel-runtime/core-js/get-iterator")["default"],m=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.fastGnpRandomGraph=d,c.genFastGnpRandomGraph=e,c.gnpRandomGraph=f,c.genGnpRandomGraph=g,c.binomialGraph=h,c.genBinomialGraph=i,c.erdosRenyiGraph=j,c.genErdosRenyiGraph=k;var n=a("../_internals/delegate"),o=m(n),p=a("../classes/DiGraph"),q=m(p),r=a("../classes/Graph"),s=m(r),t=a("./classic"),u=a("../_internals")},{"../_internals":187,"../_internals/delegate":179,"../classes/DiGraph":226,"../classes/Graph":227,"./classic":245,"babel-runtime/core-js/get-iterator":36,"babel-runtime/helpers/interop-require-default":55}],249:[function(a,b,c){"use strict";function d(a,b){if(null!=b&&b.isDirected())throw new k["default"]("Directed Graph not supported");return e(a,b)}function e(a,b){var c=a.type,d=a.name,e=a.n,f=a.list,g=l.emptyGraph(e,b),i=g.nodes();if("adjacencylist"===c){if(f.length!==e)throw new k["default"]("invalid graphDescription");i.forEach(function(a){m.forEach(f[a],function(b){return g.addEdge(b-1,a)})})}else"edgelist"===c&&m.forEach(f,function(a){var b=h(a,2),c=b[0],d=b[1];if(c-=1,d-=1,0>c||c>e-1||0>d||d>e-1)throw new k["default"]("invalid graphDescription");g.addEdge(c,d)});return g.name=d,g}function f(a){var b="adjacencylist",c="Bull Graph",e=5,f=[[2,3],[1,3,4],[1,2,5],[2],[3]];return d({type:b,name:c,n:e,list:f},a)}function g(a){var b="adjacencylist",c="Krackhardt Kite Social Network",e=10,f=[[2,3,4,6],[1,4,5,7],[1,4,6],[1,2,3,5,6,7],[2,4,7],[1,3,4,7,8],[2,4,5,6,8],[6,7,9],[8,10],[9]];return d({type:b,name:c,n:e,list:f},a)}var h=a("babel-runtime/helpers/sliced-to-array")["default"],i=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.makeSmallUndirectedGraph=d,c.makeSmallGraph=e,c.bullGraph=f,c.krackhardtKiteGraph=g;var j=a("../exceptions/JSNetworkXError"),k=i(j),l=a("./classic"),m=a("../_internals")},{"../_internals":187,"../exceptions/JSNetworkXError":239,"./classic":245,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/sliced-to-array":57}],250:[function(a,b,c){"use strict";function d(){var a=new i["default"];a.addNodesFrom(k["default"](34)),a.name="Zachary's Karate Club";var b=["0 1 1 1 1 1 1 1 1 0 1 1 1 1 0 0 0 1 0 1 0 1 0 0 0 0 0 0 0 0 0 1 0 0","1 0 1 1 0 0 0 1 0 0 0 0 0 1 0 0 0 1 0 1 0 1 0 0 0 0 0 0 0 0 1 0 0 0","1 1 0 1 0 0 0 1 1 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 1 0","1 1 1 0 0 0 0 1 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0","1 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0","1 0 0 0 0 0 1 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0","1 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0","1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0","1 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1 1","0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1","1 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0","1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0","1 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0","1 1 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1","0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0","1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1","1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1","1 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1 0 1 0 0 1 1","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1 0 0 0 1 0 0","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 1 0 0","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 1","0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 1","0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 1","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 1 0 0 0 0 0 1 1","0 1 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1","1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 1 0 0 0 1 1","0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 1 0 0 1 0 1 0 1 1 0 0 0 0 0 1 1 1 0 1","0 0 0 0 0 0 0 0 1 1 0 0 0 1 1 1 0 0 1 1 1 0 1 1 0 0 1 1 1 1 1 1 1 0"];
return b.forEach(function(b,c){var d=b.split(" ");d.forEach(function(b,d){"1"===b&&a.addEdge(c,d)})}),a.addNodesFrom([0,1,2,3,4,5,6,7,8,10,11,12,13,16,17,19,21],{club:"Mr. Hi"}),a.addNodesFrom([9,14,15,18,20,22,23,24,25,26,27,28,29,30,31,32,33],{club:"Officer"}),a}function e(){var a=new i["default"];return a.addNodesFrom(["Evelyn Jefferson","Laura Mandeville","Theresa Anderson","Brenda Rogers","Charlotte McDowd","Frances Anderson","Eleanor Nye","Pearl Oglethorpe","Ruth DeSand","Verne Sanderson","Myra Liddel","Katherina Rogers","Sylvia Avondale","Nora Fayette","Helen Lloyd","Dorothy Murchison","Olivia Carleton","Flora Price"],{bipartite:0}),a.addNodesFrom(["E1","E2","E3","E4","E5","E6","E7","E8","E9","E10","E11","E12","E13","E14"],{bipartite:1}),a.add_edges_from([["Evelyn Jefferson","E1"],["Evelyn Jefferson","E2"],["Evelyn Jefferson","E3"],["Evelyn Jefferson","E4"],["Evelyn Jefferson","E5"],["Evelyn Jefferson","E6"],["Evelyn Jefferson","E8"],["Evelyn Jefferson","E9"],["Laura Mandeville","E1"],["Laura Mandeville","E2"],["Laura Mandeville","E3"],["Laura Mandeville","E5"],["Laura Mandeville","E6"],["Laura Mandeville","E7"],["Laura Mandeville","E8"],["Theresa Anderson","E2"],["Theresa Anderson","E3"],["Theresa Anderson","E4"],["Theresa Anderson","E5"],["Theresa Anderson","E6"],["Theresa Anderson","E7"],["Theresa Anderson","E8"],["Theresa Anderson","E9"],["Brenda Rogers","E1"],["Brenda Rogers","E3"],["Brenda Rogers","E4"],["Brenda Rogers","E5"],["Brenda Rogers","E6"],["Brenda Rogers","E7"],["Brenda Rogers","E8"],["Charlotte McDowd","E3"],["Charlotte McDowd","E4"],["Charlotte McDowd","E5"],["Charlotte McDowd","E7"],["Frances Anderson","E3"],["Frances Anderson","E5"],["Frances Anderson","E6"],["Frances Anderson","E8"],["Eleanor Nye","E5"],["Eleanor Nye","E6"],["Eleanor Nye","E7"],["Eleanor Nye","E8"],["Pearl Oglethorpe","E6"],["Pearl Oglethorpe","E8"],["Pearl Oglethorpe","E9"],["Ruth DeSand","E5"],["Ruth DeSand","E7"],["Ruth DeSand","E8"],["Ruth DeSand","E9"],["Verne Sanderson","E7"],["Verne Sanderson","E8"],["Verne Sanderson","E9"],["Verne Sanderson","E12"],["Myra Liddel","E8"],["Myra Liddel","E9"],["Myra Liddel","E10"],["Myra Liddel","E12"],["Katherina Rogers","E8"],["Katherina Rogers","E9"],["Katherina Rogers","E10"],["Katherina Rogers","E12"],["Katherina Rogers","E13"],["Katherina Rogers","E14"],["Sylvia Avondale","E7"],["Sylvia Avondale","E8"],["Sylvia Avondale","E9"],["Sylvia Avondale","E10"],["Sylvia Avondale","E12"],["Sylvia Avondale","E13"],["Sylvia Avondale","E14"],["Nora Fayette","E6"],["Nora Fayette","E7"],["Nora Fayette","E9"],["Nora Fayette","E10"],["Nora Fayette","E11"],["Nora Fayette","E12"],["Nora Fayette","E13"],["Nora Fayette","E14"],["Helen Lloyd","E7"],["Helen Lloyd","E8"],["Helen Lloyd","E10"],["Helen Lloyd","E11"],["Helen Lloyd","E12"],["Dorothy Murchison","E8"],["Dorothy Murchison","E9"],["Olivia Carleton","E9"],["Olivia Carleton","E11"],["Flora Price","E9"],["Flora Price","E11"]]),a}function f(){var a=new i["default"];return a.addEdge("Acciaiuoli","Medici"),a.addEdge("Castellani","Peruzzi"),a.addEdge("Castellani","Strozzi"),a.addEdge("Castellani","Barbadori"),a.addEdge("Medici","Barbadori"),a.addEdge("Medici","Ridolfi"),a.addEdge("Medici","Tornabuoni"),a.addEdge("Medici","Albizzi"),a.addEdge("Medici","Salviati"),a.addEdge("Salviati","Pazzi"),a.addEdge("Peruzzi","Strozzi"),a.addEdge("Peruzzi","Bischeri"),a.addEdge("Strozzi","Ridolfi"),a.addEdge("Strozzi","Bischeri"),a.addEdge("Ridolfi","Tornabuoni"),a.addEdge("Tornabuoni","Guadagni"),a.addEdge("Albizzi","Ginori"),a.addEdge("Albizzi","Guadagni"),a.addEdge("Bischeri","Guadagni"),a.addEdge("Guadagni","Lamberteschi"),a}var g=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.karateClubGraph=d,c.davisSouthernWomenGraph=e,c.florentineFamiliesGraph=f;var h=a("../classes/Graph"),i=g(h),j=a("../_internals/range"),k=g(j)},{"../_internals/range":202,"../classes/Graph":227,"babel-runtime/helpers/interop-require-default":55}],251:[function(a,b,c){"use strict";var d=a("babel-runtime/core-js/array/from")["default"],e=a("babel-runtime/helpers/interop-require-wildcard")["default"],f=a("babel-runtime/helpers/interop-require-default")["default"],g=a("babel-runtime/helpers/defaults")["default"];Object.defineProperty(c,"__esModule",{value:!0});var h=a("./algorithms"),i=e(h),j=a("./classes"),k=e(j),l=a("./convert"),m=e(l),n=a("./drawing"),o=e(n),p=a("./exceptions"),q=e(p),r=a("./generators"),s=e(r),t=a("./relabel"),u=e(t),v=a("./_internals/Map"),w=f(v),x=a("./_internals/Set"),y=f(x),z=a("./_internals/forEach"),A=f(z);c.Map=w["default"],c.Set=y["default"],c.forEach=A["default"],c.algorithms=i,c.classes=k,c.convert=m,c.drawing=o,c.exceptions=q,c.generators=s,c.relabel=u;var B=d;c.toArray=B,g(c,e(h)),g(c,e(j)),g(c,e(l)),g(c,e(n));var C=a("./contrib/observer");g(c,e(C)),g(c,e(p)),g(c,e(r)),g(c,e(t))},{"./_internals/Map":170,"./_internals/Set":172,"./_internals/forEach":181,"./algorithms":217,"./classes":231,"./contrib/observer":233,"./convert":235,"./drawing":236,"./exceptions":244,"./generators":247,"./relabel":252,"babel-runtime/core-js/array/from":35,"babel-runtime/helpers/defaults":51,"babel-runtime/helpers/interop-require-default":55,"babel-runtime/helpers/interop-require-wildcard":56}],252:[function(a,b,c){"use strict";function d(a,b){var c=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],d=b;return"function"!=typeof b?n.isMap(d)||(d=new n.Map(d)):d=new n.Map(n.mapIterator(a.nodesIter(),function(a){return n.tuple2(a,b(a))})),c?f(a,d):e(a,d)}function e(a,b){var c,d=new n.Set(b.keys());if(n.someIterator(b.values(),function(a){return d.has(a)})){var e=new l["default"](b);e.removeEdgesFrom(e.selfloopEdges());try{c=n.topologicalSort(e)}catch(f){if(f instanceof m.JSNetworkXUnfeasible)throw new m.JSNetworkXUnfeasible("The node label sets are overlapping and no ordering can resolve the mapping. Use copy=True.")}c.reverse()}else c=d.values();var g,h=a.isMultigraph(),i=a.isDirected();return n.forEach(c,function(c){var d;if(b.has(c)){if(d=b.get(c),!a.hasNode(c))throw new m.JSNetworkXError(n.sprintf("Node %j is not in the graph.",c));a.addNode(d,a.node.get(c)),h?(g=a.edges(c,!0,!0).map(function(a){return n.tuple4c(d,a[1],a[2],a[3],a)}),i&&(g=g.concat(a.inEdges(c,!0,!0).map(function(a){return n.tuple4c(a[0],d,a[2],a[3],a)})))):(g=a.edges(c,!0).map(function(a){return n.tuple3c(d,a[1],a[2],a)}),i&&(g=g.concat(a.inEdges(c,!0).map(function(a){return n.tuple3c(a[0],d,a[2],a)})))),a.removeNode(c),a.addEdgesFrom(g)}}),a}function f(a,b){var c=new a.constructor;return c.name="("+a.name+")",a.isMultigraph()?c.addEdgesFrom(n.mapIterator(a.edgesIter(null,!0,!0),function(a){return n.tuple4c(b.has(a[0])?b.get(a[0]):a[0],b.has(a[1])?b.get(a[1]):a[1],a[2],n.clone(a[3]),a)})):c.addEdgesFrom(n.mapIterator(a.edgesIter(null,!0),function(a){return n.tuple3c(b.has(a[0])?b.get(a[0]):a[0],b.has(a[1])?b.get(a[1]):a[1],n.clone(a[3]),a)})),a.node.forEach(function(a,d){return c.addNode(b.has(d)?b.get(d):d,n.clone(a))}),h(c.graph,n.clone(a.graph)),c}function g(a){var b=arguments.length<=1||void 0===arguments[1]?0:arguments[1],c=arguments.length<=2||void 0===arguments[2]?"default":arguments[2],e=arguments.length<=3||void 0===arguments[3]?!0:arguments[3];switch("boolean"==typeof c&&(e=c,c="default"),typeof b){case"string":c=b,b=0;break;case"boolean":e=b,b=0}var f,g,h,j,k,l=new n.Map;switch(c){case"default":for(f=a.nodes(),h=0,j=b,k=f.length;k>h;h++,j++)l.set(f[h],j);break;case"sorted":for(f=a.nodes(),f.sort(),h=0,j=b,k=f.length;k>h;h++,j++)l.set(f[h],j);break;case"increasing degree":for(g=i(a.degreeIter()),g.sort(function(a,b){return a[1]-b[1]}),h=0,j=b,k=g.length;k>h;h++,j++)l.set(g[h][0],j);break;case"decreasing degree":for(g=i(a.degreeIter()),g.sort(function(a,b){return b[1]-a[1]}),h=0,j=b,k=g.length;k>h;h++,j++)l.set(g[h][0],j);break;default:throw new m.JSNetworkXError(n.sprintf('Unkown node ordering: "%s"',c))}var o=d(a,l);return o.name="("+a.name+")WithIntLabels",e||(o.nodeLabels=l),o}var h=a("babel-runtime/core-js/object/assign")["default"],i=a("babel-runtime/core-js/array/from")["default"],j=a("babel-runtime/helpers/interop-require-default")["default"];Object.defineProperty(c,"__esModule",{value:!0}),c.relabelNodes=d,c.convertNodeLabelsToIntegers=g;var k=a("./classes/DiGraph"),l=j(k),m=a("./exceptions"),n=a("./_internals")},{"./_internals":187,"./classes/DiGraph":226,"./exceptions":244,"babel-runtime/core-js/array/from":35,"babel-runtime/core-js/object/assign":39,"babel-runtime/helpers/interop-require-default":55}],253:[function(a,b,c){function d(a){var b=a?a.length:0;return b?a[b-1]:void 0}b.exports=d},{}],254:[function(a,b,c){function d(a,b,c){if(c?f(a,b,c):null==b){a=h(a);var d=a.length;return d>0?a[e(0,d-1)]:void 0}var j=-1,k=g(a),d=k.length,l=d-1;for(b=i(0>b?0:+b||0,d);++j<b;){var m=e(j,l),n=k[m];k[m]=k[j],k[j]=n}return k.length=b,k}var e=a("../internal/baseRandom"),f=a("../internal/isIterateeCall"),g=a("../lang/toArray"),h=a("../internal/toIterable"),i=Math.min;b.exports=d},{"../internal/baseRandom":278,"../internal/isIterateeCall":298,"../internal/toIterable":304,"../lang/toArray":317}],255:[function(a,b,c){function d(a){return e(a,f)}var e=a("./sample"),f=Number.POSITIVE_INFINITY;b.exports=d},{"./sample":254}],256:[function(a,b,c){function d(a){var b=a?e(a):0;return f(b)?b:g(a).length}var e=a("../internal/getLength"),f=a("../internal/isLength"),g=a("../object/keys");b.exports=d},{"../internal/getLength":290,"../internal/isLength":300,"../object/keys":319}],257:[function(a,b,c){function d(a,b){if("function"!=typeof a)throw new TypeError(e);return b=f(void 0===b?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=f(c.length-b,0),g=Array(e);++d<e;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}var h=Array(b+1);for(d=-1;++d<b;)h[d]=c[d];return h[b]=g,a.apply(this,h)}}var e="Expected a function",f=Math.max;b.exports=d},{}],258:[function(a,b,c){function d(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}b.exports=d},{}],259:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}b.exports=d},{}],260:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}b.exports=d},{}],261:[function(a,b,c){function d(a,b){return null==b?a:e(b,f(b),a)}var e=a("./baseCopy"),f=a("../object/keys");b.exports=d},{"../object/keys":319,"./baseCopy":264}],262:[function(a,b,c){function d(a,b,c){var d=typeof a;return"function"==d?void 0===b?a:g(a,b,c):null==a?h:"object"==d?e(a):void 0===b?i(a):f(a,b)}var e=a("./baseMatches"),f=a("./baseMatchesProperty"),g=a("./bindCallback"),h=a("../utility/identity"),i=a("../utility/property");b.exports=d},{"../utility/identity":325,"../utility/property":326,"./baseMatches":272,"./baseMatchesProperty":273,"./bindCallback":282}],263:[function(a,b,c){function d(a,b,c,o,p,q,r){var t;if(c&&(t=p?c(a,o,p):c(a)),void 0!==t)return t;if(!m(a))return a;var u=l(a);if(u){if(t=i(a),!b)return e(a,t)}else{var w=M.call(a),x=w==s;if(w!=v&&w!=n&&(!x||p))return K[w]?j(a,w,b):p?a:{};if(t=k(x?{}:a),!b)return g(t,a)}q||(q=[]),r||(r=[]);for(var y=q.length;y--;)if(q[y]==a)return r[y];return q.push(a),r.push(t),(u?f:h)(a,function(e,f){t[f]=d(e,b,c,f,a,q,r)}),t}var e=a("./arrayCopy"),f=a("./arrayEach"),g=a("./baseAssign"),h=a("./baseForOwn"),i=a("./initCloneArray"),j=a("./initCloneByTag"),k=a("./initCloneObject"),l=a("../lang/isArray"),m=a("../lang/isObject"),n="[object Arguments]",o="[object Array]",p="[object Boolean]",q="[object Date]",r="[object Error]",s="[object Function]",t="[object Map]",u="[object Number]",v="[object Object]",w="[object RegExp]",x="[object Set]",y="[object String]",z="[object WeakMap]",A="[object ArrayBuffer]",B="[object Float32Array]",C="[object Float64Array]",D="[object Int8Array]",E="[object Int16Array]",F="[object Int32Array]",G="[object Uint8Array]",H="[object Uint8ClampedArray]",I="[object Uint16Array]",J="[object Uint32Array]",K={};K[n]=K[o]=K[A]=K[p]=K[q]=K[B]=K[C]=K[D]=K[E]=K[F]=K[u]=K[v]=K[w]=K[y]=K[G]=K[H]=K[I]=K[J]=!0,K[r]=K[s]=K[t]=K[x]=K[z]=!1;var L=Object.prototype,M=L.toString;b.exports=d},{"../lang/isArray":309,"../lang/isObject":313,"./arrayCopy":258,"./arrayEach":259,"./baseAssign":261,"./baseForOwn":267,"./initCloneArray":293,"./initCloneByTag":294,"./initCloneObject":295}],264:[function(a,b,c){function d(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}b.exports=d},{}],265:[function(a,b,c){var d=a("./createBaseFor"),e=d();b.exports=e},{"./createBaseFor":285}],266:[function(a,b,c){function d(a,b){return e(a,b,f)}var e=a("./baseFor"),f=a("../object/keysIn");b.exports=d},{"../object/keysIn":320,"./baseFor":265}],267:[function(a,b,c){function d(a,b){return e(a,b,f)}var e=a("./baseFor"),f=a("../object/keys");b.exports=d},{"../object/keys":319,"./baseFor":265}],268:[function(a,b,c){function d(a,b,c){if(null!=a){void 0!==c&&c in e(a)&&(b=[c]);for(var d=0,f=b.length;null!=a&&f>d;)a=a[b[d++]];return d&&d==f?a:void 0}}var e=a("./toObject");b.exports=d},{"./toObject":305}],269:[function(a,b,c){function d(a,b,c,h,i,j){return a===b?!0:null==a||null==b||!f(a)&&!g(b)?a!==a&&b!==b:e(a,b,d,c,h,i,j)}var e=a("./baseIsEqualDeep"),f=a("../lang/isObject"),g=a("./isObjectLike");b.exports=d},{"../lang/isObject":313,"./baseIsEqualDeep":270,"./isObjectLike":301}],270:[function(a,b,c){function d(a,b,c,d,m,p,q){var r=h(a),s=h(b),t=k,u=k;r||(t=o.call(a),t==j?t=l:t!=l&&(r=i(a))),s||(u=o.call(b),u==j?u=l:u!=l&&(s=i(b)));var v=t==l,w=u==l,x=t==u;if(x&&!r&&!v)return f(a,b,t);if(!m){var y=v&&n.call(a,"__wrapped__"),z=w&&n.call(b,"__wrapped__");if(y||z)return c(y?a.value():a,z?b.value():b,d,m,p,q)}if(!x)return!1;p||(p=[]),q||(q=[]);for(var A=p.length;A--;)if(p[A]==a)return q[A]==b;p.push(a),q.push(b);var B=(r?e:g)(a,b,c,d,m,p,q);return p.pop(),q.pop(),B}var e=a("./equalArrays"),f=a("./equalByTag"),g=a("./equalObjects"),h=a("../lang/isArray"),i=a("../lang/isTypedArray"),j="[object Arguments]",k="[object Array]",l="[object Object]",m=Object.prototype,n=m.hasOwnProperty,o=m.toString;b.exports=d},{"../lang/isArray":309,"../lang/isTypedArray":316,"./equalArrays":287,"./equalByTag":288,"./equalObjects":289}],271:[function(a,b,c){function d(a,b,c){var d=b.length,g=d,h=!c;if(null==a)return!g;for(a=f(a);d--;){var i=b[d];if(h&&i[2]?i[1]!==a[i[0]]:!(i[0]in a))return!1}for(;++d<g;){i=b[d];var j=i[0],k=a[j],l=i[1];if(h&&i[2]){if(void 0===k&&!(j in a))return!1}else{var m=c?c(k,l,j):void 0;if(!(void 0===m?e(l,k,c,!0):m))return!1}}return!0}var e=a("./baseIsEqual"),f=a("./toObject");b.exports=d},{"./baseIsEqual":269,"./toObject":305}],272:[function(a,b,c){function d(a){var b=f(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(void 0!==d||c in g(a))}}return function(a){return e(a,b)}}var e=a("./baseIsMatch"),f=a("./getMatchData"),g=a("./toObject");b.exports=d},{"./baseIsMatch":271,"./getMatchData":291,"./toObject":305}],273:[function(a,b,c){function d(a,b){var c=h(a),d=i(a)&&j(b),n=a+"";return a=m(a),function(h){if(null==h)return!1;var i=n;if(h=l(h),(c||!d)&&!(i in h)){if(h=1==a.length?h:e(h,g(a,0,-1)),null==h)return!1;i=k(a),h=l(h)}return h[i]===b?void 0!==b||i in h:f(b,h[i],void 0,!0)}}var e=a("./baseGet"),f=a("./baseIsEqual"),g=a("./baseSlice"),h=a("../lang/isArray"),i=a("./isKey"),j=a("./isStrictComparable"),k=a("../array/last"),l=a("./toObject"),m=a("./toPath");b.exports=d},{"../array/last":253,"../lang/isArray":309,"./baseGet":268,"./baseIsEqual":269,"./baseSlice":279,"./isKey":299,"./isStrictComparable":302,"./toObject":305,"./toPath":306}],274:[function(a,b,c){function d(a,b,c,m,n){if(!i(a))return a;var o=h(b)&&(g(b)||k(b)),p=o?void 0:l(b);return e(p||b,function(e,g){if(p&&(g=e,e=b[g]),j(e))m||(m=[]),n||(n=[]),f(a,b,g,d,c,m,n);else{var h=a[g],i=c?c(h,e,g,a,b):void 0,k=void 0===i;k&&(i=e),void 0===i&&(!o||g in a)||!k&&(i===i?i===h:h!==h)||(a[g]=i)}}),a}var e=a("./arrayEach"),f=a("./baseMergeDeep"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("../lang/isObject"),j=a("./isObjectLike"),k=a("../lang/isTypedArray"),l=a("../object/keys");b.exports=d},{"../lang/isArray":309,"../lang/isObject":313,"../lang/isTypedArray":316,"../object/keys":319,"./arrayEach":259,"./baseMergeDeep":275,"./isArrayLike":296,"./isObjectLike":301}],275:[function(a,b,c){function d(a,b,c,d,l,m,n){for(var o=m.length,p=b[c];o--;)if(m[o]==p)return void(a[c]=n[o]);var q=a[c],r=l?l(q,p,c,a,b):void 0,s=void 0===r;s&&(r=p,h(p)&&(g(p)||j(p))?r=g(q)?q:h(q)?e(q):[]:i(p)||f(p)?r=f(q)?k(q):i(q)?q:{}:s=!1),m.push(p),n.push(r),s?a[c]=d(r,p,l,m,n):(r===r?r!==q:q===q)&&(a[c]=r)}var e=a("./arrayCopy"),f=a("../lang/isArguments"),g=a("../lang/isArray"),h=a("./isArrayLike"),i=a("../lang/isPlainObject"),j=a("../lang/isTypedArray"),k=a("../lang/toPlainObject");b.exports=d},{"../lang/isArguments":308,"../lang/isArray":309,"../lang/isPlainObject":314,"../lang/isTypedArray":316,"../lang/toPlainObject":318,"./arrayCopy":258,"./isArrayLike":296}],276:[function(a,b,c){function d(a){return function(b){return null==b?void 0:b[a]}}b.exports=d},{}],277:[function(a,b,c){function d(a){var b=a+"";return a=f(a),function(c){return e(c,a,b)}}var e=a("./baseGet"),f=a("./toPath");b.exports=d},{"./baseGet":268,"./toPath":306}],278:[function(a,b,c){function d(a,b){return a+e(f()*(b-a+1))}var e=Math.floor,f=Math.random;b.exports=d},{}],279:[function(a,b,c){function d(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=void 0===c||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}b.exports=d},{}],280:[function(a,b,c){function d(a){return null==a?"":a+""}b.exports=d},{}],281:[function(a,b,c){function d(a,b){for(var c=-1,d=b.length,e=Array(d);++c<d;)e[c]=a[b[c]];return e}b.exports=d},{}],282:[function(a,b,c){function d(a,b,c){if("function"!=typeof a)return e;if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}var e=a("../utility/identity");b.exports=d},{"../utility/identity":325}],283:[function(a,b,c){(function(a){function c(a){var b=new d(a.byteLength),c=new e(b);return c.set(new e(a)),b}var d=a.ArrayBuffer,e=a.Uint8Array;b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],284:[function(a,b,c){function d(a){return g(function(b,c){var d=-1,g=null==b?0:c.length,h=g>2?c[g-2]:void 0,i=g>2?c[2]:void 0,j=g>1?c[g-1]:void 0;for("function"==typeof h?(h=e(h,j,5),g-=2):(h="function"==typeof j?j:void 0,g-=h?1:0),i&&f(c[0],c[1],i)&&(h=3>g?void 0:h,g=1);++d<g;){var k=c[d];k&&a(b,k,h)}return b})}var e=a("./bindCallback"),f=a("./isIterateeCall"),g=a("../function/restParam");b.exports=d},{"../function/restParam":257,"./bindCallback":282,"./isIterateeCall":298}],285:[function(a,b,c){function d(a){return function(b,c,d){for(var f=e(b),g=d(b),h=g.length,i=a?h:-1;a?i--:++i<h;){var j=g[i];if(c(f[j],j,f)===!1)break}return b}}var e=a("./toObject");b.exports=d},{"./toObject":305}],286:[function(a,b,c){function d(a){return function(b,c,d){var g={};return c=e(c,d,3),f(b,function(b,d,e){var f=c(b,d,e);d=a?f:d,b=a?b:f,g[d]=b}),g}}var e=a("./baseCallback"),f=a("./baseForOwn");b.exports=d},{"./baseCallback":262,"./baseForOwn":267}],287:[function(a,b,c){function d(a,b,c,d,f,g,h){var i=-1,j=a.length,k=b.length;if(j!=k&&!(f&&k>j))return!1;for(;++i<j;){var l=a[i],m=b[i],n=d?d(f?m:l,f?l:m,i):void 0;if(void 0!==n){if(n)continue;return!1}if(f){if(!e(b,function(a){return l===a||c(l,a,d,f,g,h)}))return!1}else if(l!==m&&!c(l,m,d,f,g,h))return!1}return!0}var e=a("./arraySome");b.exports=d},{"./arraySome":260}],288:[function(a,b,c){function d(a,b,c){switch(c){case e:case f:return+a==+b;case g:return a.name==b.name&&a.message==b.message;case h:return a!=+a?b!=+b:a==+b;case i:case j:return a==b+""}return!1}var e="[object Boolean]",f="[object Date]",g="[object Error]",h="[object Number]",i="[object RegExp]",j="[object String]";b.exports=d},{}],289:[function(a,b,c){function d(a,b,c,d,f,h,i){var j=e(a),k=j.length,l=e(b),m=l.length;if(k!=m&&!f)return!1;for(var n=k;n--;){var o=j[n];if(!(f?o in b:g.call(b,o)))return!1}for(var p=f;++n<k;){o=j[n];var q=a[o],r=b[o],s=d?d(f?r:q,f?q:r,o):void 0;if(!(void 0===s?c(q,r,d,f,h,i):s))return!1;p||(p="constructor"==o)}if(!p){var t=a.constructor,u=b.constructor;if(t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u))return!1}return!0}var e=a("../object/keys"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"../object/keys":319}],290:[function(a,b,c){var d=a("./baseProperty"),e=d("length");b.exports=e},{"./baseProperty":276}],291:[function(a,b,c){function d(a){for(var b=f(a),c=b.length;c--;)b[c][2]=e(b[c][1]);return b}var e=a("./isStrictComparable"),f=a("../object/pairs");b.exports=d},{"../object/pairs":323,"./isStrictComparable":302}],292:[function(a,b,c){function d(a,b){var c=null==a?void 0:a[b];return e(c)?c:void 0}var e=a("../lang/isNative");b.exports=d},{"../lang/isNative":312}],293:[function(a,b,c){function d(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&f.call(a,"index")&&(c.index=a.index,c.input=a.input),c}var e=Object.prototype,f=e.hasOwnProperty;b.exports=d},{}],294:[function(a,b,c){function d(a,b,c){var d=a.constructor;switch(b){case k:return e(a);case f:case g:return new d(+a);case l:case m:case n:case o:case p:case q:case r:case s:case t:var v=a.buffer;return new d(c?e(v):v,a.byteOffset,a.length);case h:case j:return new d(a);case i:var w=new d(a.source,u.exec(a));w.lastIndex=a.lastIndex}return w}var e=a("./bufferClone"),f="[object Boolean]",g="[object Date]",h="[object Number]",i="[object RegExp]",j="[object String]",k="[object ArrayBuffer]",l="[object Float32Array]",m="[object Float64Array]",n="[object Int8Array]",o="[object Int16Array]",p="[object Int32Array]",q="[object Uint8Array]",r="[object Uint8ClampedArray]",s="[object Uint16Array]",t="[object Uint32Array]",u=/\w*$/;b.exports=d},{"./bufferClone":283}],295:[function(a,b,c){function d(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Object),new b}b.exports=d},{}],296:[function(a,b,c){function d(a){return null!=a&&f(e(a))}var e=a("./getLength"),f=a("./isLength");b.exports=d},{"./getLength":290,"./isLength":300}],297:[function(a,b,c){function d(a,b){return a="number"==typeof a||e.test(a)?+a:-1,b=null==b?f:b,a>-1&&a%1==0&&b>a}var e=/^\d+$/,f=9007199254740991;b.exports=d},{}],298:[function(a,b,c){function d(a,b,c){if(!g(c))return!1;var d=typeof b;if("number"==d?e(c)&&f(b,c.length):"string"==d&&b in c){var h=c[b];return a===a?a===h:h!==h}return!1}var e=a("./isArrayLike"),f=a("./isIndex"),g=a("../lang/isObject");b.exports=d},{"../lang/isObject":313,"./isArrayLike":296,"./isIndex":297}],299:[function(a,b,c){function d(a,b){var c=typeof a;if("string"==c&&h.test(a)||"number"==c)return!0;if(e(a))return!1;var d=!g.test(a);return d||null!=b&&a in f(b)}var e=a("../lang/isArray"),f=a("./toObject"),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,h=/^\w*$/;b.exports=d},{"../lang/isArray":309,"./toObject":305}],300:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&e>=a}var e=9007199254740991;b.exports=d},{}],301:[function(a,b,c){function d(a){return!!a&&"object"==typeof a}b.exports=d},{}],302:[function(a,b,c){function d(a){return a===a&&!e(a)}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":313}],303:[function(a,b,c){function d(a){for(var b=i(a),c=b.length,d=c&&a.length,j=!!d&&h(d)&&(f(a)||e(a)),l=-1,m=[];++l<c;){var n=b[l];(j&&g(n,d)||k.call(a,n))&&m.push(n)}return m}var e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("./isIndex"),h=a("./isLength"),i=a("../object/keysIn"),j=Object.prototype,k=j.hasOwnProperty;b.exports=d},{"../lang/isArguments":308,"../lang/isArray":309,"../object/keysIn":320,"./isIndex":297,"./isLength":300}],304:[function(a,b,c){function d(a){return null==a?[]:e(a)?f(a)?a:Object(a):g(a)}var e=a("./isArrayLike"),f=a("../lang/isObject"),g=a("../object/values");b.exports=d},{"../lang/isObject":313,"../object/values":324,"./isArrayLike":296}],305:[function(a,b,c){function d(a){return e(a)?a:Object(a)}var e=a("../lang/isObject");b.exports=d},{"../lang/isObject":313}],306:[function(a,b,c){function d(a){if(f(a))return a;var b=[];return e(a).replace(g,function(a,c,d,e){b.push(d?e.replace(h,"$1"):c||a)}),b}var e=a("./baseToString"),f=a("../lang/isArray"),g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,h=/\\(\\)?/g;b.exports=d},{"../lang/isArray":309,"./baseToString":280}],307:[function(a,b,c){function d(a,b,c,d){return b&&"boolean"!=typeof b&&g(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?e(a,b,f(c,d,3)):e(a,b)}var e=a("../internal/baseClone"),f=a("../internal/bindCallback"),g=a("../internal/isIterateeCall");b.exports=d},{"../internal/baseClone":263,"../internal/bindCallback":282,"../internal/isIterateeCall":298}],308:[function(a,b,c){function d(a){return f(a)&&e(a)&&h.call(a,"callee")&&!i.call(a,"callee")}var e=a("../internal/isArrayLike"),f=a("../internal/isObjectLike"),g=Object.prototype,h=g.hasOwnProperty,i=g.propertyIsEnumerable;b.exports=d},{"../internal/isArrayLike":296,"../internal/isObjectLike":301}],309:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g="[object Array]",h=Object.prototype,i=h.toString,j=d(Array,"isArray"),k=j||function(a){return f(a)&&e(a.length)&&i.call(a)==g};b.exports=k},{"../internal/getNative":292,"../internal/isLength":300,"../internal/isObjectLike":301}],310:[function(a,b,c){function d(a){return a===!0||a===!1||e(a)&&h.call(a)==f}var e=a("../internal/isObjectLike"),f="[object Boolean]",g=Object.prototype,h=g.toString;b.exports=d},{"../internal/isObjectLike":301}],311:[function(a,b,c){function d(a){return e(a)&&h.call(a)==f}var e=a("./isObject"),f="[object Function]",g=Object.prototype,h=g.toString;b.exports=d},{"./isObject":313}],312:[function(a,b,c){function d(a){return null==a?!1:e(a)?k.test(i.call(a)):f(a)&&g.test(a)}var e=a("./isFunction"),f=a("../internal/isObjectLike"),g=/^\[object .+?Constructor\]$/,h=Object.prototype,i=Function.prototype.toString,j=h.hasOwnProperty,k=RegExp("^"+i.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"../internal/isObjectLike":301,"./isFunction":311}],313:[function(a,b,c){function d(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=d},{}],314:[function(a,b,c){function d(a){var b;if(!g(a)||k.call(a)!=h||f(a)||!j.call(a,"constructor")&&(b=a.constructor,"function"==typeof b&&!(b instanceof b)))return!1;var c;return e(a,function(a,b){c=b}),void 0===c||j.call(a,c)}var e=a("../internal/baseForIn"),f=a("./isArguments"),g=a("../internal/isObjectLike"),h="[object Object]",i=Object.prototype,j=i.hasOwnProperty,k=i.toString;b.exports=d},{"../internal/baseForIn":266,"../internal/isObjectLike":301,"./isArguments":308}],315:[function(a,b,c){function d(a){return"string"==typeof a||e(a)&&h.call(a)==f}var e=a("../internal/isObjectLike"),f="[object String]",g=Object.prototype,h=g.toString;b.exports=d},{"../internal/isObjectLike":301}],316:[function(a,b,c){function d(a){return f(a)&&e(a.length)&&!!D[F.call(a)]}var e=a("../internal/isLength"),f=a("../internal/isObjectLike"),g="[object Arguments]",h="[object Array]",i="[object Boolean]",j="[object Date]",k="[object Error]",l="[object Function]",m="[object Map]",n="[object Number]",o="[object Object]",p="[object RegExp]",q="[object Set]",r="[object String]",s="[object WeakMap]",t="[object ArrayBuffer]",u="[object Float32Array]",v="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",y="[object Int32Array]",z="[object Uint8Array]",A="[object Uint8ClampedArray]",B="[object Uint16Array]",C="[object Uint32Array]",D={};D[u]=D[v]=D[w]=D[x]=D[y]=D[z]=D[A]=D[B]=D[C]=!0,D[g]=D[h]=D[t]=D[i]=D[j]=D[k]=D[l]=D[m]=D[n]=D[o]=D[p]=D[q]=D[r]=D[s]=!1;var E=Object.prototype,F=E.toString;b.exports=d},{"../internal/isLength":300,"../internal/isObjectLike":301}],317:[function(a,b,c){function d(a){var b=a?f(a):0;return g(b)?b?e(a):[]:h(a)}var e=a("../internal/arrayCopy"),f=a("../internal/getLength"),g=a("../internal/isLength"),h=a("../object/values");b.exports=d},{"../internal/arrayCopy":258,"../internal/getLength":290,"../internal/isLength":300,"../object/values":324}],318:[function(a,b,c){function d(a){return e(a,f(a))}var e=a("../internal/baseCopy"),f=a("../object/keysIn");b.exports=d},{"../internal/baseCopy":264,"../object/keysIn":320}],319:[function(a,b,c){var d=a("../internal/getNative"),e=a("../internal/isArrayLike"),f=a("../lang/isObject"),g=a("../internal/shimKeys"),h=d(Object,"keys"),i=h?function(a){var b=null==a?void 0:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&e(a)?g(a):f(a)?h(a):[]}:g;b.exports=i},{"../internal/getNative":292,"../internal/isArrayLike":296,"../internal/shimKeys":303,"../lang/isObject":313}],320:[function(a,b,c){function d(a){if(null==a)return[];i(a)||(a=Object(a));var b=a.length;b=b&&h(b)&&(f(a)||e(a))&&b||0;for(var c=a.constructor,d=-1,j="function"==typeof c&&c.prototype===a,l=Array(b),m=b>0;++d<b;)l[d]=d+"";for(var n in a)m&&g(n,b)||"constructor"==n&&(j||!k.call(a,n))||l.push(n);return l}var e=a("../lang/isArguments"),f=a("../lang/isArray"),g=a("../internal/isIndex"),h=a("../internal/isLength"),i=a("../lang/isObject"),j=Object.prototype,k=j.hasOwnProperty;b.exports=d},{"../internal/isIndex":297,"../internal/isLength":300,"../lang/isArguments":308,"../lang/isArray":309,"../lang/isObject":313}],321:[function(a,b,c){var d=a("../internal/createObjectMapper"),e=d();b.exports=e},{"../internal/createObjectMapper":286}],322:[function(a,b,c){var d=a("../internal/baseMerge"),e=a("../internal/createAssigner"),f=e(d);b.exports=f},{"../internal/baseMerge":274,"../internal/createAssigner":284}],323:[function(a,b,c){function d(a){a=f(a);for(var b=-1,c=e(a),d=c.length,g=Array(d);++b<d;){var h=c[b];g[b]=[h,a[h]]}return g}var e=a("./keys"),f=a("../internal/toObject");b.exports=d},{"../internal/toObject":305,"./keys":319}],324:[function(a,b,c){function d(a){return e(a,f(a))}var e=a("../internal/baseValues"),f=a("./keys");b.exports=d},{"../internal/baseValues":281,"./keys":319}],325:[function(a,b,c){function d(a){return a}b.exports=d},{}],326:[function(a,b,c){function d(a){return g(a)?e(a):f(a)}var e=a("../internal/baseProperty"),f=a("../internal/basePropertyDeep"),g=a("../internal/isKey");b.exports=d},{"../internal/baseProperty":276,"../internal/basePropertyDeep":277,"../internal/isKey":299}],327:[function(b,c,d){!function(b,d,e){function f(a,b,c){return a.addEventListener?void a.addEventListener(b,c,!1):void a.attachEvent("on"+b,c)}function g(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);return a.shiftKey||(b=b.toLowerCase()),b}return t[a.which]?t[a.which]:u[a.which]?u[a.which]:String.fromCharCode(a.which).toLowerCase()}function h(a,b){return a.sort().join(",")===b.sort().join(",")}function i(a){var b=[];return a.shiftKey&&b.push("shift"),a.altKey&&b.push("alt"),a.ctrlKey&&b.push("ctrl"),a.metaKey&&b.push("meta"),b}function j(a){return a.preventDefault?void a.preventDefault():void(a.returnValue=!1)}function k(a){return a.stopPropagation?void a.stopPropagation():void(a.cancelBubble=!0)}function l(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function m(){if(!s){s={};for(var a in t)a>95&&112>a||t.hasOwnProperty(a)&&(s[t[a]]=a)}return s}function n(a,b,c){return c||(c=m()[a]?"keydown":"keypress"),"keypress"==c&&b.length&&(c="keydown"),c}function o(a){return"+"===a?["+"]:(a=a.replace(/\+{2}/g,"+plus"),a.split("+"))}function p(a,b){var c,d,e,f=[];for(c=o(a),e=0;e<c.length;++e)d=c[e],
w[d]&&(d=w[d]),b&&"keypress"!=b&&v[d]&&(d=v[d],f.push("shift")),l(d)&&f.push(d);return b=n(d,f,b),{key:d,modifiers:f,action:b}}function q(a,b){return null===a||a===d?!1:a===b?!0:q(a.parentNode,b)}function r(a){function b(a){a=a||{};var b,c=!1;for(b in u)a[b]?c=!0:u[b]=0;c||(x=!1)}function c(a,b,c,d,e,f){var g,i,j=[],k=c.type;if(!s._callbacks[a])return[];for("keyup"==k&&l(a)&&(b=[a]),g=0;g<s._callbacks[a].length;++g)if(i=s._callbacks[a][g],(d||!i.seq||u[i.seq]==i.level)&&k==i.action&&("keypress"==k&&!c.metaKey&&!c.ctrlKey||h(b,i.modifiers))){var m=!d&&i.combo==e,n=d&&i.seq==d&&i.level==f;(m||n)&&s._callbacks[a].splice(g,1),j.push(i)}return j}function e(a,b,c,d){s.stopCallback(b,b.target||b.srcElement,c,d)||a(b,c)===!1&&(j(b),k(b))}function m(a){"number"!=typeof a.which&&(a.which=a.keyCode);var b=g(a);if(b)return"keyup"==a.type&&v===b?void(v=!1):void s.handleKey(b,i(a),a)}function n(){clearTimeout(t),t=setTimeout(b,1e3)}function o(a,c,d,f){function h(b){return function(){x=b,++u[a],n()}}function i(c){e(d,c,a),"keyup"!==f&&(v=g(c)),setTimeout(b,10)}u[a]=0;for(var j=0;j<c.length;++j){var k=j+1===c.length,l=k?i:h(f||p(c[j+1]).action);q(c[j],l,f,a,j)}}function q(a,b,d,e,f){s._directMap[a+":"+d]=b,a=a.replace(/\s+/g," ");var g,h=a.split(" ");return h.length>1?void o(a,h,b,d):(g=p(a,d),s._callbacks[g.key]=s._callbacks[g.key]||[],c(g.key,g.modifiers,{type:g.action},e,a,f),void s._callbacks[g.key][e?"unshift":"push"]({callback:b,modifiers:g.modifiers,action:g.action,seq:e,level:f,combo:a}))}var s=this;if(a=a||d,!(s instanceof r))return new r(a);s.target=a,s._callbacks={},s._directMap={};var t,u={},v=!1,w=!1,x=!1;s._handleKey=function(a,d,f){var g,h=c(a,d,f),i={},j=0,k=!1;for(g=0;g<h.length;++g)h[g].seq&&(j=Math.max(j,h[g].level));for(g=0;g<h.length;++g)if(h[g].seq){if(h[g].level!=j)continue;k=!0,i[h[g].seq]=1,e(h[g].callback,f,h[g].combo,h[g].seq)}else k||e(h[g].callback,f,h[g].combo);var m="keypress"==f.type&&w;f.type!=x||l(a)||m||b(i),w=k&&"keydown"==f.type},s._bindMultiple=function(a,b,c){for(var d=0;d<a.length;++d)q(a[d],b,c)},f(a,"keypress",m),f(a,"keydown",m),f(a,"keyup",m)}if(b){for(var s,t={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},v={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},w={option:"alt",command:"meta","return":"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},x=1;20>x;++x)t[111+x]="f"+x;for(x=0;9>=x;++x)t[x+96]=x.toString();r.prototype.bind=function(a,b,c){var d=this;return a=a instanceof Array?a:[a],d._bindMultiple.call(d,a,b,c),d},r.prototype.unbind=function(a,b){var c=this;return c.bind.call(c,a,function(){},b)},r.prototype.trigger=function(a,b){var c=this;return c._directMap[a+":"+b]&&c._directMap[a+":"+b]({},a),c},r.prototype.reset=function(){var a=this;return a._callbacks={},a._directMap={},a},r.prototype.stopCallback=function(a,b){var c=this;return(" "+b.className+" ").indexOf(" mousetrap ")>-1?!1:q(b,c.target)?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable},r.prototype.handleKey=function(){var a=this;return a._handleKey.apply(a,arguments)},r.addKeycodes=function(a){for(var b in a)a.hasOwnProperty(b)&&(t[b]=a[b]);s=null},r.init=function(){var a=r(d);for(var b in a)"_"!==b.charAt(0)&&(r[b]=function(b){return function(){return a[b].apply(a,arguments)}}(b))},r.init(),b.Mousetrap=r,"undefined"!=typeof c&&c.exports&&(c.exports=r),"function"==typeof a&&a.amd&&a(function(){return r})}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},{}],328:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],329:[function(a,b,c){"use strict";function d(){}function e(a){return function(){return a}}function f(a){return a[a.length-1]}function g(a){return[a.slice(0,-1),f(a)]}function h(a){return[a[0],a.slice(1)]}function i(a){return a.reduce(function(a,b){var c,d=b[0],e=b[1];return Ia({},a,(c={},c[d]=e,c))},{})}function j(a,b){return a&&"string"!=typeof a&&a.hasOwnProperty(b)?a[b]:null}function k(a){return"undefined"==typeof a}function l(a){return null!=a&&"object"===("undefined"==typeof a?"undefined":Ha(a))}function m(a){return Array.isArray(a)}function n(a){return"string"==typeof a}function o(a){return"number"==typeof a}function p(a){return"boolean"==typeof a}function q(a){return"function"==typeof a}function r(a){return null!==a}function s(a,b){var c={};for(var d in a)c[d]=b(a[d],d);return c}function t(a,b,c){var d=c;for(var e in a)d=b(d,a[e],e);return d}function u(a){for(var b=Math.max.apply(null,a.filter(function(a){return null!==a}).map(function(a){return a.length})),c=[],d=function(b){c.push(a.map(function(a){return null!==a&&b<a.length?a[b]:null}))},e=0;b>e;e++)d(e);return c}function v(a){for(var b=a.length,c={},d=0;b>d;d++){var e=a[d];if(null!==e)for(var f in e)c[f]=!0}var g={};for(var h in c){g[h]=Array(b);for(var i=0;b>i;i++){var k=a[i];g[h][i]=j(k,h)}}return g}function w(a,b){var c={};for(var d in a){var e=a[d];b(e,d)&&(c[d]=e)}return c}function x(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];if(!p(d))throw new Error("Not a boolean: "+d);if(d)return!0}return!1}function y(a){setTimeout(a,1)}function z(a,b){if(!n(a))throw new Error("First argument must be a string");if(!l(b))throw new Error("Second argument must be an object");return b.type=a,b}function A(a,b){if(null===b)return a===Pa;if("string"!=typeof a)throw new Error("First argument must be a string");if(k(b))throw new Error("Bad second argument");return j(b,"type")===a}function B(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;for(var d in b)if(d===Pa&&null===a||d===Ma&&m(a)||l(a)&&A(d,a))return b[d](a);return Na in b&&l(a)?b[Na](a):c(a)}function C(a){throw new Error("Unrecognized type in pattern matching: "+a)}function D(a){var b;return B(a,(b={},b[Ja]=function(){return!0},b[Ka]=function(){return!0},b[La]=function(){return!0},b[Ma]=function(a){return x(a.map(D))},b[Na]=function(a){return x(Object.keys(a).map(function(b){return D(a[b])}))},b))}function E(a,b,c){var d,e=function(c,d){var e=null===d?a:j(a,d);if(null!==a&&null===e)throw new Error("Shape of the bindings object does not match the model.Model: "+b+"  Bindings object: "+a)},f=function(b,d){E(j(a,d),b,j(c,d))};B(b,(d={},d[Ka]=function(d){if(null!==a&&x(Object.keys(a).map(function(a){return!(a in c)})))throw new Error("Shape of the bindings object does not match the model. Model: "+b+" Bindings object: "+a);s(c,e)},d[Ja]=function(d){if(null!==a&&c.length!==a.length)throw new Error("Shape of the bindings object does not match the model. Model: "+b+" Bindings object: "+a);c.map(e)},d[La]=function(a){return e(c,null)},d[Ma]=function(c){if(null!==a&&!m(a))throw new Error("Shape of the bindings object does not match the model. Model: "+b+" Bindings object: "+a);c.map(f)},d[Na]=function(c){if(null!==a&&m(a))throw new Error("Shape of the bindings object does not match the model. Model: "+b+" Bindings object: "+a);s(c,f)},d))}function F(a,b,c){return E(a,b,c),a}function G(a,b,c,e,f,g,h,i){var j=fa(a,b,h.callReducer),k=ga(a,b,h.callSignal),l=ha(a,b,h.callMethod,j,k),m={state:c,methods:l,reducers:j,signals:k,el:g,lastRenderedEl:f};if(null===g&&e!==Sa&&b.render!==d)throw new Error("No binding provided for component "+b.displayName+" at ["+a.join(", ")+"].");if(e===Sa)return b.willUnmount(m),{bindings:null,lastRenderedEl:f};var n=e===Qa||e===Ra||g!==f;e===Qa?b.willMount(m):n&&b.willUpdate(m),i.verbose&&n&&console.log("Rendering "+b.displayName+" at ["+a.join(", ")+"].");var o=n?F(b.render(m),b.model,c):null;if(n&&null===o&&D(b.model))throw new Error("The render function of component "+b.displayName+" did not return new bindings");return e===Qa?y(function(){return b.didMount(m)}):n&&y(function(){return b.didUpdate(m)}),{bindings:o,lastRenderedEl:n?g:f}}function H(a){var b;return B(a,(b={},b[Oa]=function(a){return a.data},b[Na]=function(a){return s(a,H)},b[Ma]=function(a){return a.map(H)},b[Pa]=function(){return null},b))}function I(a,b,c,d,e,f,g,h){var i,k=function(c,d){var i=c[0],k=c[1],l=null!==d?b.component:b,m=null!==d?J(a,d):a,n=null!==d?j(e,d):e,o=null!==d?j(f,d):f,p=G(m,l,k,i.data,j(n,"data"),o,g,h),q=null!==p.bindings?p.bindings:H(n.children),r=p.lastRenderedEl,s=I(m,l.model,k,i.children,j(n,"children"),q,g,h);return z(Oa,{data:r,children:s})},l=function(b,i){return I(J(a,i),b,j(c,i),d[i],j(e,i),j(f,i),g,h)};return B(b,(i={},i[Ka]=function(a){return s(v([d,c]),k)},i[Ja]=function(a){return u([d,c]).map(k)},i[La]=function(a){return k([d,c],null)},i[Ma]=function(a){return a.map(l)},i[Na]=function(a){return s(a,l)},i))}function J(a,b){if(null===b)return a;var c=a.slice(0);return c.push(b),c}function K(a,b){return null===a||null===b||a.length!==b.length?!1:a.reduce(function(a,c,d){return a&&c===b[d]},!0)}function L(a,b){return a.reduce(function(a,b){return A(Oa,a)?a.children[b]:a[b]},b)}function M(a,b,c){if(0===a.length)return c;var d,e=h(a),f=e[0],g=e[1];return"string"==typeof f?Ia({},b,(d={},d[f]=M(g,L([f],b),c),d)):[].concat(b.slice(0,f),[M(g,L([f],b),c)],b.slice(f+1))}function N(a,b,c){if(0===a.length)return c;var d=g(a),e=d[0],f=d[1],h=L(e,b);return A(Oa,h)?h.children[f]=c:h[f]=c,b}function O(a,b){var c=a;return{get:function(a){return L(a,c)},set:function(a,d){c=b?N(a,c,d):M(a,c,d)}}}function P(a,b){var c;null!==b&&B(a,(c={},c[Ka]=function(c){if(!l(b)||m(b))throw new Error("Shape of the new state does not match the model. Model: "+c+"  State: "+b);s(b,function(b){return P(a.component.model,b)})},c[Ja]=function(c){if(!m(b))throw new Error("Shape of the new state does not match the model.Model: "+c+"  State: "+b);b.map(function(b){return P(a.component.model,b)})},c[La]=function(c){P(a.model,b)},c[Ma]=function(a){if(!m(b))throw new Error("Shape of the new state does not match the model.Model: "+a+"  State: "+b);a.map(function(a,c){return P(a,j(b,c))})},c[Na]=function(a){if(!l(b)||m(b))throw new Error("Shape of the new state does not match the model. Model: "+a+"  State: "+b);s(a,function(a,c){return P(a,j(b,c))})},c))}function Q(a,b,c,d,e,f,g){var h=d(a,c),i=d(b,c);if(h&&!i)return Qa;if(h&&i){var j=null===c?a!==b:a[c]!==b[c],k=K(f,g);return j&&e({state:a,lastState:b,componentTriggeredUpdate:k})?Ra:null}return!h&&i?Sa:null}function R(a,b,c,d,e){var f;return B(a,(f={},f[Ka]=function(a){var f=function(a,b){return l(a)&&b in a&&null!==a[b]},g=Object.assign({},b||{},c||{});return s(g,function(g,h){var i=Q(b,c,h,f,a.component.shouldUpdate,J(d,h),e),k=R(a.component.model,j(b,h),j(c,h),J(d,h),e);return z(Oa,{data:i,children:k})})},f[Ja]=function(a){var f=function(a,b){return m(a)&&b<a.length&&null!==a[b]},g=Math.max(m(b)?b.length:0,m(c)?c.length:0),h=Array.apply(null,{length:g});return h.map(function(g,h){var i=Q(b,c,h,f,a.component.shouldUpdate,J(d,h),e),k=R(a.component.model,j(b,h),j(c,h),J(d,h),e);return z(Oa,{data:i,children:k})})},f[La]=function(a){var f=function(a,b){return null!==a},g=Q(b,c,null,f,a.shouldUpdate,d,e),h=R(a.model,b||null,c||null,d,e);return z(Oa,{data:g,children:h})},f[Ma]=function(a){return a.map(function(a,f){return R(a,j(b,f),j(c,f),J(d,f),e)})},f[Na]=function(a){return s(a,function(a,f){return R(a,j(b,f),j(c,f),J(d,f),e)})},f))}function S(a,b,c,d,e){var f=R(a,b,c,d,e);return{minSignals:{diff:f,address:d,modelNode:a},minUpdate:{diff:f,address:d,modelNode:a}}}function T(){var a={_onFns:[]};return a.on=function(b){if(!q(b))throw new Error('First argument to "on" must be a function');a._onFns=[].concat(a._onFns,[b])},a.call=function(){for(var b=arguments.length,c=Array(b),d=0;b>d;d++)c[d]=arguments[d];return a._onFns.map(function(a){return a.apply(void 0,c)})},a}function U(a){var b={_callFns:[]};b.call=function(){for(var a=arguments.length,c=Array(a),d=0;a>d;d++)c[d]=arguments[d];if(c.length>1||!l(c[0]))throw new Error("Call only accepts a single object as argument.");b._callFns.map(function(a){var b=a.fn;return b(c[0])})},b._onFns=[];var c=a?"onEach":"on";return b[c]=function(a){if(!q(a))throw new Error('Argument to "'+c+'" must be a function');b._onFns.push(function(b){return function(){if(arguments.length>1||!l(arguments.length<=0?void 0:arguments[0]))throw new Error("On function only accepts a single object as argument.");var c="string"==typeof b?Ia({k:b},arguments.length<=0?void 0:arguments[0]):"number"==typeof b?Ia({i:b},arguments.length<=0?void 0:arguments[0]):arguments.length<=0?void 0:arguments[0];a(c)}})},b}function V(a,b){return i(a.map(function(a){return[a,U(b)]}))}function W(a){var b;return B(a,(b={},b[Ka]=function(a){return V(a.component.signalNames,!0)},b[Ja]=function(a){return V(a.component.signalNames,!0)},b[La]=function(a){return V(a.signalNames,!1)},b[Ma]=function(a){return a.map(W).filter(r)},b[Na]=function(a){return w(s(a,W),r)},b),e(null))}function X(a,b,c){var d,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return B(a,(d={},d[Oa]=function(a){return b(c,a.data,f)},d[Ma]=function(a){return a.reduce(function(a,c,d){return X(c,b,a,J(f,d))},c)},d[Na]=function(a){return t(a,function(a,c,d){return X(c,b,a,J(f,d))},c)},d),e(c))}function Y(a,b,c){var d=V(a.signalNames,!1),e=W(a.model),f=fa(b,a,c.callReducer),g=ga(b,a,c.callSignal),h=ha(b,a,c.callMethod,f,g);return a.signalSetup({methods:h,reducers:f,signals:d,childSignals:e}),{signalsAPI:d,childSignalsAPI:e}}function Z(a,b,c,d,f){var g,h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,k=function(c,d){var e=c[0],g=c[1],k=null!==d?a.component:a,l=null!==d?J(b,d):b,m=e.data;if(m!==Qa){if(m===Sa)return null;var n=X(e.children,function(a,b,c){var d=a.hasCreated||b===Qa,e=b===Sa?[].concat(a.destroyed,[c]):a.destroyed;return{hasCreated:d,destroyed:e}},{hasCreated:!1,destroyed:[]}),o=n.hasCreated,p=n.destroyed;p.map(function(a){var b=a.reduce(function(b,c,d){if(c in b)return b[c];if(d===a.length-1)return b;throw new Error("Bad address "+a+" for object "+g.data.childSignalsAPI)},g.data.childSignalsAPI);s(b,function(b){b._callFns=b._callFns.filter(function(b){var c=b.address;return!K(c,a)})})});var q=o?g.data.childSignalsAPI:null,r=o?[]:null,t=Z(k.model,l,e.children,j(g,"children"),f,q,r);return z(Oa,{data:j(g,"data"),children:t})}var u=function(){var a=Y(k,l,f),b=a.signalsAPI,c=a.childSignalsAPI,m=null===i?null:J(i,d),n=s(v([b,h]),function(a,b){var c=a[0],e=a[1],f=T();return c._onFns.map(function(a){return f.on(a())}),c._callFns=[{fn:f.call,address:null}],null!==e&&(e._onFns.map(function(a){return f.on(a(d))}),e._callFns=[].concat(e._callFns,[{fn:f.call,address:m}])),f}),o={signals:n,signalsAPI:b,childSignalsAPI:c},p=Z(k.model,l,e.children,j(g,"children"),f,c,[]);return{v:z(Oa,{data:o,children:p})}}();return"object"===("undefined"==typeof u?"undefined":Ha(u))?u.v:void 0},l=function(a,c){var d=a[0],e=a[1],g=a[2],h=a[3],j=J(b,c),k=null===i?null:J(i,c);return Z(d,j,e,g,f,h,k)};return B(a,(g={},g[Ka]=function(a){return w(s(v([c,d]),k),r)},g[Ja]=function(a){return u([c,d]).map(k).filter(r)},g[La]=function(a){return k([c,d],null)},g[Ma]=function(a){return u([a,c,d,h]).map(l)},g[Na]=function(a){return s(v([a,c,d,h]),l)},g),e(null))}function $(a){return z(Ka,{component:a})}function _(a){return z(Ja,{component:a})}function aa(a){var b=a.state,c=a.lastState;return b!==c}function ba(a,b){s(a,function(a,c){c in b||console.error("Unexpected argument "+c)})}function ca(a){return function(){if(0===arguments.length)return a({});if(arguments.length>1||!l(arguments.length<=0?void 0:arguments[0]))throw new Error("Reducers can only take 1 or 0 arguments, and the argument should be an object.");return a(arguments.length<=0?void 0:arguments[0])}}function da(a){return s(a,function(a,b){return function(){if(1===arguments.length&&l(arguments.length<=0?void 0:arguments[0])){if("state"in(arguments.length<=0?void 0:arguments[0]))return a(arguments.length<=0?void 0:arguments[0]);throw new Error('The argument to the reducer must have a "state" attribute.')}throw new Error("Reducers can only take 1 arguments, and the argument should be an object.")}})}function ea(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b={displayName:"",signalNames:[],signalSetup:d,model:{},init:e({}),reducers:{},methods:{},willMount:d,didMount:d,shouldUpdate:aa,willUpdate:d,didUpdate:d,willUnmount:d,render:d};if(ba(a,b),"init"in a&&(a.init=ca(a.init)),"reducers"in a&&(a.reducersRaw=a.reducers,a.reducers=da(a.reducers)),a.model&&A(La,a.model))throw new Error("The model cannot be another Component. The top level of the model should be an array or an object literal");return z(La,Ia({},b,a))}function fa(a,b,c){return s(b.reducersRaw,function(d,e){return function(){if(0===arguments.length)c(a,b,d,{},e);else{if(arguments.length>1||!l(arguments.length<=0?void 0:arguments[0]))throw new Error("Reducers can only take 1 or 0 arguments, and the argument should be an object.");c(a,b,d,arguments.length<=0?void 0:arguments[0],e)}}})}function ga(a,b,c){return i(b.signalNames.map(function(b){return[b,{call:function(d){return c(a,b,d)}}]}))}function ha(a,b,c,d,e){var f=s(b.methods,function(b){return function(g){"undefined"!=typeof Event&&g instanceof Event?c(a,b,e,f,d,this,g,{}):c(a,b,e,f,d,null,null,g)}});return f}function ia(a,b){return function(b,c,d,e,f,g,h,i){if(null===a.get([]))throw new Error("Cannot call method before the app is initialized (e.g. in signalSetup).");var j=a.get(b);c(Ia({state:j,signals:d,methods:e,reducers:f,target:g,event:h},i))}}function ja(a,b){return function(c,d,e){b.verbose&&console.log("Called signal "+d+" at ["+c.join(", ")+"]."),a.get(c).data.signals[d].call(e)}}function ka(a,b,c,d,e,f){return function(g,h,i,j,k){if(!q(i))throw new Error("Reducer "+k+" is not a function");var l=b.get(g),m=i(Ia({},j,{state:l}));f.verbose&&(console.log("Called reducer "+k+" for "+h.displayName+" at ["+g.join(", ")+"]."),console.log(l),console.log(m)),P(h.model,m);var n=b.get([]);b.set(g,m);var o=S(a,b.get([]),n,[],g),p=o.minSignals,r=o.minUpdate,s=d.get(p.address),t=Z(p.modelNode,p.address,p.diff,s,e);d.set(p.address,t);var u=c.get(r.address),v=u.data,w=b.get(r.address),x=I(r.address,r.modelNode,w,r.diff,u,v,e,f);c.set(r.address,x)}}function la(a,b,c,d,e){var f={};return f.callMethod=ia(b,e),f.callSignal=ja(d,e),f.callReducer=ka(a,b,c,d,f,e),f}function ma(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=O(null,!1),e=z(Oa,{data:b,children:null}),f=O(e,!0),g=O(null,!0),h=la(a,d,f,g,c),i="initialState"in c?c.initialState:a.init(),k=function(a){var b=a.newState;return b},l=function(b){return h.callReducer([],a,k,{newState:b},"setState")};l(i);var m=function(){return d.get([])},n=function(a){return d.set([],a)},o=fa([],a,h.callReducer),p=ga([],a,h.callSignal),q=ha([],a,h.callMethod,o,p),r=j(g.get([]).data,"signals");return{setState:l,setStateNoRender:n,getState:m,reducers:o,methods:q,signals:r}}function na(a){var b={};for(var c in a)b[a[c]]=c;return b}function oa(a,b){var c={};return a.map(function(a){return c[a[b]]=a}),c}function pa(a,b){if(k(a[0]))return b;var c=a[0];if(n(c)){var d;return d={},d[c]=pa(a.slice(1),b),d}var e=Array(c+1);return e[c]=pa(a.slice(1),b),e}function qa(a){for(var b=0,c=0,d=a.length;d>c;c++){var e=a[c];if(!m(e))throw Error("Incompatible bindings: mix of types");var f=e.length;f>b&&(b=f)}for(var g=[],h=0;b>h;h++)for(var i=0,j=a.length;j>i;i++){var k=a[i];null!=k[h]&&(null!=g[h]?g[h]=sa([k[h],g[h]]):g[h]=k[h])}return g}function ra(a){return a.reduce(function(a,b){if(m(b))throw Error("Incompatible bindings: mix of types");for(var c in b)b[c]&&(a[c]?a[c]=sa([b[c],a[c]]):a[c]=b[c]);return a},{})}function sa(a){return m(a[0])?qa(a):ra(a)}function ta(a){return a&&"object"===("undefined"==typeof a?"undefined":Ha(a))&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName}function ua(a){return a&&"object"===("undefined"==typeof a?"undefined":Ha(a))&&null!==a&&3===a.nodeType&&"string"==typeof a.nodeName}function va(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;c>e;e++)d[e-2]=arguments[e];var f=null==b?{}:b;return z(Ua,{tagName:a,attributes:f,children:d})}function wa(a){var b=m(a)?a:[a];return z(Ta,{address:b})}function xa(a){var b=a.indexOf(":");if(-1!==b){var c=a.slice(0,b);if(c in Za){var d="xmlns"===c?a:a.slice(b+1);return{name:d,explicit:Za[c]}}return{name:a,explicit:null}}return{name:a,explicit:null}}function ya(a,b){var c=a.tagName,d=xa(c),e=d.name,f=d.explicit,g=null!==f?f:c in Za?Za[c]:b.namespaceURI,h=g===Za.xhtml?document.createElement(e):document.createElementNS(g,e);return Da(h,a)}function za(a){for(var b=/([^:; ]+):/g,c=[],d=void 0;null!==(d=b.exec(a));)c.push(d[1]);return c}function Aa(a){return a.replace(/-(.)/g,function(a){return a.toUpperCase()}).replace(/-/g,"")}function Ba(a){return a.slice(2).toLowerCase()}function Ca(a,b,c,d){var e=d===!0?c:d;a===Za.xhtml?b.setAttribute(c,e):b.setAttributeNS(a,c,e)}function Da(a,b){var c=null,d=a.namespaceURI;a.hasOwnProperty(Va)&&(s(a[Va],function(b,c){a.removeEventListener(c,b)}),delete a[Va]),s(b.attributes,function(e,f){if("id"===f)a.id=e;else if("style"!==f||n(e))if(0===f.indexOf("on")){if(a.hasOwnProperty(Va)||(a[Va]={}),null!==e){var g=Ba(f);if(!q(e)&&null!==e)throw new Error(e+" is not a function.");a[Va][g]=e,a.addEventListener(g,e)}}else if(f in Wa){var h=xa(f),i=(h.name,h.explicit);Ca(null!==i?i:d,a,Wa[i],e)}else if(f in Ya)Ya[f](a,b.tagName,e);else if("then"===f){if(null!==e){if(!q(e))throw new Error(e+" is not a function or null.");c=e}}else{var j=xa(f),k=j.name,l=j.explicit;Ca(null!==l?l:d,a,k,e)}else s(e,function(b,c){a.style.setProperty(c,b)})});for(var e=[],f=0,g=a.attributes.length;g>f;f++)e.push(a.attributes[f].name);e.filter(function(a){return!(a in b.attributes)||b.attributes[a]===!1}).map(function(c){c in Xa?a.removeAttribute(Xa[c]):c in Ya?Ya[c](a,b.tagName):a.removeAttribute(c)});var h=b.attributes.style;return h&&!n(h)&&za(a.style.cssText).filter(function(a){return!(a in h||Aa(a)in h)}).map(function(b){return a.style.removeProperty(b)}),c&&y(function(){return c(a)}),a}function Ea(a){return a.reduce(function(a,b){return m(b)?[].concat(a,b):[].concat(a,[b])},[]).filter(r)}function Fa(a,b){for(var c=a.childNodes.length-1;c>=b;c--)a.removeChild(a.childNodes[c])}function Ga(a){if(!ta(a))throw new Error("First argument must be a DOM Element.");for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];var e=Ea(c),f=j(e,0);if($a(f)){if(1!==e.length)throw new Error("A binding cannot have siblings in TinierDOM. At binding: [ "+f.address.join(", ")+" ].");return sa([pa(f.address,a)])}var g=Array.from(a.children).filter(function(a){return a.id}),h=oa(g,"id"),i=e.map(function(b,c){if(k(b))throw new Error("Children in Tinier Elements cannot be undefined.");if(_a(b)){var d=a.childNodes[c];if(b.attributes.id in h){var e=h[b.attributes.id];return d?a.replaceChild(e,d):a.appendChild(e),Ga.apply(void 0,[e].concat(b.children))}if(d){if(d.tagName&&d.tagName.toLowerCase()===b.tagName.toLowerCase()){var f=d.id?d.cloneNode(!0):d;return Da(f,b),d.id&&a.replaceChild(f,d),Ga.apply(void 0,[f].concat(b.children))}var g=ya(b,a);return a.replaceChild(g,d),Ga.apply(void 0,[g].concat(b.children))}var i=ya(b,a);return a.appendChild(i),Ga.apply(void 0,[i].concat(b.children))}if($a(b))throw new Error("A binding cannot have siblings in TinierDOM. At binding: [ "+b.address.join(", ")+" ].");var j=a.childNodes[c],l=String(b);return ua(j)?j.textContent=l:j?a.replaceChild(document.createTextNode(l),j):a.appendChild(document.createTextNode(l)),null});return Fa(a,e.length),sa(i.filter(function(a){return null!==a}))}c.__esModule=!0;var Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ia=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};c.tail=g,c.head=h,c.fromPairs=i,c.get=j,c.isUndefined=k,c.isObject=l,c.isArray=m,c.isString=n,c.isNumber=o,c.isBoolean=p,c.isFunction=q,c.notNull=r,c.mapValues=s,c.reduceValues=t,c.zipArrays=u,c.zipObjects=v,c.filterValues=w,c.any=x,c.tagType=z,c.checkType=A,c.match=B,c.hasChildren=D,c.checkRenderResult=F,c.updateEl=G,c.addressWith=J,c.addressEqual=K,c.makeTree=O,c.checkState=P,c.diffWithModelMin=S,c.makeSignal=T,c.makeOneSignalAPI=U,c.makeChildSignalsAPI=W,c.reduceChildren=X,c.mergeSignals=Z,c.objectOf=$,c.arrayOf=_,c.createComponent=ea,c.patchMethods=ha,c.makeCallMethod=ia,c.makeCallReducer=ka,c.makeStateCallers=la,c.run=ma,c.addressToObj=pa,c.objectForBindings=sa,c.createElement=va,c.bind=wa,c.createDOMElement=ya,c.getStyles=za,c.updateDOMElement=Da,c.render=Ga;var Ja=c.ARRAY_OF="@TINIER_ARRAY_OF",Ka=c.OBJECT_OF="@TINIER_OBJECT_OF",La=c.COMPONENT="@TINIER_COMPONENT",Ma=c.ARRAY="@TINIER_ARRAY",Na=c.OBJECT="@TINIER_OBJECT",Oa=c.NODE="@TINIER_NODE",Pa=c.NULL="@TINIER_NULL",Qa=(c.STRING="@TINIER_STRING",c.NUMBER="@TINIER_NUMBER",c.BOOLEAN="@TINIER_BOOLEAN",c.ANY="@TINIER_ANY",c.NO_ARGUMENT="@TINIER_NO_ARGUMENT",c.TOP="@TINIER_TOP",c.CREATE="@TINIER_CREATE"),Ra=c.UPDATE="@TINIER_UPDATE",Sa=c.DESTROY="@TINIER_DESTROY",Ta=c.BINDING="@TINIER_BINDING",Ua=c.ELEMENT="@TINIER_ELEMENT",Va="@TINIER_LISTENERS",Wa={},Xa=na(Wa),Ya={checked:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;if("input"!==b)throw new Error('"checked" attribute is only supported on input elements.');a.checked=c},value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!1;if(-1===["input","textarea"].indexOf(b))throw new Error('"value" attribute is only supported on input and textarea elements.');a.value=c}},Za={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},$a=function(a){return A(Ta,a)},_a=function(a){return A(Ua,a)};c["default"]={arrayOf:_,objectOf:$,createComponent:ea,run:ma,bind:wa,createElement:va,render:Ga}},{}],330:[function(a,b,c){var d,e=/%(\+)?(\d+\$)?(0|'.)?(-)?(\d+)?(\.\d+)?(.)/g,f=function(a){for(var b,c,g,h,i,j=1;c=e.exec(a);){if(b=c[7],(h=c[2])&&"$"==h[g=h.length-1]&&(h=h.substr(0,g)),f[g=b.toLowerCase()]&&(i=f[g](arguments[h||j],/[A-Z]/.test(b),c[1]))!==d){if(b=""+i,(g=c[3])?"'"==g[0]&&(g=g[1]):g=" ",h=c[5])for(;b.length<h;)b=c[4]?b+g:g+b;(g=c[6]&&c[6].substr(1))&&b.length>g&&(b=c[4]?b.substr(0,g):b.substr(b.length-g)),j++}a=a.substr(0,g=c.index)+b+a.substr(e.lastIndex),e.lastIndex=b.length+g}return a};f.s=function(a,b){return b?d:a+""},b.exports=f},{}],331:[function(b,c,d){(function(){function b(a){function b(b,c,d,e,f,g){for(;f>=0&&g>f;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=w(d,f,4);var g=!D(c)&&v.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function e(a){return function(b,c,d){c=x(c,d);for(var e=C(b),f=a>0?0:e-1;f>=0&&e>f;f+=a)if(c(b[f],f,b))return f;return-1}}function f(a,b,c){return function(d,e,f){var g=0,h=C(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(n.call(d,g,h),v.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&h>f;f+=a)if(d[f]===e)return f;return-1}}function g(a,b){var c=I.length,d=a.constructor,e=v.isFunction(d)&&d.prototype||k,f="constructor";for(v.has(a,f)&&!v.contains(b,f)&&b.push(f);c--;)f=I[c],f in a&&a[f]!==e[f]&&!v.contains(b,f)&&b.push(f)}var h=this,i=h._,j=Array.prototype,k=Object.prototype,l=Function.prototype,m=j.push,n=j.slice,o=k.toString,p=k.hasOwnProperty,q=Array.isArray,r=Object.keys,s=l.bind,t=Object.create,u=function(){},v=function(a){return a instanceof v?a:this instanceof v?void(this._wrapped=a):new v(a)};"undefined"!=typeof d?("undefined"!=typeof c&&c.exports&&(d=c.exports=v),d._=v):h._=v,v.VERSION="1.8.3";var w=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},x=function(a,b,c){return null==a?v.identity:v.isFunction(a)?w(a,b,c):v.isObject(a)?v.matcher(a):v.property(a)};v.iteratee=function(a,b){return x(a,b,1/0)};var y=function(a,b){return function(c){var d=arguments.length;if(2>d||null==c)return c;for(var e=1;d>e;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;h>i;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},z=function(a){if(!v.isObject(a))return{};if(t)return t(a);u.prototype=a;var b=new u;return u.prototype=null,b},A=function(a){return function(b){return null==b?void 0:b[a]}},B=Math.pow(2,53)-1,C=A("length"),D=function(a){var b=C(a);return"number"==typeof b&&b>=0&&B>=b};v.each=v.forEach=function(a,b,c){b=w(b,c);var d,e;if(D(a))for(d=0,e=a.length;e>d;d++)b(a[d],d,a);else{var f=v.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},v.map=v.collect=function(a,b,c){b=x(b,c);for(var d=!D(a)&&v.keys(a),e=(d||a).length,f=Array(e),g=0;e>g;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},v.reduce=v.foldl=v.inject=b(1),v.reduceRight=v.foldr=b(-1),v.find=v.detect=function(a,b,c){var d;return d=D(a)?v.findIndex(a,b,c):v.findKey(a,b,c),void 0!==d&&-1!==d?a[d]:void 0},v.filter=v.select=function(a,b,c){var d=[];return b=x(b,c),v.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},v.reject=function(a,b,c){return v.filter(a,v.negate(x(b)),c)},v.every=v.all=function(a,b,c){b=x(b,c);for(var d=!D(a)&&v.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},v.some=v.any=function(a,b,c){b=x(b,c);for(var d=!D(a)&&v.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},v.contains=v.includes=v.include=function(a,b,c,d){return D(a)||(a=v.values(a)),("number"!=typeof c||d)&&(c=0),v.indexOf(a,b,c)>=0},v.invoke=function(a,b){var c=n.call(arguments,2),d=v.isFunction(b);return v.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c);
})},v.pluck=function(a,b){return v.map(a,v.property(b))},v.where=function(a,b){return v.filter(a,v.matcher(b))},v.findWhere=function(a,b){return v.find(a,v.matcher(b))},v.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b&&null!=a){a=D(a)?a:v.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],d>f&&(f=d)}else b=x(b,c),v.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},v.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=D(a)?a:v.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],f>d&&(f=d)}else b=x(b,c),v.each(a,function(a,c,d){e=b(a,c,d),(g>e||e===1/0&&f===1/0)&&(f=a,g=e)});return f},v.shuffle=function(a){for(var b,c=D(a)?a:v.values(a),d=c.length,e=Array(d),f=0;d>f;f++)b=v.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},v.sample=function(a,b,c){return null==b||c?(D(a)||(a=v.values(a)),a[v.random(a.length-1)]):v.shuffle(a).slice(0,Math.max(0,b))},v.sortBy=function(a,b,c){return b=x(b,c),v.pluck(v.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var E=function(a){return function(b,c,d){var e={};return c=x(c,d),v.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};v.groupBy=E(function(a,b,c){v.has(a,c)?a[c].push(b):a[c]=[b]}),v.indexBy=E(function(a,b,c){a[c]=b}),v.countBy=E(function(a,b,c){v.has(a,c)?a[c]++:a[c]=1}),v.toArray=function(a){return a?v.isArray(a)?n.call(a):D(a)?v.map(a,v.identity):v.values(a):[]},v.size=function(a){return null==a?0:D(a)?a.length:v.keys(a).length},v.partition=function(a,b,c){b=x(b,c);var d=[],e=[];return v.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},v.first=v.head=v.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:v.initial(a,a.length-b)},v.initial=function(a,b,c){return n.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},v.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:v.rest(a,Math.max(0,a.length-b))},v.rest=v.tail=v.drop=function(a,b,c){return n.call(a,null==b||c?1:b)},v.compact=function(a){return v.filter(a,v.identity)};var F=function(a,b,c,d){for(var e=[],f=0,g=d||0,h=C(a);h>g;g++){var i=a[g];if(D(i)&&(v.isArray(i)||v.isArguments(i))){b||(i=F(i,b,c));var j=0,k=i.length;for(e.length+=k;k>j;)e[f++]=i[j++]}else c||(e[f++]=i)}return e};v.flatten=function(a,b){return F(a,b,!1)},v.without=function(a){return v.difference(a,n.call(arguments,1))},v.uniq=v.unique=function(a,b,c,d){v.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=x(c,d));for(var e=[],f=[],g=0,h=C(a);h>g;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?v.contains(f,j)||(f.push(j),e.push(i)):v.contains(e,i)||e.push(i)}return e},v.union=function(){return v.uniq(F(arguments,!0,!0))},v.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=C(a);e>d;d++){var f=a[d];if(!v.contains(b,f)){for(var g=1;c>g&&v.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},v.difference=function(a){var b=F(arguments,!0,!0,1);return v.filter(a,function(a){return!v.contains(b,a)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(a){for(var b=a&&v.max(a,C).length||0,c=Array(b),d=0;b>d;d++)c[d]=v.pluck(a,d);return c},v.object=function(a,b){for(var c={},d=0,e=C(a);e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},v.findIndex=e(1),v.findLastIndex=e(-1),v.sortedIndex=function(a,b,c,d){c=x(c,d,1);for(var e=c(b),f=0,g=C(a);g>f;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},v.indexOf=f(1,v.findIndex,v.sortedIndex),v.lastIndexOf=f(-1,v.findLastIndex),v.range=function(a,b,c){null==b&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e};var G=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=z(a.prototype),g=a.apply(f,e);return v.isObject(g)?g:f};v.bind=function(a,b){if(s&&a.bind===s)return s.apply(a,n.call(arguments,1));if(!v.isFunction(a))throw new TypeError("Bind must be called on a function");var c=n.call(arguments,2),d=function(){return G(a,d,b,this,c.concat(n.call(arguments)))};return d},v.partial=function(a){var b=n.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),g=0;e>g;g++)f[g]=b[g]===v?arguments[d++]:b[g];for(;d<arguments.length;)f.push(arguments[d++]);return G(a,c,this,this,f)};return c},v.bindAll=function(a){var b,c,d=arguments.length;if(1>=d)throw new Error("bindAll must be passed function names");for(b=1;d>b;b++)c=arguments[b],a[c]=v.bind(a[c],a);return a},v.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return v.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},v.delay=function(a,b){var c=n.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},v.defer=v.partial(v.delay,v,1),v.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:v.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=v.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},v.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=v.now()-g;b>j&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=v.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},v.wrap=function(a,b){return v.partial(b,a)},v.negate=function(a){return function(){return!a.apply(this,arguments)}},v.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},v.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},v.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}},v.once=v.partial(v.before,2);var H=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(a){if(!v.isObject(a))return[];if(r)return r(a);var b=[];for(var c in a)v.has(a,c)&&b.push(c);return H&&g(a,b),b},v.allKeys=function(a){if(!v.isObject(a))return[];var b=[];for(var c in a)b.push(c);return H&&g(a,b),b},v.values=function(a){for(var b=v.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},v.mapObject=function(a,b,c){b=x(b,c);for(var d,e=v.keys(a),f=e.length,g={},h=0;f>h;h++)d=e[h],g[d]=b(a[d],d,a);return g},v.pairs=function(a){for(var b=v.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},v.invert=function(a){for(var b={},c=v.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},v.functions=v.methods=function(a){var b=[];for(var c in a)v.isFunction(a[c])&&b.push(c);return b.sort()},v.extend=y(v.allKeys),v.extendOwn=v.assign=y(v.keys),v.findKey=function(a,b,c){b=x(b,c);for(var d,e=v.keys(a),f=0,g=e.length;g>f;f++)if(d=e[f],b(a[d],d,a))return d},v.pick=function(a,b,c){var d,e,f={},g=a;if(null==g)return f;v.isFunction(b)?(e=v.allKeys(g),d=w(b,c)):(e=F(arguments,!1,!1,1),d=function(a,b,c){return b in c},g=Object(g));for(var h=0,i=e.length;i>h;h++){var j=e[h],k=g[j];d(k,j,g)&&(f[j]=k)}return f},v.omit=function(a,b,c){if(v.isFunction(b))b=v.negate(b);else{var d=v.map(F(arguments,!1,!1,1),String);b=function(a,b){return!v.contains(d,b)}}return v.pick(a,b,c)},v.defaults=y(v.allKeys,!0),v.create=function(a,b){var c=z(a);return b&&v.extendOwn(c,b),c},v.clone=function(a){return v.isObject(a)?v.isArray(a)?a.slice():v.extend({},a):a},v.tap=function(a,b){return b(a),a},v.isMatch=function(a,b){var c=v.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;d>f;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var J=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof v&&(a=a._wrapped),b instanceof v&&(b=b._wrapped);var e=o.call(a);if(e!==o.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(g!==h&&!(v.isFunction(g)&&g instanceof g&&v.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if(i=a.length,i!==b.length)return!1;for(;i--;)if(!J(a[i],b[i],c,d))return!1}else{var j,k=v.keys(a);if(i=k.length,v.keys(b).length!==i)return!1;for(;i--;)if(j=k[i],!v.has(b,j)||!J(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0};v.isEqual=function(a,b){return J(a,b)},v.isEmpty=function(a){return null==a?!0:D(a)&&(v.isArray(a)||v.isString(a)||v.isArguments(a))?0===a.length:0===v.keys(a).length},v.isElement=function(a){return!(!a||1!==a.nodeType)},v.isArray=q||function(a){return"[object Array]"===o.call(a)},v.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){v["is"+a]=function(b){return o.call(b)==="[object "+a+"]"}}),v.isArguments(arguments)||(v.isArguments=function(a){return v.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(a){return"function"==typeof a||!1}),v.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},v.isNaN=function(a){return v.isNumber(a)&&a!==+a},v.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===o.call(a)},v.isNull=function(a){return null===a},v.isUndefined=function(a){return void 0===a},v.has=function(a,b){return null!=a&&p.call(a,b)},v.noConflict=function(){return h._=i,this},v.identity=function(a){return a},v.constant=function(a){return function(){return a}},v.noop=function(){},v.property=A,v.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},v.matcher=v.matches=function(a){return a=v.extendOwn({},a),function(b){return v.isMatch(b,a)}},v.times=function(a,b,c){var d=Array(Math.max(0,a));b=w(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},v.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},v.now=Date.now||function(){return(new Date).getTime()};var K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},L=v.invert(K),M=function(a){var b=function(b){return a[b]},c="(?:"+v.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};v.escape=M(K),v.unescape=M(L),v.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),v.isFunction(d)?d.call(a):d};var N=0;v.uniqueId=function(a){var b=++N+"";return a?a+b:b},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\u2028|\u2029/g,R=function(a){return"\\"+P[a]};v.template=function(a,b,c){!b&&c&&(b=c),b=v.defaults({},b,v.templateSettings);var d=RegExp([(b.escape||O).source,(b.interpolate||O).source,(b.evaluate||O).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(Q,R),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,v)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},v.chain=function(a){var b=v(a);return b._chain=!0,b};var S=function(a,b){return a._chain?v(b).chain():b};v.mixin=function(a){v.each(v.functions(a),function(b){var c=v[b]=a[b];v.prototype[b]=function(){var a=[this._wrapped];return m.apply(a,arguments),S(this,c.apply(v,a))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=j[a];v.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],S(this,c)}}),v.each(["concat","join","slice"],function(a){var b=j[a];v.prototype[a]=function(){return S(this,b.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof a&&a.amd&&a("underscore",[],function(){return v})}).call(this)},{}],332:[function(a,b,c){function d(a){var b="    ";if(isNaN(parseInt(a)))b=a;else switch(a){case 1:b=" ";break;case 2:b="  ";break;case 3:b="   ";break;case 4:b="    ";break;case 5:b="     ";break;case 6:b="      ";break;case 7:b="       ";break;case 8:b="        ";break;case 9:b="         ";break;case 10:b="          ";break;case 11:b="           ";break;case 12:b="            "}var c=["\n"];for(ix=0;ix<100;ix++)c.push(c[ix]+b);return c}function e(){this.step="    ",this.shift=d(this.step)}function f(a,b){return b-(a.replace(/\(/g,"").length-a.replace(/\)/g,"").length)}function g(a,b){return a.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+b+b+"AND ").replace(/ BETWEEN /gi,"~::~"+b+"BETWEEN ").replace(/ CASE /gi,"~::~"+b+"CASE ").replace(/ ELSE /gi,"~::~"+b+"ELSE ").replace(/ END /gi,"~::~"+b+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+b+"ON ").replace(/ OR /gi,"~::~"+b+b+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+b+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+b).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+b+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}e.prototype.xml=function(a,b){var c=a.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),e=c.length,f=!1,g=0,h="",i=0,j=b?d(b):this.shift;for(i=0;e>i;i++)c[i].search(/<!/)>-1?(h+=j[g]+c[i],f=!0,(c[i].search(/-->/)>-1||c[i].search(/\]>/)>-1||c[i].search(/!DOCTYPE/)>-1)&&(f=!1)):c[i].search(/-->/)>-1||c[i].search(/\]>/)>-1?(h+=c[i],f=!1):/^<\w/.exec(c[i-1])&&/^<\/\w/.exec(c[i])&&/^<[\w:\-\.\,]+/.exec(c[i-1])==/^<\/[\w:\-\.\,]+/.exec(c[i])[0].replace("/","")?(h+=c[i],f||g--):c[i].search(/<\w/)>-1&&-1==c[i].search(/<\//)&&-1==c[i].search(/\/>/)?h=h+=f?c[i]:j[g++]+c[i]:c[i].search(/<\w/)>-1&&c[i].search(/<\//)>-1?h=h+=f?c[i]:j[g]+c[i]:c[i].search(/<\//)>-1?h=h+=f?c[i]:j[--g]+c[i]:c[i].search(/\/>/)>-1?h=h+=f?c[i]:j[g]+c[i]:h+=c[i].search(/<\?/)>-1?j[g]+c[i]:c[i].search(/xmlns\:/)>-1||c[i].search(/xmlns\=/)>-1?j[g]+c[i]:c[i];return"\n"==h[0]?h.slice(1):h},e.prototype.json=function(a,b){var b=b?b:this.step;return"undefined"==typeof JSON?a:"string"==typeof a?JSON.stringify(JSON.parse(a),null,b):"object"==typeof a?JSON.stringify(a,null,b):a},e.prototype.css=function(a,b){var c=a.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),e=c.length,f=0,g="",h=0,i=b?d(b):this.shift;for(h=0;e>h;h++)g+=/\{/.exec(c[h])?i[f++]+c[h]:/\}/.exec(c[h])?i[--f]+c[h]:/\*\\/.exec(c[h])?i[f]+c[h]:i[f]+c[h];return g.replace(/^\n{1,}/,"")},e.prototype.sql=function(a,b){var c=a.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),e=c.length,h=[],i=0,j=this.step,k=0,l="",m=0,n=b?d(b):this.shift;for(m=0;e>m;m++)h=m%2?h.concat(c[m]):h.concat(g(c[m],j));for(e=h.length,m=0;e>m;m++){k=f(h[m],k),/\s{0,}\s{0,}SELECT\s{0,}/.exec(h[m])&&(h[m]=h[m].replace(/\,/g,",\n"+j+j)),/\s{0,}\s{0,}SET\s{0,}/.exec(h[m])&&(h[m]=h[m].replace(/\,/g,",\n"+j+j)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(h[m])?(i++,l+=n[i]+h[m]):/\'/.exec(h[m])?(1>k&&i&&i--,l+=h[m]):(l+=n[i]+h[m],1>k&&i&&i--)}return l=l.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},e.prototype.xmlmin=function(a,b){var c=b?a:a.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns");return c.replace(/>\s{0,}</g,"><")},e.prototype.jsonmin=function(a){return"undefined"==typeof JSON?a:JSON.stringify(JSON.parse(a),null,0)},e.prototype.cssmin=function(a,b){var c=b?a:a.replace(/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\//g,"");return c.replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},e.prototype.sqlmin=function(a){return a.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},b.exports=new e},{}]},{},[31])(31)});
//# sourceMappingURL=escher.min.js.map